<div class="flex flex-col min-h-screen font-sans">
  <!-- Header -->
  <header
    class="bg-white shadow-sm p-4 border-b border-slate-200 z-20 sticky top-0"
  >
    <div class="container mx-auto flex justify-between items-center gap-4">
      <!-- H1 SEO -->
      <h1 class="text-2xl font-bold text-slate-800">
        <a
          routerLink="/"
          aria-label="Cafeteras Review - Comparativas y opiniones de cafeteras"
        >
          <span class="text-orange-600">Cafeteras</span> Review
        </a>
      </h1>

      <div class="text-xs text-slate-500 text-right hidden sm:block">
        <p>Tu guía de compra y análisis</p>
        <p class="font-semibold">Datos desde Backend</p>
      </div>
    </div>
  </header>

  <!-- Contenido principal -->
  <main id="contenido-principal" class="flex-1">
    <router-outlet></router-outlet>
  </main>

  <!-- Botón asistente -->
  <button
    (click)="toggleChat()"
    aria-label="Asistente de recomendaciones de cafeteras"
    title="Asistente de recomendaciones de cafeteras"
    class="fixed bottom-5 right-5 bg-orange-500 text-white rounded-full p-4 shadow-lg hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transform hover:scale-110 active:scale-100 transition-all z-30"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-8 w-8"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      aria-hidden="true"
    >
      <path
        d="m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"
      ></path>
      <path
        d="m12 15-2-2 4-4-2-2 4-4"
      ></path>
    </svg>
  </button>

  <!-- Asistente (si está activo) -->
  @if (isChatVisible()) {
    <app-chat-assistant (closeChat)="toggleChat()" />
  }

  <!-- Footer -->
  <footer class="bg-slate-50 p-6 border-t border-slate-200 mt-auto">
    <div class="container mx-auto text-center">
      <p class="text-xs text-slate-500 mb-4">
        Como Afiliado de Amazon, obtengo ingresos por las compras adscritas que
        cumplen los requisitos aplicables.
      </p>

      <nav
        class="flex justify-center items-center gap-4 text-xs text-slate-500"
        aria-label="Enlaces legales"
      >
        <a
          routerLink="/aviso-legal"
          rel="nofollow"
          class="hover:text-orange-600 hover:underline"
        >
          Aviso Legal
        </a>

        <span class="text-slate-300">|</span>

        <a
          routerLink="/politica-privacidad"
          rel="nofollow"
          class="hover:text-orange-600 hover:underline"
        >
          Política de Privacidad
        </a>

        <span class="text-slate-300">|</span>

        <a
          routerLink="/politica-cookies"
          rel="nofollow"
          class="hover:text-orange-600 hover:underline"
        >
          Política de Cookies
        </a>
      </nav>
    </div>
  </footer>
</div>
