var iP=Object.defineProperty,sP=Object.defineProperties;var oP=Object.getOwnPropertyDescriptors;var b0=Object.getOwnPropertySymbols;var aP=Object.prototype.hasOwnProperty,lP=Object.prototype.propertyIsEnumerable;var N0=(t,e,n)=>e in t?iP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||={})aP.call(e,n)&&N0(t,n,e[n]);if(b0)for(var n of b0(e))lP.call(e,n)&&N0(t,n,e[n]);return t},G=(t,e)=>sP(t,oP(e));var M0=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),Da=class t{element=null;classNames=[];attrs=[];notSelectors=[];static parse(e){let n=[],r=(l,u)=>{u.notSelectors.length>0&&!u.element&&u.classNames.length==0&&u.attrs.length==0&&(u.element="*"),l.push(u)},i=new t,s,o=i,a=!1;for(M0.lastIndex=0;s=M0.exec(e);){if(s[1]){if(a)throw new Error("Nesting :not in a selector is not allowed");a=!0,o=new t,i.notSelectors.push(o)}let l=s[2];if(l){let d=s[3];d==="#"?o.addAttribute("id",l.slice(1)):d==="."?o.addClassName(l.slice(1)):o.setElement(l)}let u=s[4];if(u&&o.addAttribute(o.unescapeAttribute(u),s[6]),s[7]&&(a=!1,o=i),s[8]){if(a)throw new Error("Multiple selectors in :not are not supported");r(n,i),i=o=new t}}return r(n,i),n}unescapeAttribute(e){let n="",r=!1;for(let i=0;i<e.length;i++){let s=e.charAt(i);if(s==="\\"){r=!0;continue}if(s==="$"&&!r)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);r=!1,n+=s}return n}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&this.classNames.length==0&&this.attrs.length==0&&this.notSelectors.length===0}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getAttrs(){let e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,n=""){this.attrs.push(e,n&&n.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(n=>e+=`.${n}`),this.attrs)for(let n=0;n<this.attrs.length;n+=2){let r=this.escapeAttribute(this.attrs[n]),i=this.attrs[n+1];e+=`[${r}${i?"="+i:""}]`}return this.notSelectors.forEach(n=>e+=`:not(${n})`),e}},pf=class t{static createNotMatcher(e){let n=new t;return n.addSelectables(e,null),n}_elementMap=new Map;_elementPartialMap=new Map;_classMap=new Map;_classPartialMap=new Map;_attrValueMap=new Map;_attrValuePartialMap=new Map;_listContexts=[];addSelectables(e,n){let r=null;e.length>1&&(r=new Pv(e),this._listContexts.push(r));for(let i=0;i<e.length;i++)this._addSelectable(e[i],n,r)}_addSelectable(e,n,r){let i=this,s=e.element,o=e.classNames,a=e.attrs,l=new Lv(e,n,r);if(s&&(a.length===0&&o.length===0?this._addTerminal(i._elementMap,s,l):i=this._addPartial(i._elementPartialMap,s)),o)for(let u=0;u<o.length;u++){let d=a.length===0&&u===o.length-1,p=o[u];d?this._addTerminal(i._classMap,p,l):i=this._addPartial(i._classPartialMap,p)}if(a)for(let u=0;u<a.length;u+=2){let d=u===a.length-2,p=a[u],h=a[u+1];if(d){let m=i._attrValueMap,v=m.get(p);v||(v=new Map,m.set(p,v)),this._addTerminal(v,h,l)}else{let m=i._attrValuePartialMap,v=m.get(p);v||(v=new Map,m.set(p,v)),i=this._addPartial(v,h)}}}_addTerminal(e,n,r){let i=e.get(n);i||(i=[],e.set(n,i)),i.push(r)}_addPartial(e,n){let r=e.get(n);return r||(r=new t,e.set(n,r)),r}match(e,n){let r=!1,i=e.element,s=e.classNames,o=e.attrs;for(let a=0;a<this._listContexts.length;a++)this._listContexts[a].alreadyMatched=!1;if(r=this._matchTerminal(this._elementMap,i,e,n)||r,r=this._matchPartial(this._elementPartialMap,i,e,n)||r,s)for(let a=0;a<s.length;a++){let l=s[a];r=this._matchTerminal(this._classMap,l,e,n)||r,r=this._matchPartial(this._classPartialMap,l,e,n)||r}if(o)for(let a=0;a<o.length;a+=2){let l=o[a],u=o[a+1],d=this._attrValueMap.get(l);u&&(r=this._matchTerminal(d,"",e,n)||r),r=this._matchTerminal(d,u,e,n)||r;let p=this._attrValuePartialMap.get(l);u&&(r=this._matchPartial(p,"",e,n)||r),r=this._matchPartial(p,u,e,n)||r}return r}_matchTerminal(e,n,r,i){if(!e||typeof n!="string")return!1;let s=e.get(n)||[],o=e.get("*");if(o&&(s=s.concat(o)),s.length===0)return!1;let a,l=!1;for(let u=0;u<s.length;u++)a=s[u],l=a.finalize(r,i)||l;return l}_matchPartial(e,n,r,i){if(!e||typeof n!="string")return!1;let s=e.get(n);return s?s.match(r,i):!1}},Pv=class{selectors;alreadyMatched=!1;constructor(e){this.selectors=e}},Lv=class{selector;cbContext;listContext;notSelectors;constructor(e,n,r){this.selector=e,this.cbContext=n,this.listContext=r,this.notSelectors=e.notSelectors}finalize(e,n){let r=!0;return this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)&&(r=!pf.createNotMatcher(this.notSelectors).match(e,null)),r&&n&&(!this.listContext||!this.listContext.alreadyMatched)&&(this.listContext&&(this.listContext.alreadyMatched=!0),n(this.selector,this.cbContext)),r}},hf=class{registry;constructor(e){this.registry=e}match(e){return this.registry.has(e)?this.registry.get(e):[]}};var Gs=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(Gs||{}),oE=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(oE||{}),iu=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(iu||{}),R0={name:"custom-elements"},k0={name:"no-errors-schema"};var xe=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t[t.ATTRIBUTE_NO_BINDING=6]="ATTRIBUTE_NO_BINDING",t})(xe||{});function uP(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return[t.element&&t.element!=="*"?t.element:"",...t.attrs,...e]}function cP(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return t.element?[5,t.element,...t.attrs,...e]:t.attrs.length?[3,...t.attrs,...e]:t.classNames&&t.classNames.length?[9,...t.classNames]:[]}function dP(t){let e=uP(t),n=t.notSelectors&&t.notSelectors.length?t.notSelectors.map(r=>cP(r)):[];return e.concat(...n)}function aE(t){return t?Da.parse(t).map(dP):[]}var mi=(function(t){return t[t.Directive=0]="Directive",t[t.Component=1]="Component",t[t.Injectable=2]="Injectable",t[t.Pipe=3]="Pipe",t[t.NgModule=4]="NgModule",t})(mi||{});var mf;function fP(t){return gP(mP(t.nodes).join("")+`[${t.meaning}]`)}function pP(t){return t.id||SD(t)}function SD(t){let e=new Fv,n=t.nodes.map(r=>r.visit(e,null));return TD(n.join(""),t.meaning)}var gf=class{visitText(e,n){return e.value}visitContainer(e,n){return`[${e.children.map(r=>r.visit(this)).join(", ")}]`}visitIcu(e,n){let r=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.expression}, ${e.type}, ${r.join(", ")}}`}visitTagPlaceholder(e,n){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(r=>r.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,n){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,n){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}visitBlockPlaceholder(e,n){return`<ph block name="${e.startName}">${e.children.map(r=>r.visit(this)).join(", ")}</ph name="${e.closeName}">`}},hP=new gf;function mP(t){return t.map(e=>e.visit(hP,null))}var Fv=class extends gf{visitIcu(e){let n=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.type}, ${n.join(", ")}}`}};function gP(t){mf??=new TextEncoder;let e=[...mf.encode(t)],n=EP(e,lE.Big),r=e.length*8,i=new Uint32Array(80),s=1732584193,o=4023233417,a=2562383102,l=271733878,u=3285377520;n[r>>5]|=128<<24-r%32,n[(r+64>>9<<4)+15]=r;for(let d=0;d<n.length;d+=16){let p=s,h=o,m=a,v=l,C=u;for(let w=0;w<80;w++){w<16?i[w]=n[d+w]:i[w]=pv(i[w-3]^i[w-8]^i[w-14]^i[w-16],1);let E=vP(w,o,a,l),D=E[0],M=E[1],x=[pv(s,5),D,u,M,i[w]].reduce(ua);u=l,l=a,a=pv(o,30),o=s,s=x}s=ua(s,p),o=ua(o,h),a=ua(a,m),l=ua(l,v),u=ua(u,C)}return Xl(s)+Xl(o)+Xl(a)+Xl(l)+Xl(u)}function Xl(t){return(t>>>0).toString(16).padStart(8,"0")}function vP(t,e,n,r){return t<20?[e&n|~e&r,1518500249]:t<40?[e^n^r,1859775393]:t<60?[e&n|e&r|n&r,2400959708]:[e^n^r,3395469782]}function P0(t){mf??=new TextEncoder;let e=mf.encode(t),n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=L0(n,e.length,0),i=L0(n,e.length,102072);return r==0&&(i==0||i==1)&&(r=r^319790063,i=i^-1801410264),BigInt.asUintN(32,BigInt(r))<<BigInt(32)|BigInt.asUintN(32,BigInt(i))}function TD(t,e=""){let n=P0(t);return e&&(n=BigInt.asUintN(64,n<<BigInt(1))|n>>BigInt(63)&BigInt(1),n+=P0(e)),BigInt.asUintN(63,n).toString()}function L0(t,e,n){let r=2654435769,i=2654435769,s=0,o=e-12;for(;s<=o;s+=12){r+=t.getUint32(s,!0),i+=t.getUint32(s+4,!0),n+=t.getUint32(s+8,!0);let l=F0(r,i,n);r=l[0],i=l[1],n=l[2]}let a=e-s;return n+=e,a>=4?(r+=t.getUint32(s,!0),s+=4,a>=8?(i+=t.getUint32(s,!0),s+=4,a>=9&&(n+=t.getUint8(s++)<<8),a>=10&&(n+=t.getUint8(s++)<<16),a===11&&(n+=t.getUint8(s++)<<24)):(a>=5&&(i+=t.getUint8(s++)),a>=6&&(i+=t.getUint8(s++)<<8),a===7&&(i+=t.getUint8(s++)<<16))):(a>=1&&(r+=t.getUint8(s++)),a>=2&&(r+=t.getUint8(s++)<<8),a===3&&(r+=t.getUint8(s++)<<16)),F0(r,i,n)[2]}function F0(t,e,n){return t-=e,t-=n,t^=n>>>13,e-=n,e-=t,e^=t<<8,n-=t,n-=e,n^=e>>>13,t-=e,t-=n,t^=n>>>12,e-=n,e-=t,e^=t<<16,n-=t,n-=e,n^=e>>>5,t-=e,t-=n,t^=n>>>3,e-=n,e-=t,e^=t<<10,n-=t,n-=e,n^=e>>>15,[t,e,n]}var lE=(function(t){return t[t.Little=0]="Little",t[t.Big=1]="Big",t})(lE||{});function ua(t,e){return yP(t,e)[1]}function yP(t,e){let n=(t&65535)+(e&65535),r=(t>>>16)+(e>>>16)+(n>>>16);return[r>>>16,r<<16|n&65535]}function pv(t,e){return t<<e|t>>>32-e}function EP(t,e){let n=t.length+3>>>2,r=[];for(let i=0;i<n;i++)r[i]=CP(t,i*4,e);return r}function O0(t,e){return e>=t.length?0:t[e]}function CP(t,e,n){let r=0;if(n===lE.Big)for(let i=0;i<4;i++)r+=O0(t,e+i)<<24-8*i;else for(let i=0;i<4;i++)r+=O0(t,e+i)<<8*i;return r}var DD=(function(t){return t[t.None=0]="None",t[t.Const=1]="Const",t})(DD||{}),vf=class{modifiers;constructor(e=DD.None){this.modifiers=e}hasModifier(e){return(this.modifiers&e)!==0}},Ti=(function(t){return t[t.Dynamic=0]="Dynamic",t[t.Bool=1]="Bool",t[t.String=2]="String",t[t.Int=3]="Int",t[t.Number=4]="Number",t[t.Function=5]="Function",t[t.Inferred=6]="Inferred",t[t.None=7]="None",t})(Ti||{}),$r=class extends vf{name;constructor(e,n){super(n),this.name=e}visitType(e,n){return e.visitBuiltinType(this,n)}},Yn=class extends vf{value;typeParams;constructor(e,n,r=null){super(n),this.value=e,this.typeParams=r}visitType(e,n){return e.visitExpressionType(this,n)}};var fc=new $r(Ti.Dynamic),In=new $r(Ti.Inferred),wP=new $r(Ti.Bool),TQ=new $r(Ti.Int),uE=new $r(Ti.Number),cE=new $r(Ti.String),DQ=new $r(Ti.Function),Hr=new $r(Ti.None),gu=(function(t){return t[t.Minus=0]="Minus",t[t.Plus=1]="Plus",t})(gu||{}),R=(function(t){return t[t.Equals=0]="Equals",t[t.NotEquals=1]="NotEquals",t[t.Assign=2]="Assign",t[t.Identical=3]="Identical",t[t.NotIdentical=4]="NotIdentical",t[t.Minus=5]="Minus",t[t.Plus=6]="Plus",t[t.Divide=7]="Divide",t[t.Multiply=8]="Multiply",t[t.Modulo=9]="Modulo",t[t.And=10]="And",t[t.Or=11]="Or",t[t.BitwiseOr=12]="BitwiseOr",t[t.BitwiseAnd=13]="BitwiseAnd",t[t.Lower=14]="Lower",t[t.LowerEquals=15]="LowerEquals",t[t.Bigger=16]="Bigger",t[t.BiggerEquals=17]="BiggerEquals",t[t.NullishCoalesce=18]="NullishCoalesce",t[t.Exponentiation=19]="Exponentiation",t[t.In=20]="In",t[t.AdditionAssignment=21]="AdditionAssignment",t[t.SubtractionAssignment=22]="SubtractionAssignment",t[t.MultiplicationAssignment=23]="MultiplicationAssignment",t[t.DivisionAssignment=24]="DivisionAssignment",t[t.RemainderAssignment=25]="RemainderAssignment",t[t.ExponentiationAssignment=26]="ExponentiationAssignment",t[t.AndAssignment=27]="AndAssignment",t[t.OrAssignment=28]="OrAssignment",t[t.NullishCoalesceAssignment=29]="NullishCoalesceAssignment",t})(R||{});function _P(t,e){return t==null||e==null?t==e:t.isEquivalent(e)}function ID(t,e,n){let r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function Nn(t,e){return ID(t,e,(n,r)=>n.isEquivalent(r))}var Se=class{type;sourceSpan;constructor(e,n){this.type=e||null,this.sourceSpan=n||null}prop(e,n){return new Mn(this,e,null,n)}key(e,n,r){return new wi(this,e,n,r)}callFn(e,n,r){return new fn(this,e,null,n,r)}instantiate(e,n,r){return new yu(this,e,n,r)}conditional(e,n=null,r){return new qr(this,e,n,null,r)}equals(e,n){return new pe(R.Equals,this,e,null,n)}notEquals(e,n){return new pe(R.NotEquals,this,e,null,n)}identical(e,n){return new pe(R.Identical,this,e,null,n)}notIdentical(e,n){return new pe(R.NotIdentical,this,e,null,n)}minus(e,n){return new pe(R.Minus,this,e,null,n)}plus(e,n){return new pe(R.Plus,this,e,null,n)}divide(e,n){return new pe(R.Divide,this,e,null,n)}multiply(e,n){return new pe(R.Multiply,this,e,null,n)}modulo(e,n){return new pe(R.Modulo,this,e,null,n)}power(e,n){return new pe(R.Exponentiation,this,e,null,n)}and(e,n){return new pe(R.And,this,e,null,n)}bitwiseOr(e,n){return new pe(R.BitwiseOr,this,e,null,n)}bitwiseAnd(e,n){return new pe(R.BitwiseAnd,this,e,null,n)}or(e,n){return new pe(R.Or,this,e,null,n)}lower(e,n){return new pe(R.Lower,this,e,null,n)}lowerEquals(e,n){return new pe(R.LowerEquals,this,e,null,n)}bigger(e,n){return new pe(R.Bigger,this,e,null,n)}biggerEquals(e,n){return new pe(R.BiggerEquals,this,e,null,n)}isBlank(e){return this.equals(AP,e)}nullishCoalesce(e,n){return new pe(R.NullishCoalesce,this,e,null,n)}toStmt(){return new Vt(this,null)}},Jn=class t extends Se{name;constructor(e,n,r){super(n,r),this.name=e}isEquivalent(e){return e instanceof t&&this.name===e.name}isConstant(){return!1}visitExpression(e,n){return e.visitReadVarExpr(this,n)}clone(){return new t(this.name,this.type,this.sourceSpan)}set(e){return new pe(R.Assign,this,e,null,this.sourceSpan)}},Ia=class t extends Se{expr;constructor(e,n,r){super(n,r),this.expr=e}visitExpression(e,n){return e.visitTypeofExpr(this,n)}isEquivalent(e){return e instanceof t&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},yf=class t extends Se{expr;constructor(e,n,r){super(n,r),this.expr=e}visitExpression(e,n){return e.visitVoidExpr(this,n)}isEquivalent(e){return e instanceof t&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},ce=class t extends Se{node;constructor(e,n,r){super(n,r),this.node=e}isEquivalent(e){return e instanceof t&&this.node===e.node}isConstant(){return!1}visitExpression(e,n){return e.visitWrappedNodeExpr(this,n)}clone(){return new t(this.node,this.type,this.sourceSpan)}},fn=class t extends Se{fn;args;pure;constructor(e,n,r,i,s=!1){super(r,i),this.fn=e,this.args=n,this.pure=s}get receiver(){return this.fn}isEquivalent(e){return e instanceof t&&this.fn.isEquivalent(e.fn)&&Nn(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,n){return e.visitInvokeFunctionExpr(this,n)}clone(){return new t(this.fn.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan,this.pure)}},vu=class t extends Se{tag;template;constructor(e,n,r,i){super(r,i),this.tag=e,this.template=n}isEquivalent(e){return e instanceof t&&this.tag.isEquivalent(e.tag)&&this.template.isEquivalent(e.template)}isConstant(){return!1}visitExpression(e,n){return e.visitTaggedTemplateLiteralExpr(this,n)}clone(){return new t(this.tag.clone(),this.template.clone(),this.type,this.sourceSpan)}},yu=class t extends Se{classExpr;args;constructor(e,n,r,i){super(r,i),this.classExpr=e,this.args=n}isEquivalent(e){return e instanceof t&&this.classExpr.isEquivalent(e.classExpr)&&Nn(this.args,e.args)}isConstant(){return!1}visitExpression(e,n){return e.visitInstantiateExpr(this,n)}clone(){return new t(this.classExpr.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan)}},Aa=class t extends Se{body;flags;constructor(e,n,r){super(null,r),this.body=e,this.flags=n}isEquivalent(e){return e instanceof t&&this.body===e.body&&this.flags===e.flags}isConstant(){return!0}visitExpression(e,n){return e.visitRegularExpressionLiteral(this,n)}clone(){return new t(this.body,this.flags,this.sourceSpan)}},xt=class t extends Se{value;constructor(e,n,r){super(n,r),this.value=e}isEquivalent(e){return e instanceof t&&this.value===e.value}isConstant(){return!0}visitExpression(e,n){return e.visitLiteralExpr(this,n)}clone(){return new t(this.value,this.type,this.sourceSpan)}},Eu=class t extends Se{elements;expressions;constructor(e,n,r){super(null,r),this.elements=e,this.expressions=n}isEquivalent(e){return e instanceof t&&ID(this.elements,e.elements,(n,r)=>n.text===r.text)&&Nn(this.expressions,e.expressions)}isConstant(){return!1}visitExpression(e,n){return e.visitTemplateLiteralExpr(this,n)}clone(){return new t(this.elements.map(e=>e.clone()),this.expressions.map(e=>e.clone()))}},Ef=class t extends Se{text;rawText;constructor(e,n,r){super(cE,n),this.text=e,this.rawText=r??Ov(af(e))}visitExpression(e,n){return e.visitTemplateLiteralElementExpr(this,n)}isEquivalent(e){return e instanceof t&&e.text===this.text&&e.rawText===this.rawText}isConstant(){return!0}clone(){return new t(this.text,this.sourceSpan,this.rawText)}},Ks=class{text;sourceSpan;constructor(e,n){this.text=e,this.sourceSpan=n}},_a=class{text;sourceSpan;associatedMessage;constructor(e,n,r){this.text=e,this.sourceSpan=n,this.associatedMessage=r}},SP="|",B0="@@",TP="\u241F",Cf=class t extends Se{metaBlock;messageParts;placeHolderNames;expressions;constructor(e,n,r,i,s){super(cE,s),this.metaBlock=e,this.messageParts=n,this.placeHolderNames=r,this.expressions=i}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,n){return e.visitLocalizedString(this,n)}clone(){return new t(this.metaBlock,this.messageParts,this.placeHolderNames,this.expressions.map(e=>e.clone()),this.sourceSpan)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}${SP}${e}`),this.metaBlock.customId&&(e=`${e}${B0}${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(n=>{e=`${e}${TP}${n}`}),V0(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){return this.messageParts[e]?.sourceSpan??this.sourceSpan}getPlaceholderSourceSpan(e){return this.placeHolderNames[e]?.sourceSpan??this.expressions[e]?.sourceSpan??this.sourceSpan}serializeI18nTemplatePart(e){let n=this.placeHolderNames[e-1],r=this.messageParts[e],i=n.text;return n.associatedMessage?.legacyIds.length===0&&(i+=`${B0}${TD(n.associatedMessage.messageString,n.associatedMessage.meaning)}`),V0(i,r.text,this.getMessagePartSourceSpan(e))}},af=t=>t.replace(/\\/g,"\\\\"),DP=t=>t.replace(/^:/,"\\:"),IP=t=>t.replace(/:/g,"\\:"),Ov=t=>t.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function V0(t,e,n){return t===""?{cooked:e,raw:Ov(DP(af(e))),range:n}:{cooked:`:${t}:${e}`,raw:Ov(`:${IP(af(t))}:${af(e)}`),range:n}}var ao=class t extends Se{value;typeParams;constructor(e,n,r=null,i){super(n,i),this.value=e,this.typeParams=r}isEquivalent(e){return e instanceof t&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName}isConstant(){return!1}visitExpression(e,n){return e.visitExternalExpr(this,n)}clone(){return new t(this.value,this.type,this.typeParams,this.sourceSpan)}};var qr=class t extends Se{condition;falseCase;trueCase;constructor(e,n,r=null,i,s){super(i||n.type,s),this.condition=e,this.falseCase=r,this.trueCase=n}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&_P(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,n){return e.visitConditionalExpr(this,n)}clone(){return new t(this.condition.clone(),this.trueCase.clone(),this.falseCase?.clone(),this.type,this.sourceSpan)}};var Cu=class t extends Se{condition;constructor(e,n){super(wP,n),this.condition=e}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,n){return e.visitNotExpr(this,n)}clone(){return new t(this.condition.clone(),this.sourceSpan)}},Ct=class t{name;type;constructor(e,n=null){this.name=e,this.type=n}isEquivalent(e){return this.name===e.name}clone(){return new t(this.name,this.type)}},Zi=class t extends Se{params;statements;name;constructor(e,n,r,i,s){super(r,i),this.params=e,this.statements=n,this.name=s}isEquivalent(e){return(e instanceof t||e instanceof wu)&&Nn(this.params,e.params)&&Nn(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,n){return e.visitFunctionExpr(this,n)}toDeclStmt(e,n){return new wu(e,this.params,this.statements,this.type,n,this.sourceSpan)}clone(){return new t(this.params.map(e=>e.clone()),this.statements,this.type,this.sourceSpan,this.name)}},lo=class t extends Se{params;body;constructor(e,n,r,i){super(r,i),this.params=e,this.body=n}isEquivalent(e){return!(e instanceof t)||!Nn(this.params,e.params)?!1:this.body instanceof Se&&e.body instanceof Se?this.body.isEquivalent(e.body):Array.isArray(this.body)&&Array.isArray(e.body)?Nn(this.body,e.body):!1}isConstant(){return!1}visitExpression(e,n){return e.visitArrowFunctionExpr(this,n)}clone(){return new t(this.params.map(e=>e.clone()),Array.isArray(this.body)?this.body:this.body.clone(),this.type,this.sourceSpan)}toDeclStmt(e,n){return new rt(e,this,In,n,this.sourceSpan)}},uo=class t extends Se{operator;expr;parens;constructor(e,n,r,i,s=!0){super(r||uE,i),this.operator=e,this.expr=n,this.parens=s}isEquivalent(e){return e instanceof t&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,n){return e.visitUnaryOperatorExpr(this,n)}clone(){return new t(this.operator,this.expr.clone(),this.type,this.sourceSpan,this.parens)}},fr=class t extends Se{expr;constructor(e,n,r){super(n,r),this.expr=e}visitExpression(e,n){return e.visitParenthesizedExpr(this,n)}isEquivalent(e){return e instanceof t&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},pe=class t extends Se{operator;rhs;lhs;constructor(e,n,r,i,s){super(i||n.type,s),this.operator=e,this.rhs=r,this.lhs=n}isEquivalent(e){return e instanceof t&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,n){return e.visitBinaryOperatorExpr(this,n)}clone(){return new t(this.operator,this.lhs.clone(),this.rhs.clone(),this.type,this.sourceSpan)}isAssignment(){let e=this.operator;return e===R.Assign||e===R.AdditionAssignment||e===R.SubtractionAssignment||e===R.MultiplicationAssignment||e===R.DivisionAssignment||e===R.RemainderAssignment||e===R.ExponentiationAssignment||e===R.AndAssignment||e===R.OrAssignment||e===R.NullishCoalesceAssignment}},Mn=class t extends Se{receiver;name;constructor(e,n,r,i){super(r,i),this.receiver=e,this.name=n}get index(){return this.name}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,n){return e.visitReadPropExpr(this,n)}set(e){return new pe(R.Assign,this.receiver.prop(this.name),e,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.name,this.type,this.sourceSpan)}},wi=class t extends Se{receiver;index;constructor(e,n,r,i){super(r,i),this.receiver=e,this.index=n}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,n){return e.visitReadKeyExpr(this,n)}set(e){return new pe(R.Assign,this.receiver.key(this.index),e,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.type,this.sourceSpan)}},pr=class t extends Se{entries;constructor(e,n,r){super(n,r),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof t&&Nn(this.entries,e.entries)}visitExpression(e,n){return e.visitLiteralArrayExpr(this,n)}clone(){return new t(this.entries.map(e=>e.clone()),this.type,this.sourceSpan)}},xa=class t{key;value;quoted;constructor(e,n,r){this.key=e,this.value=n,this.quoted=r}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}clone(){return new t(this.key,this.value.clone(),this.quoted)}},Gr=class t extends Se{entries;valueType=null;constructor(e,n,r){super(n,r),this.entries=e,n&&(this.valueType=n.valueType)}isEquivalent(e){return e instanceof t&&Nn(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,n){return e.visitLiteralMapExpr(this,n)}clone(){let e=this.entries.map(n=>n.clone());return new t(e,this.type,this.sourceSpan)}};var ba=new xt(null,null,null),AP=new xt(null,In,null),yt=(function(t){return t[t.None=0]="None",t[t.Final=1]="Final",t[t.Private=2]="Private",t[t.Exported=4]="Exported",t[t.Static=8]="Static",t})(yt||{}),Bv=class{text;multiline;trailingNewline;constructor(e,n,r){this.text=e,this.multiline=n,this.trailingNewline=r}toString(){return this.multiline?` ${this.text} `:this.text}},wf=class extends Bv{tags;constructor(e){super("",!0,!0),this.tags=e}toString(){return RP(this.tags)}},co=class{modifiers;sourceSpan;leadingComments;constructor(e=yt.None,n=null,r){this.modifiers=e,this.sourceSpan=n,this.leadingComments=r}hasModifier(e){return(this.modifiers&e)!==0}addLeadingComment(e){this.leadingComments=this.leadingComments??[],this.leadingComments.push(e)}},rt=class t extends co{name;value;type;constructor(e,n,r,i,s,o){super(i,s,o),this.name=e,this.value=n,this.type=r||n&&n.type||null}isEquivalent(e){return e instanceof t&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,n){return e.visitDeclareVarStmt(this,n)}},wu=class t extends co{name;params;statements;type;constructor(e,n,r,i,s,o,a){super(s,o,a),this.name=e,this.params=n,this.statements=r,this.type=i||null}isEquivalent(e){return e instanceof t&&Nn(this.params,e.params)&&Nn(this.statements,e.statements)}visitStatement(e,n){return e.visitDeclareFunctionStmt(this,n)}},Vt=class t extends co{expr;constructor(e,n,r){super(yt.None,n,r),this.expr=e}isEquivalent(e){return e instanceof t&&this.expr.isEquivalent(e.expr)}visitStatement(e,n){return e.visitExpressionStmt(this,n)}},It=class t extends co{value;constructor(e,n=null,r){super(yt.None,n,r),this.value=e}isEquivalent(e){return e instanceof t&&this.value.isEquivalent(e.value)}visitStatement(e,n){return e.visitReturnStmt(this,n)}},_f=class t extends co{condition;trueCase;falseCase;constructor(e,n,r=[],i,s){super(yt.None,i,s),this.condition=e,this.trueCase=n,this.falseCase=r}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&Nn(this.trueCase,e.trueCase)&&Nn(this.falseCase,e.falseCase)}visitStatement(e,n){return e.visitIfStmt(this,n)}};function xP(t=[]){return new wf(t)}function le(t,e,n){return new Jn(t,e,n)}function B(t,e=null,n){return new ao(t,null,e,n)}function At(t,e,n){return new Yn(t,e,n)}function pc(t){return new Ia(t)}function we(t,e,n){return new pr(t,e,n)}function Xt(t,e=null){return new Gr(t.map(n=>new xa(n.key,n.value,n.quoted)),e,null)}function bP(t,e){return new Cu(t,e)}function es(t,e,n,r,i){return new Zi(t,e,n,r,i)}function hr(t,e,n,r){return new lo(t,e,n,r)}function _p(t,e,n,r,i){return new _f(t,e,n,r,i)}function NP(t,e,n,r){return new vu(t,e,n,r)}function T(t,e,n){return new xt(t,e,n)}function MP(t,e,n,r,i){return new Cf(t,e,n,r,i)}function U0(t){let e="";if(t.tagName&&(e+=` @${t.tagName}`),t.text){if(t.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+t.text.replace(/@/g,"\\@")}return e}function RP(t){if(t.length===0)return"";if(t.length===1&&t[0].tagName&&!t[0].text)return`*${U0(t[0])} `;let e=`*
`;for(let n of t)e+=" *",e+=U0(n).replace(/\n/g,`
 * `),e+=`
`;return e+=" ",e}var kP="_c",$0=le("<unknown>"),PP={},LP=50,Sf=class t extends Se{resolved;original;shared=!1;constructor(e){super(e.type),this.resolved=e,this.original=e}visitExpression(e,n){return n===PP?this.original.visitExpression(e,n):this.resolved.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}clone(){throw new Error("Not supported.")}fixup(e){this.resolved=e,this.shared=!0}},Tf=class{isClosureCompilerEnabled;statements=[];literals=new Map;literalFactories=new Map;sharedConstants=new Map;_claimedNames=new Map;nextNameIndex=0;constructor(e=!1){this.isClosureCompilerEnabled=e}getConstLiteral(e,n){if(e instanceof xt&&!H0(e)||e instanceof Sf)return e;let r=Zs.INSTANCE.keyOf(e),i=this.literals.get(r),s=!1;if(i||(i=new Sf(e),this.literals.set(r,i),s=!0),!s&&!i.shared||s&&n){let o=this.freshName(),a,l;this.isClosureCompilerEnabled&&H0(e)?(a=new Zi([],[new It(e)]),l=le(o).callFn([])):(a=e,l=le(o)),this.statements.push(new rt(o,a,In,yt.Final)),i.fixup(l)}return i}getSharedConstant(e,n){let r=e.keyOf(n);if(!this.sharedConstants.has(r)){let i=this.freshName();this.sharedConstants.set(r,le(i)),this.statements.push(e.toSharedConstantDeclaration(i,n))}return this.sharedConstants.get(r)}getLiteralFactory(e){if(e instanceof pr){let n=e.entries.map(i=>i.isConstant()?i:$0),r=Zs.INSTANCE.keyOf(we(n));return this._getLiteralFactory(r,e.entries,i=>we(i))}else{let n=Xt(e.entries.map(i=>({key:i.key,value:i.value.isConstant()?i.value:$0,quoted:i.quoted}))),r=Zs.INSTANCE.keyOf(n);return this._getLiteralFactory(r,e.entries.map(i=>i.value),i=>Xt(i.map((s,o)=>({key:e.entries[o].key,value:s,quoted:e.entries[o].quoted}))))}}getSharedFunctionReference(e,n,r=!0){let i=e instanceof lo;for(let o of this.statements)if(i&&o instanceof rt&&o.value?.isEquivalent(e)||!i&&o instanceof wu&&e instanceof Zi&&e.isEquivalent(o))return le(o.name);let s=r?this.uniqueName(n):n;return this.statements.push(e instanceof Zi?e.toDeclStmt(s,yt.Final):new rt(s,e,In,yt.Final,e.sourceSpan)),le(s)}_getLiteralFactory(e,n,r){let i=this.literalFactories.get(e),s=n.filter(o=>!o.isConstant());if(!i){let o=n.map((d,p)=>d.isConstant()?this.getConstLiteral(d,!0):le(`a${p}`)),a=o.filter(FP).map(d=>new Ct(d.name,fc)),l=hr(a,r(o),In),u=this.freshName();this.statements.push(new rt(u,l,In,yt.Final)),i=le(u),this.literalFactories.set(e,i)}return{literalFactory:i,literalFactoryArguments:s}}uniqueName(e,n=!0){let r=this._claimedNames.get(e)??0,i=r===0&&!n?`${e}`:`${e}${r}`;return this._claimedNames.set(e,r+1),i}freshName(){return this.uniqueName(kP)}},Zs=class t{static INSTANCE=new t;keyOf(e){if(e instanceof xt&&typeof e.value=="string")return`"${e.value}"`;if(e instanceof xt)return String(e.value);if(e instanceof Aa)return`/${e.body}/${e.flags??""}`;if(e instanceof pr){let n=[];for(let r of e.entries)n.push(this.keyOf(r));return`[${n.join(",")}]`}else if(e instanceof Gr){let n=[];for(let r of e.entries){let i=r.key;r.quoted&&(i=`"${i}"`),n.push(i+":"+this.keyOf(r.value))}return`{${n.join(",")}}`}else{if(e instanceof ao)return`import("${e.value.moduleName}", ${e.value.name})`;if(e instanceof Jn)return`read(${e.name})`;if(e instanceof Ia)return`typeof(${this.keyOf(e.expr)})`;throw new Error(`${this.constructor.name} does not handle expressions of type ${e.constructor.name}`)}}};function FP(t){return t instanceof Jn}function H0(t){return t instanceof xt&&typeof t.value=="string"&&t.value.length>=LP}var _="@angular/core",y=(()=>{class t{static NEW_METHOD="factory";static TRANSFORM_METHOD="transform";static PATCH_DEPS="patchedDeps";static core={name:null,moduleName:_};static namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:_};static namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:_};static namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:_};static element={name:"\u0275\u0275element",moduleName:_};static elementStart={name:"\u0275\u0275elementStart",moduleName:_};static elementEnd={name:"\u0275\u0275elementEnd",moduleName:_};static domElement={name:"\u0275\u0275domElement",moduleName:_};static domElementStart={name:"\u0275\u0275domElementStart",moduleName:_};static domElementEnd={name:"\u0275\u0275domElementEnd",moduleName:_};static domElementContainer={name:"\u0275\u0275domElementContainer",moduleName:_};static domElementContainerStart={name:"\u0275\u0275domElementContainerStart",moduleName:_};static domElementContainerEnd={name:"\u0275\u0275domElementContainerEnd",moduleName:_};static domTemplate={name:"\u0275\u0275domTemplate",moduleName:_};static domListener={name:"\u0275\u0275domListener",moduleName:_};static advance={name:"\u0275\u0275advance",moduleName:_};static syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:_};static syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:_};static attribute={name:"\u0275\u0275attribute",moduleName:_};static classProp={name:"\u0275\u0275classProp",moduleName:_};static elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:_};static elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:_};static elementContainer={name:"\u0275\u0275elementContainer",moduleName:_};static styleMap={name:"\u0275\u0275styleMap",moduleName:_};static classMap={name:"\u0275\u0275classMap",moduleName:_};static styleProp={name:"\u0275\u0275styleProp",moduleName:_};static interpolate={name:"\u0275\u0275interpolate",moduleName:_};static interpolate1={name:"\u0275\u0275interpolate1",moduleName:_};static interpolate2={name:"\u0275\u0275interpolate2",moduleName:_};static interpolate3={name:"\u0275\u0275interpolate3",moduleName:_};static interpolate4={name:"\u0275\u0275interpolate4",moduleName:_};static interpolate5={name:"\u0275\u0275interpolate5",moduleName:_};static interpolate6={name:"\u0275\u0275interpolate6",moduleName:_};static interpolate7={name:"\u0275\u0275interpolate7",moduleName:_};static interpolate8={name:"\u0275\u0275interpolate8",moduleName:_};static interpolateV={name:"\u0275\u0275interpolateV",moduleName:_};static nextContext={name:"\u0275\u0275nextContext",moduleName:_};static resetView={name:"\u0275\u0275resetView",moduleName:_};static templateCreate={name:"\u0275\u0275template",moduleName:_};static defer={name:"\u0275\u0275defer",moduleName:_};static deferWhen={name:"\u0275\u0275deferWhen",moduleName:_};static deferOnIdle={name:"\u0275\u0275deferOnIdle",moduleName:_};static deferOnImmediate={name:"\u0275\u0275deferOnImmediate",moduleName:_};static deferOnTimer={name:"\u0275\u0275deferOnTimer",moduleName:_};static deferOnHover={name:"\u0275\u0275deferOnHover",moduleName:_};static deferOnInteraction={name:"\u0275\u0275deferOnInteraction",moduleName:_};static deferOnViewport={name:"\u0275\u0275deferOnViewport",moduleName:_};static deferPrefetchWhen={name:"\u0275\u0275deferPrefetchWhen",moduleName:_};static deferPrefetchOnIdle={name:"\u0275\u0275deferPrefetchOnIdle",moduleName:_};static deferPrefetchOnImmediate={name:"\u0275\u0275deferPrefetchOnImmediate",moduleName:_};static deferPrefetchOnTimer={name:"\u0275\u0275deferPrefetchOnTimer",moduleName:_};static deferPrefetchOnHover={name:"\u0275\u0275deferPrefetchOnHover",moduleName:_};static deferPrefetchOnInteraction={name:"\u0275\u0275deferPrefetchOnInteraction",moduleName:_};static deferPrefetchOnViewport={name:"\u0275\u0275deferPrefetchOnViewport",moduleName:_};static deferHydrateWhen={name:"\u0275\u0275deferHydrateWhen",moduleName:_};static deferHydrateNever={name:"\u0275\u0275deferHydrateNever",moduleName:_};static deferHydrateOnIdle={name:"\u0275\u0275deferHydrateOnIdle",moduleName:_};static deferHydrateOnImmediate={name:"\u0275\u0275deferHydrateOnImmediate",moduleName:_};static deferHydrateOnTimer={name:"\u0275\u0275deferHydrateOnTimer",moduleName:_};static deferHydrateOnHover={name:"\u0275\u0275deferHydrateOnHover",moduleName:_};static deferHydrateOnInteraction={name:"\u0275\u0275deferHydrateOnInteraction",moduleName:_};static deferHydrateOnViewport={name:"\u0275\u0275deferHydrateOnViewport",moduleName:_};static deferEnableTimerScheduling={name:"\u0275\u0275deferEnableTimerScheduling",moduleName:_};static conditionalCreate={name:"\u0275\u0275conditionalCreate",moduleName:_};static conditionalBranchCreate={name:"\u0275\u0275conditionalBranchCreate",moduleName:_};static conditional={name:"\u0275\u0275conditional",moduleName:_};static repeater={name:"\u0275\u0275repeater",moduleName:_};static repeaterCreate={name:"\u0275\u0275repeaterCreate",moduleName:_};static repeaterTrackByIndex={name:"\u0275\u0275repeaterTrackByIndex",moduleName:_};static repeaterTrackByIdentity={name:"\u0275\u0275repeaterTrackByIdentity",moduleName:_};static componentInstance={name:"\u0275\u0275componentInstance",moduleName:_};static text={name:"\u0275\u0275text",moduleName:_};static enableBindings={name:"\u0275\u0275enableBindings",moduleName:_};static disableBindings={name:"\u0275\u0275disableBindings",moduleName:_};static getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:_};static textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:_};static textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:_};static textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:_};static textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:_};static textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:_};static textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:_};static textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:_};static textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:_};static textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:_};static textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:_};static restoreView={name:"\u0275\u0275restoreView",moduleName:_};static pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:_};static pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:_};static pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:_};static pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:_};static pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:_};static pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:_};static pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:_};static pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:_};static pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:_};static pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:_};static pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:_};static pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:_};static pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:_};static pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:_};static pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:_};static domProperty={name:"\u0275\u0275domProperty",moduleName:_};static ariaProperty={name:"\u0275\u0275ariaProperty",moduleName:_};static property={name:"\u0275\u0275property",moduleName:_};static control={name:"\u0275\u0275control",moduleName:_};static controlCreate={name:"\u0275\u0275controlCreate",moduleName:_};static animationEnterListener={name:"\u0275\u0275animateEnterListener",moduleName:_};static animationLeaveListener={name:"\u0275\u0275animateLeaveListener",moduleName:_};static animationEnter={name:"\u0275\u0275animateEnter",moduleName:_};static animationLeave={name:"\u0275\u0275animateLeave",moduleName:_};static i18n={name:"\u0275\u0275i18n",moduleName:_};static i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:_};static i18nExp={name:"\u0275\u0275i18nExp",moduleName:_};static i18nStart={name:"\u0275\u0275i18nStart",moduleName:_};static i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:_};static i18nApply={name:"\u0275\u0275i18nApply",moduleName:_};static i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:_};static pipe={name:"\u0275\u0275pipe",moduleName:_};static projection={name:"\u0275\u0275projection",moduleName:_};static projectionDef={name:"\u0275\u0275projectionDef",moduleName:_};static reference={name:"\u0275\u0275reference",moduleName:_};static inject={name:"\u0275\u0275inject",moduleName:_};static injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:_};static directiveInject={name:"\u0275\u0275directiveInject",moduleName:_};static invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:_};static invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:_};static templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:_};static forwardRef={name:"forwardRef",moduleName:_};static resolveForwardRef={name:"resolveForwardRef",moduleName:_};static replaceMetadata={name:"\u0275\u0275replaceMetadata",moduleName:_};static getReplaceMetadataURL={name:"\u0275\u0275getReplaceMetadataURL",moduleName:_};static \u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:_};static declareInjectable={name:"\u0275\u0275ngDeclareInjectable",moduleName:_};static InjectableDeclaration={name:"\u0275\u0275InjectableDeclaration",moduleName:_};static resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:_};static resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:_};static resolveBody={name:"\u0275\u0275resolveBody",moduleName:_};static getComponentDepsFactory={name:"\u0275\u0275getComponentDepsFactory",moduleName:_};static defineComponent={name:"\u0275\u0275defineComponent",moduleName:_};static declareComponent={name:"\u0275\u0275ngDeclareComponent",moduleName:_};static setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:_};static ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:_};static ViewEncapsulation={name:"ViewEncapsulation",moduleName:_};static ComponentDeclaration={name:"\u0275\u0275ComponentDeclaration",moduleName:_};static FactoryDeclaration={name:"\u0275\u0275FactoryDeclaration",moduleName:_};static declareFactory={name:"\u0275\u0275ngDeclareFactory",moduleName:_};static FactoryTarget={name:"\u0275\u0275FactoryTarget",moduleName:_};static defineDirective={name:"\u0275\u0275defineDirective",moduleName:_};static declareDirective={name:"\u0275\u0275ngDeclareDirective",moduleName:_};static DirectiveDeclaration={name:"\u0275\u0275DirectiveDeclaration",moduleName:_};static InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:_};static InjectorDeclaration={name:"\u0275\u0275InjectorDeclaration",moduleName:_};static defineInjector={name:"\u0275\u0275defineInjector",moduleName:_};static declareInjector={name:"\u0275\u0275ngDeclareInjector",moduleName:_};static NgModuleDeclaration={name:"\u0275\u0275NgModuleDeclaration",moduleName:_};static ModuleWithProviders={name:"ModuleWithProviders",moduleName:_};static defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:_};static declareNgModule={name:"\u0275\u0275ngDeclareNgModule",moduleName:_};static setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:_};static registerNgModuleType={name:"\u0275\u0275registerNgModuleType",moduleName:_};static PipeDeclaration={name:"\u0275\u0275PipeDeclaration",moduleName:_};static definePipe={name:"\u0275\u0275definePipe",moduleName:_};static declarePipe={name:"\u0275\u0275ngDeclarePipe",moduleName:_};static declareClassMetadata={name:"\u0275\u0275ngDeclareClassMetadata",moduleName:_};static declareClassMetadataAsync={name:"\u0275\u0275ngDeclareClassMetadataAsync",moduleName:_};static setClassMetadata={name:"\u0275setClassMetadata",moduleName:_};static setClassMetadataAsync={name:"\u0275setClassMetadataAsync",moduleName:_};static setClassDebugInfo={name:"\u0275setClassDebugInfo",moduleName:_};static queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:_};static viewQuery={name:"\u0275\u0275viewQuery",moduleName:_};static loadQuery={name:"\u0275\u0275loadQuery",moduleName:_};static contentQuery={name:"\u0275\u0275contentQuery",moduleName:_};static viewQuerySignal={name:"\u0275\u0275viewQuerySignal",moduleName:_};static contentQuerySignal={name:"\u0275\u0275contentQuerySignal",moduleName:_};static queryAdvance={name:"\u0275\u0275queryAdvance",moduleName:_};static twoWayProperty={name:"\u0275\u0275twoWayProperty",moduleName:_};static twoWayBindingSet={name:"\u0275\u0275twoWayBindingSet",moduleName:_};static twoWayListener={name:"\u0275\u0275twoWayListener",moduleName:_};static declareLet={name:"\u0275\u0275declareLet",moduleName:_};static storeLet={name:"\u0275\u0275storeLet",moduleName:_};static readContextLet={name:"\u0275\u0275readContextLet",moduleName:_};static attachSourceLocations={name:"\u0275\u0275attachSourceLocations",moduleName:_};static NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:_};static InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:_};static ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:_};static HostDirectivesFeature={name:"\u0275\u0275HostDirectivesFeature",moduleName:_};static ExternalStylesFeature={name:"\u0275\u0275ExternalStylesFeature",moduleName:_};static listener={name:"\u0275\u0275listener",moduleName:_};static getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:_};static sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:_};static sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:_};static validateAttribute={name:"\u0275\u0275validateAttribute",moduleName:_};static sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:_};static sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:_};static sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:_};static sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:_};static trustConstantHtml={name:"\u0275\u0275trustConstantHtml",moduleName:_};static trustConstantResourceUrl={name:"\u0275\u0275trustConstantResourceUrl",moduleName:_};static inputDecorator={name:"Input",moduleName:_};static outputDecorator={name:"Output",moduleName:_};static viewChildDecorator={name:"ViewChild",moduleName:_};static viewChildrenDecorator={name:"ViewChildren",moduleName:_};static contentChildDecorator={name:"ContentChild",moduleName:_};static contentChildrenDecorator={name:"ContentChildren",moduleName:_};static InputSignalBrandWriteType={name:"\u0275INPUT_SIGNAL_BRAND_WRITE_TYPE",moduleName:_};static UnwrapDirectiveSignalInputs={name:"\u0275UnwrapDirectiveSignalInputs",moduleName:_};static unwrapWritableSignal={name:"\u0275unwrapWritableSignal",moduleName:_};static assertType={name:"\u0275assertType",moduleName:_}}return t})(),OP=/-+([a-z0-9])/g;function BP(t){return t.replace(OP,(...e)=>e[1].toUpperCase())}function VP(t,e){return AD(t,":",e)}function UP(t,e){return AD(t,".",e)}function AD(t,e,n){let r=t.indexOf(e);return r==-1?n:[t.slice(0,r).trim(),t.slice(r+1).trim()]}function $P(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r>=55296&&r<=56319&&t.length>n+1){let i=t.charCodeAt(n+1);i>=56320&&i<=57343&&(n++,r=(r-55296<<10)+i-56320+65536)}r<=127?e.push(r):r<=2047?e.push(r>>6&31|192,r&63|128):r<=65535?e.push(r>>12|224,r>>6&63|128,r&63|128):r<=2097151&&e.push(r>>18&7|240,r>>12&63|128,r>>6&63|128,r&63|128)}return e}function xD(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(xD).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;if(!t.toString)return"object";let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}var Vv=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},cu=globalThis,HP=/^([1-9]|1[0-8])\./;function bD(t){return t.startsWith("0.")?!0:!HP.test(t)}var qP=3,GP="# sourceMappingURL=data:application/json;base64,",Uv=class{file;sourcesContent=new Map;lines=[];lastCol0=0;hasMappings=!1;constructor(e=null){this.file=e}addSource(e,n=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,n),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,n,r,i){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(n!=null&&!this.sourcesContent.has(n))throw new Error(`Unknown source file "${n}"`);if(e==null)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(n&&(r==null||i==null))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:n,sourceLine0:r,sourceCol0:i}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;let e=new Map,n=[],r=[];Array.from(this.sourcesContent.keys()).forEach((u,d)=>{e.set(u,d),n.push(u),r.push(this.sourcesContent.get(u)||null)});let i="",s=0,o=0,a=0,l=0;return this.lines.forEach(u=>{s=0,i+=u.map(d=>{let p=jd(d.col0-s);return s=d.col0,d.sourceUrl!=null&&(p+=jd(e.get(d.sourceUrl)-o),o=e.get(d.sourceUrl),p+=jd(d.sourceLine0-a),a=d.sourceLine0,p+=jd(d.sourceCol0-l),l=d.sourceCol0),p}).join(","),i+=";"}),i=i.slice(0,-1),{file:this.file||"",version:qP,sourceRoot:"",sources:n,sourcesContent:r,mappings:i}}toJsComment(){return this.hasMappings?"//"+GP+zP(JSON.stringify(this,null,0)):""}};function zP(t){let e="",n=$P(t);for(let r=0;r<n.length;){let i=n[r++],s=r<n.length?n[r++]:null,o=r<n.length?n[r++]:null;e+=su(i>>2),e+=su((i&3)<<4|(s===null?0:s>>4)),e+=s===null?"=":su((s&15)<<2|(o===null?0:o>>6)),e+=s===null||o===null?"=":su(o&63)}return e}function jd(t){t=t<0?(-t<<1)+1:t<<1;let e="";do{let n=t&31;t=t>>5,t>0&&(n=n|32),e+=su(n)}while(t>0);return e}var jP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function su(t){if(t<0||t>=64)throw new Error("Can only encode value in the range [0, 63]");return jP[t]}var WP=/'|\\|\n|\r|\$/g,YP=/^[$A-Z_][0-9A-Z_$]*$/i,$v="  ",Df=class{indent;partsLength=0;parts=[];srcSpans=[];constructor(e){this.indent=e}},JP=new Map([[R.And,"&&"],[R.Bigger,">"],[R.BiggerEquals,">="],[R.BitwiseOr,"|"],[R.BitwiseAnd,"&"],[R.Divide,"/"],[R.Assign,"="],[R.Equals,"=="],[R.Identical,"==="],[R.Lower,"<"],[R.LowerEquals,"<="],[R.Minus,"-"],[R.Modulo,"%"],[R.Exponentiation,"**"],[R.Multiply,"*"],[R.NotEquals,"!="],[R.NotIdentical,"!=="],[R.NullishCoalesce,"??"],[R.Or,"||"],[R.Plus,"+"],[R.In,"in"],[R.AdditionAssignment,"+="],[R.SubtractionAssignment,"-="],[R.MultiplicationAssignment,"*="],[R.DivisionAssignment,"/="],[R.RemainderAssignment,"%="],[R.ExponentiationAssignment,"**="],[R.AndAssignment,"&&="],[R.OrAssignment,"||="],[R.NullishCoalesceAssignment,"??="]]),Hv=class t{_indent;static createRoot(){return new t(0)}_lines;constructor(e){this._indent=e,this._lines=[new Df(e)]}get _currentLine(){return this._lines[this._lines.length-1]}println(e,n=""){this.print(e||null,n,!0)}lineIsEmpty(){return this._currentLine.parts.length===0}lineLength(){return this._currentLine.indent*$v.length+this._currentLine.partsLength}print(e,n,r=!1){n.length>0&&(this._currentLine.parts.push(n),this._currentLine.partsLength+=n.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),r&&this._lines.push(new Df(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map(e=>e.parts.length>0?q0(e.indent)+e.parts.join(""):"").join(`
`)}toSourceMapGenerator(e,n=0){let r=new Uv(e),i=!1,s=()=>{i||(r.addSource(e," ").addMapping(0,e,0,0),i=!0)};for(let o=0;o<n;o++)r.addLine(),s();return this.sourceLines.forEach((o,a)=>{r.addLine();let l=o.srcSpans,u=o.parts,d=o.indent*$v.length,p=0;for(;p<l.length&&!l[p];)d+=u[p].length,p++;for(p<l.length&&a===0&&d===0?i=!0:s();p<l.length;){let h=l[p],m=h.start.file,v=h.start.line,C=h.start.col;for(r.addSource(m.url,m.content).addMapping(d,m.url,v,C),d+=u[p].length,p++;p<l.length&&(h===l[p]||!l[p]);)d+=u[p].length,p++}}),r}spanOf(e,n){let r=this._lines[e];if(r){let i=n-q0(r.indent).length;for(let s=0;s<r.parts.length;s++){let o=r.parts[s];if(o.length>i)return r.srcSpans[s];i-=o.length}}return null}get sourceLines(){return this._lines.length&&this._lines[this._lines.length-1].parts.length===0?this._lines.slice(0,-1):this._lines}},qv=class{_escapeDollarInStrings;lastIfCondition=null;constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,n){if(e.leadingComments!==void 0)for(let r of e.leadingComments)r instanceof wf?n.print(e,`/*${r.toString()}*/`,r.trailingNewline):r.multiline?n.print(e,`/* ${r.text} */`,r.trailingNewline):r.text.split(`
`).forEach(i=>{n.println(e,`// ${i}`)})}visitExpressionStmt(e,n){return this.printLeadingComments(e,n),e.expr.visitExpression(this,n),n.println(e,";"),null}visitReturnStmt(e,n){return this.printLeadingComments(e,n),n.print(e,"return "),e.value.visitExpression(this,n),n.println(e,";"),null}visitIfStmt(e,n){this.printLeadingComments(e,n),n.print(e,"if ("),this.lastIfCondition=e.condition,e.condition.visitExpression(this,n),this.lastIfCondition=null,n.print(e,") {");let r=e.falseCase!=null&&e.falseCase.length>0;return e.trueCase.length<=1&&!r?(n.print(e," "),this.visitAllStatements(e.trueCase,n),n.removeEmptyLastLine(),n.print(e," ")):(n.println(),n.incIndent(),this.visitAllStatements(e.trueCase,n),n.decIndent(),r&&(n.println(e,"} else {"),n.incIndent(),this.visitAllStatements(e.falseCase,n),n.decIndent())),n.println(e,"}"),null}visitInvokeFunctionExpr(e,n){let r=e.fn instanceof lo;return r&&n.print(e.fn,"("),e.fn.visitExpression(this,n),r&&n.print(e.fn,")"),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitTaggedTemplateLiteralExpr(e,n){return e.tag.visitExpression(this,n),e.template.visitExpression(this,n),null}visitTemplateLiteralExpr(e,n){n.print(e,"`");for(let r=0;r<e.elements.length;r++){e.elements[r].visitExpression(this,n);let i=r<e.expressions.length?e.expressions[r]:null;i!==null&&(n.print(i,"${"),i.visitExpression(this,n),n.print(i,"}"))}n.print(e,"`")}visitTemplateLiteralElementExpr(e,n){n.print(e,e.rawText)}visitWrappedNodeExpr(e,n){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,n){n.print(e,"typeof "),e.expr.visitExpression(this,n)}visitVoidExpr(e,n){n.print(e,"void "),e.expr.visitExpression(this,n)}visitReadVarExpr(e,n){return n.print(e,e.name),null}visitInstantiateExpr(e,n){return n.print(e,"new "),e.classExpr.visitExpression(this,n),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitLiteralExpr(e,n){let r=e.value;return typeof r=="string"?n.print(e,Ys(r,this._escapeDollarInStrings)):n.print(e,`${r}`),null}visitRegularExpressionLiteral(e,n){return n.print(e,`/${e.body}/${e.flags||""}`),null}visitLocalizedString(e,n){let r=e.serializeI18nHead();n.print(e,"$localize `"+r.raw);for(let i=1;i<e.messageParts.length;i++)n.print(e,"${"),e.expressions[i-1].visitExpression(this,n),n.print(e,`}${e.serializeI18nTemplatePart(i).raw}`);return n.print(e,"`"),null}visitConditionalExpr(e,n){return n.print(e,"("),e.condition.visitExpression(this,n),n.print(e,"? "),e.trueCase.visitExpression(this,n),n.print(e,": "),e.falseCase.visitExpression(this,n),n.print(e,")"),null}visitDynamicImportExpr(e,n){n.print(e,`import(${e.url})`)}visitNotExpr(e,n){return n.print(e,"!"),e.condition.visitExpression(this,n),null}visitUnaryOperatorExpr(e,n){let r;switch(e.operator){case gu.Plus:r="+";break;case gu.Minus:r="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}let i=e!==this.lastIfCondition;return i&&n.print(e,"("),n.print(e,r),e.expr.visitExpression(this,n),i&&n.print(e,")"),null}visitBinaryOperatorExpr(e,n){let r=JP.get(e.operator);if(!r)throw new Error(`Unknown operator ${e.operator}`);let i=e!==this.lastIfCondition;return i&&n.print(e,"("),e.lhs.visitExpression(this,n),n.print(e,` ${r} `),e.rhs.visitExpression(this,n),i&&n.print(e,")"),null}visitReadPropExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"."),n.print(e,e.name),null}visitReadKeyExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"["),e.index.visitExpression(this,n),n.print(e,"]"),null}visitLiteralArrayExpr(e,n){return n.print(e,"["),this.visitAllExpressions(e.entries,n,","),n.print(e,"]"),null}visitLiteralMapExpr(e,n){return n.print(e,"{"),this.visitAllObjects(r=>{n.print(e,`${Ys(r.key,this._escapeDollarInStrings,r.quoted)}:`),r.value.visitExpression(this,n)},e.entries,n,","),n.print(e,"}"),null}visitCommaExpr(e,n){return n.print(e,"("),this.visitAllExpressions(e.parts,n,","),n.print(e,")"),null}visitParenthesizedExpr(e,n){e.expr.visitExpression(this,n)}visitAllExpressions(e,n,r){this.visitAllObjects(i=>i.visitExpression(this,n),e,n,r)}visitAllObjects(e,n,r,i){let s=!1;for(let o=0;o<n.length;o++)o>0&&(r.lineLength()>80?(r.print(null,i,!0),s||(r.incIndent(),r.incIndent(),s=!0)):r.print(null,i,!1)),e(n[o]);s&&(r.decIndent(),r.decIndent())}visitAllStatements(e,n){e.forEach(r=>r.visitStatement(this,n))}};function Ys(t,e,n=!0){if(t==null)return null;let r=t.replace(WP,(...s)=>s[0]=="$"?e?"\\$":"$":s[0]==`
`?"\\n":s[0]=="\r"?"\\r":`\\${s[0]}`);return n||!YP.test(r)?`'${r}'`:r}function q0(t){let e="";for(let n=0;n<t;n++)e+=$v;return e}function Sp(t,e){if(e===0)return At(t);let n=[];for(let r=0;r<e;r++)n.push(fc);return At(t,void 0,n)}function XP(t,e){let n=Ys(e,!1,!1);return n!==e?`${t}[${n}]`:`${t}.${e}`}function QP(t){return KP("ngJitMode",t)}function KP(t,e){let n=new ao({name:t,moduleName:null}),r=new pe(R.Identical,new Ia(n),T("undefined")),i=new pe(R.Or,r,n,void 0,void 0);return new pe(R.And,i,e)}function ft(t){let e=new ce(t);return{value:e,type:e}}function Js(t,e){let n=we(t.map(r=>r.value));return e?hr([],n):n}function dE(t,e){return{expression:t,forwardRef:e}}function ZP({expression:t,forwardRef:e}){switch(e){case 0:case 1:return t;case 2:return e1(t)}}function e1(t){return B(y.forwardRef).callFn([hr([],t)])}var If=(function(t){return t[t.Class=0]="Class",t[t.Function=1]="Function",t})(If||{});function zs(t){let e=le("__ngFactoryType__"),n=null,r=z0(t)?e:new pe(R.Or,e,t.type.value),i=null;t.deps!==null?t.deps!=="invalid"&&(i=new yu(r,G0(t.deps,t.target))):(n=le(`\u0275${t.name}_BaseFactory`),i=n.callFn([r]));let s=[],o=null;function a(u){let d=le("__ngConditionalFactory__");s.push(new rt(d.name,ba,In));let p=i!==null?d.set(i).toStmt():B(y.invalidFactory).callFn([]).toStmt();return s.push(_p(e,[p],[d.set(u).toStmt()])),d}if(z0(t)){let u=G0(t.delegateDeps,t.target),d=new(t.delegateType===If.Class?yu:fn)(t.delegate,u);o=a(d)}else s1(t)?o=a(t.expression):o=i;if(o===null)s.push(B(y.invalidFactory).callFn([]).toStmt());else if(n!==null){let u=B(y.getInheritedFactory).callFn([t.type.value]),d=new pe(R.Or,n,n.set(u));s.push(new It(d.callFn([r])))}else s.push(new It(o));let l=es([new Ct(e.name,fc)],s,In,void 0,`${t.name}_Factory`);return n!==null&&(l=hr([],[new rt(n.name),new It(l)]).callFn([],void 0,!0)),{expression:l,statements:[],type:t1(t)}}function t1(t){let e=t.deps!==null&&t.deps!=="invalid"?r1(t.deps):Hr;return At(B(y.FactoryDeclaration,[Sp(t.type.type,t.typeArgumentCount),e]))}function G0(t,e){return t.map((n,r)=>n1(n,e,r))}function n1(t,e,n){if(t.token===null)return B(y.invalidFactoryDep).callFn([T(n)]);if(t.attributeNameType===null){let r=0|(t.self?2:0)|(t.skipSelf?4:0)|(t.host?1:0)|(t.optional?8:0)|(e===mi.Pipe?16:0),i=r!==0||t.optional?T(r):null,s=[t.token];i&&s.push(i);let o=o1(e);return B(o).callFn(s)}else return B(y.injectAttribute).callFn([t.token])}function r1(t){let e=!1,n=t.map(r=>{let i=i1(r);return i!==null?(e=!0,i):T(null)});return e?At(we(n)):Hr}function i1(t){let e=[];return t.attributeNameType!==null&&e.push({key:"attribute",value:t.attributeNameType,quoted:!1}),t.optional&&e.push({key:"optional",value:T(!0),quoted:!1}),t.host&&e.push({key:"host",value:T(!0),quoted:!1}),t.self&&e.push({key:"self",value:T(!0),quoted:!1}),t.skipSelf&&e.push({key:"skipSelf",value:T(!0),quoted:!1}),e.length>0?Xt(e):null}function z0(t){return t.delegateType!==void 0}function s1(t){return t.expression!==void 0}function o1(t){switch(t){case mi.Component:case mi.Directive:case mi.Pipe:return y.directiveInject;case mi.NgModule:case mi.Injectable:default:return y.inject}}var fo=class{start;end;constructor(e,n){this.start=e,this.end=n}toAbsolute(e){return new An(e+this.start,e+this.end)}},Le=class{span;sourceSpan;constructor(e,n){this.span=e,this.sourceSpan=n}toString(){return"AST"}},_u=class extends Le{nameSpan;constructor(e,n,r){super(e,n),this.nameSpan=r}},Gt=class extends Le{visit(e,n=null){}},zr=class extends Le{visit(e,n=null){return e.visitImplicitReceiver(this,n)}},Su=class extends Le{visit(e,n=null){return e.visitThisReceiver?.(this,n)}},Na=class extends Le{expressions;constructor(e,n,r){super(e,n),this.expressions=r}visit(e,n=null){return e.visitChain(this,n)}},Af=class extends Le{condition;trueExp;falseExp;constructor(e,n,r,i,s){super(e,n),this.condition=r,this.trueExp=i,this.falseExp=s}visit(e,n=null){return e.visitConditional(this,n)}},Vr=class extends _u{receiver;name;constructor(e,n,r,i,s){super(e,n,r),this.receiver=i,this.name=s}visit(e,n=null){return e.visitPropertyRead(this,n)}},Tu=class extends _u{receiver;name;constructor(e,n,r,i,s){super(e,n,r),this.receiver=i,this.name=s}visit(e,n=null){return e.visitSafePropertyRead(this,n)}},po=class extends Le{receiver;key;constructor(e,n,r,i){super(e,n),this.receiver=r,this.key=i}visit(e,n=null){return e.visitKeyedRead(this,n)}},Du=class extends Le{receiver;key;constructor(e,n,r,i){super(e,n),this.receiver=r,this.key=i}visit(e,n=null){return e.visitSafeKeyedRead(this,n)}},lf=(function(t){return t[t.ReferencedByName=0]="ReferencedByName",t[t.ReferencedDirectly=1]="ReferencedDirectly",t})(lf||{}),xf=class extends _u{exp;name;args;type;constructor(e,n,r,i,s,o,a){super(e,n,a),this.exp=r,this.name=i,this.args=s,this.type=o}visit(e,n=null){return e.visitPipe(this,n)}},ln=class extends Le{value;constructor(e,n,r){super(e,n),this.value=r}visit(e,n=null){return e.visitLiteralPrimitive(this,n)}},Iu=class extends Le{expressions;constructor(e,n,r){super(e,n),this.expressions=r}visit(e,n=null){return e.visitLiteralArray(this,n)}},ho=class extends Le{keys;values;constructor(e,n,r,i){super(e,n),this.keys=r,this.values=i}visit(e,n=null){return e.visitLiteralMap(this,n)}},hc=class extends Le{strings;expressions;constructor(e,n,r,i){super(e,n),this.strings=r,this.expressions=i}visit(e,n=null){return e.visitInterpolation(this,n)}},zt=class extends Le{operation;left;right;constructor(e,n,r,i,s){super(e,n),this.operation=r,this.left=i,this.right=s}visit(e,n=null){return e.visitBinary(this,n)}static isAssignmentOperation(e){return e==="="||e==="+="||e==="-="||e==="*="||e==="/="||e==="%="||e==="**="||e==="&&="||e==="||="||e==="??="}},Sa=class t extends zt{operator;expr;left=null;right=null;operation=null;static createMinus(e,n,r){return new t(e,n,"-",r,"-",new ln(e,n,0),r)}static createPlus(e,n,r){return new t(e,n,"+",r,"-",r,new ln(e,n,0))}constructor(e,n,r,i,s,o,a){super(e,n,s,o,a),this.operator=r,this.expr=i}visit(e,n=null){return e.visitUnary!==void 0?e.visitUnary(this,n):e.visitBinary(this,n)}},Au=class extends Le{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitPrefixNot(this,n)}},xu=class extends Le{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitTypeofExpression(this,n)}},bu=class extends Le{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitVoidExpression(this,n)}},Nu=class extends Le{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitNonNullAssert(this,n)}},Ma=class extends Le{receiver;args;argumentSpan;constructor(e,n,r,i,s){super(e,n),this.receiver=r,this.args=i,this.argumentSpan=s}visit(e,n=null){return e.visitCall(this,n)}},bf=class extends Le{receiver;args;argumentSpan;constructor(e,n,r,i,s){super(e,n),this.receiver=r,this.args=i,this.argumentSpan=s}visit(e,n=null){return e.visitSafeCall(this,n)}},Mu=class extends Le{tag;template;constructor(e,n,r,i){super(e,n),this.tag=r,this.template=i}visit(e,n){return e.visitTaggedTemplateLiteral(this,n)}},Ru=class extends Le{elements;expressions;constructor(e,n,r,i){super(e,n),this.elements=r,this.expressions=i}visit(e,n){return e.visitTemplateLiteral(this,n)}},Nf=class extends Le{text;constructor(e,n,r){super(e,n),this.text=r}visit(e,n){return e.visitTemplateLiteralElement(this,n)}},ku=class extends Le{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n){return e.visitParenthesizedExpression(this,n)}},Mf=class extends Le{body;flags;constructor(e,n,r,i){super(e,n),this.body=r,this.flags=i}visit(e,n){return e.visitRegularExpressionLiteral(this,n)}},An=class{start;end;constructor(e,n){this.start=e,this.end=n}},un=class extends Le{ast;source;location;errors;constructor(e,n,r,i,s){super(new fo(0,n===null?0:n.length),new An(i,n===null?i:i+n.length)),this.ast=e,this.source=n,this.location=r,this.errors=s}visit(e,n=null){return e.visitASTWithSource?e.visitASTWithSource(this,n):this.ast.visit(e,n)}toString(){return`${this.source} in ${this.location}`}},Pu=class{sourceSpan;key;value;constructor(e,n,r){this.sourceSpan=e,this.key=n,this.value=r}},Gv=class{sourceSpan;key;value;constructor(e,n,r){this.sourceSpan=e,this.key=n,this.value=r}},Ra=class{visit(e,n){e.visit(this,n)}visitUnary(e,n){this.visit(e.expr,n)}visitBinary(e,n){this.visit(e.left,n),this.visit(e.right,n)}visitChain(e,n){this.visitAll(e.expressions,n)}visitConditional(e,n){this.visit(e.condition,n),this.visit(e.trueExp,n),this.visit(e.falseExp,n)}visitPipe(e,n){this.visit(e.exp,n),this.visitAll(e.args,n)}visitImplicitReceiver(e,n){}visitThisReceiver(e,n){}visitInterpolation(e,n){this.visitAll(e.expressions,n)}visitKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitLiteralArray(e,n){this.visitAll(e.expressions,n)}visitLiteralMap(e,n){this.visitAll(e.values,n)}visitLiteralPrimitive(e,n){}visitPrefixNot(e,n){this.visit(e.expression,n)}visitTypeofExpression(e,n){this.visit(e.expression,n)}visitVoidExpression(e,n){this.visit(e.expression,n)}visitNonNullAssert(e,n){this.visit(e.expression,n)}visitPropertyRead(e,n){this.visit(e.receiver,n)}visitSafePropertyRead(e,n){this.visit(e.receiver,n)}visitSafeKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitSafeCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitTemplateLiteral(e,n){for(let r=0;r<e.elements.length;r++){this.visit(e.elements[r],n);let i=r<e.expressions.length?e.expressions[r]:null;i!==null&&this.visit(i,n)}}visitTemplateLiteralElement(e,n){}visitTaggedTemplateLiteral(e,n){this.visit(e.tag,n),this.visit(e.template,n)}visitParenthesizedExpression(e,n){this.visit(e.expression,n)}visitRegularExpressionLiteral(e,n){}visitAll(e,n){for(let r of e)this.visit(r,n)}},va=class{name;expression;type;sourceSpan;keySpan;valueSpan;isLiteral;isLegacyAnimation;isAnimation;constructor(e,n,r,i,s,o){this.name=e,this.expression=n,this.type=r,this.sourceSpan=i,this.keySpan=s,this.valueSpan=o,this.isLiteral=this.type===Fr.LITERAL_ATTR,this.isLegacyAnimation=this.type===Fr.LEGACY_ANIMATION,this.isAnimation=this.type===Fr.ANIMATION}},Fr=(function(t){return t[t.DEFAULT=0]="DEFAULT",t[t.LITERAL_ATTR=1]="LITERAL_ATTR",t[t.LEGACY_ANIMATION=2]="LEGACY_ANIMATION",t[t.TWO_WAY=3]="TWO_WAY",t[t.ANIMATION=4]="ANIMATION",t})(Fr||{}),Yt=(function(t){return t[t.Regular=0]="Regular",t[t.LegacyAnimation=1]="LegacyAnimation",t[t.TwoWay=2]="TwoWay",t[t.Animation=3]="Animation",t})(Yt||{}),Rf=class{name;targetOrPhase;type;handler;sourceSpan;handlerSpan;keySpan;constructor(e,n,r,i,s,o,a){this.name=e,this.targetOrPhase=n,this.type=r,this.handler=i,this.sourceSpan=s,this.handlerSpan=o,this.keySpan=a}},zv=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,n,r,i,s){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=s}},he=(function(t){return t[t.Property=0]="Property",t[t.Attribute=1]="Attribute",t[t.Class=2]="Class",t[t.Style=3]="Style",t[t.LegacyAnimation=4]="LegacyAnimation",t[t.TwoWay=5]="TwoWay",t[t.Animation=6]="Animation",t})(he||{}),kf=class{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;constructor(e,n,r,i,s,o,a,l){this.name=e,this.type=n,this.securityContext=r,this.value=i,this.unit=s,this.sourceSpan=o,this.keySpan=a,this.valueSpan=l}},Or=(function(t){return t[t.RAW_TEXT=0]="RAW_TEXT",t[t.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",t[t.PARSABLE_DATA=2]="PARSABLE_DATA",t})(Or||{});function mr(t,e=!0){if(t[0]!=":")return[null,t];let n=t.indexOf(":",1);if(n===-1){if(e)throw new Error(`Unsupported format "${t}" expecting ":namespace:name"`);return[null,t]}return[t.slice(1,n),t.slice(n+1)]}function j0(t){return mr(t)[1]==="ng-container"}function jv(t){return mr(t)[1]==="ng-content"}function a1(t){return mr(t)[1]==="ng-template"}function Wv(t){return t===null?null:mr(t)[0]}function uf(t,e){return t?`:${t}:${e}`:e}var Tp=class{value;sourceSpan;constructor(e,n){this.value=e,this.sourceSpan=n}visit(e){throw new Error("visit() not implemented for Comment")}},Xs=class{value;sourceSpan;constructor(e,n){this.value=e,this.sourceSpan=n}visit(e){return e.visitText(this)}},ka=class{value;sourceSpan;i18n;constructor(e,n,r){this.value=e,this.sourceSpan=n,this.i18n=r}visit(e){return e.visitBoundText(this)}},Pa=class{name;value;sourceSpan;keySpan;valueSpan;i18n;constructor(e,n,r,i,s,o){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=s,this.i18n=o}visit(e){return e.visitTextAttribute(this)}},Yv=class t{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;i18n;constructor(e,n,r,i,s,o,a,l,u){this.name=e,this.type=n,this.securityContext=r,this.value=i,this.unit=s,this.sourceSpan=o,this.keySpan=a,this.valueSpan=l,this.i18n=u}static fromBoundElementProperty(e,n){if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,n)}visit(e){return e.visitBoundAttribute(this)}},Jv=class t{name;type;handler;target;phase;sourceSpan;handlerSpan;keySpan;constructor(e,n,r,i,s,o,a,l){this.name=e,this.type=n,this.handler=r,this.target=i,this.phase=s,this.sourceSpan=o,this.handlerSpan=a,this.keySpan=l}static fromParsedEvent(e){let n=e.type===Yt.Regular?e.targetOrPhase:null,r=e.type===Yt.LegacyAnimation?e.targetOrPhase:null;if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.handler,n,r,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}},jr=class{name;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;isVoid;i18n;constructor(e,n,r,i,s,o,a,l,u,d,p,h,m){this.name=e,this.attributes=n,this.inputs=r,this.outputs=i,this.directives=s,this.children=o,this.references=a,this.isSelfClosing=l,this.sourceSpan=u,this.startSourceSpan=d,this.endSourceSpan=p,this.isVoid=h,this.i18n=m}visit(e){return e.visitElement(this)}},Wr=class{nameSpan;sourceSpan;prefetchSpan;whenOrOnSourceSpan;hydrateSpan;constructor(e,n,r,i,s){this.nameSpan=e,this.sourceSpan=n,this.prefetchSpan=r,this.whenOrOnSourceSpan=i,this.hydrateSpan=s}visit(e){return e.visitDeferredTrigger(this)}},Pf=class extends Wr{value;constructor(e,n,r,i,s){super(null,n,r,i,s),this.value=e}},Xv=class extends Wr{},Qv=class extends Wr{},Kv=class extends Wr{},Lf=class extends Wr{reference;constructor(e,n,r,i,s,o){super(n,r,i,s,o),this.reference=e}},Zv=class extends Wr{delay;constructor(e,n,r,i,s,o){super(n,r,i,s,o),this.delay=e}},Ff=class extends Wr{reference;constructor(e,n,r,i,s,o){super(n,r,i,s,o),this.reference=e}},Lu=class extends Wr{reference;options;constructor(e,n,r,i,s,o,a){super(r,i,s,o,a),this.reference=e,this.options=n}},Xn=class{nameSpan;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i){this.nameSpan=e,this.sourceSpan=n,this.startSourceSpan=r,this.endSourceSpan=i}},Fu=class extends Xn{children;minimumTime;i18n;constructor(e,n,r,i,s,o,a){super(r,i,s,o),this.children=e,this.minimumTime=n,this.i18n=a}visit(e){return e.visitDeferredBlockPlaceholder(this)}},Ou=class extends Xn{children;afterTime;minimumTime;i18n;constructor(e,n,r,i,s,o,a,l){super(i,s,o,a),this.children=e,this.afterTime=n,this.minimumTime=r,this.i18n=l}visit(e){return e.visitDeferredBlockLoading(this)}},Bu=class extends Xn{children;i18n;constructor(e,n,r,i,s,o){super(n,r,i,s),this.children=e,this.i18n=o}visit(e){return e.visitDeferredBlockError(this)}},mo=class extends Xn{children;placeholder;loading;error;mainBlockSpan;i18n;triggers;prefetchTriggers;hydrateTriggers;definedTriggers;definedPrefetchTriggers;definedHydrateTriggers;constructor(e,n,r,i,s,o,a,l,u,d,p,h,m){super(l,u,p,h),this.children=e,this.placeholder=s,this.loading=o,this.error=a,this.mainBlockSpan=d,this.i18n=m,this.triggers=n,this.prefetchTriggers=r,this.hydrateTriggers=i,this.definedTriggers=Object.keys(n),this.definedPrefetchTriggers=Object.keys(r),this.definedHydrateTriggers=Object.keys(i)}visit(e){return e.visitDeferredBlock(this)}visitAll(e){this.visitTriggers(this.definedHydrateTriggers,this.hydrateTriggers,e),this.visitTriggers(this.definedTriggers,this.triggers,e),this.visitTriggers(this.definedPrefetchTriggers,this.prefetchTriggers,e),hv(e,this.children);let n=[this.placeholder,this.loading,this.error].filter(r=>r!==null);hv(e,n)}visitTriggers(e,n,r){hv(r,e.map(i=>n[i]))}},Of=class extends Xn{expression;cases;unknownBlocks;constructor(e,n,r,i,s,o,a){super(a,i,s,o),this.expression=e,this.cases=n,this.unknownBlocks=r}visit(e){return e.visitSwitchBlock(this)}},Vu=class extends Xn{expression;children;i18n;constructor(e,n,r,i,s,o,a){super(o,r,i,s),this.expression=e,this.children=n,this.i18n=a}visit(e){return e.visitSwitchBlockCase(this)}},La=class extends Xn{item;expression;trackBy;trackKeywordSpan;contextVariables;children;empty;mainBlockSpan;i18n;constructor(e,n,r,i,s,o,a,l,u,d,p,h,m){super(h,l,d,p),this.item=e,this.expression=n,this.trackBy=r,this.trackKeywordSpan=i,this.contextVariables=s,this.children=o,this.empty=a,this.mainBlockSpan=u,this.i18n=m}visit(e){return e.visitForLoopBlock(this)}},Uu=class extends Xn{children;i18n;constructor(e,n,r,i,s,o){super(s,n,r,i),this.children=e,this.i18n=o}visit(e){return e.visitForLoopBlockEmpty(this)}},Bf=class extends Xn{branches;constructor(e,n,r,i,s){super(s,n,r,i),this.branches=e}visit(e){return e.visitIfBlock(this)}},eo=class extends Xn{expression;children;expressionAlias;i18n;constructor(e,n,r,i,s,o,a,l){super(a,i,s,o),this.expression=e,this.children=n,this.expressionAlias=r,this.i18n=l}visit(e){return e.visitIfBlockBranch(this)}},Vf=class{name;sourceSpan;nameSpan;constructor(e,n,r){this.name=e,this.sourceSpan=n,this.nameSpan=r}visit(e){return e.visitUnknownBlock(this)}},fE=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,n,r,i,s){this.name=e,this.value=n,this.sourceSpan=r,this.nameSpan=i,this.valueSpan=s}visit(e){return e.visitLetDeclaration(this)}},du=class{componentName;tagName;fullName;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,n,r,i,s,o,a,l,u,d,p,h,m,v){this.componentName=e,this.tagName=n,this.fullName=r,this.attributes=i,this.inputs=s,this.outputs=o,this.directives=a,this.children=l,this.references=u,this.isSelfClosing=d,this.sourceSpan=p,this.startSourceSpan=h,this.endSourceSpan=m,this.i18n=v}visit(e){return e.visitComponent(this)}},ND=class{name;attributes;inputs;outputs;references;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,n,r,i,s,o,a,l,u){this.name=e,this.attributes=n,this.inputs=r,this.outputs=i,this.references=s,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l,this.i18n=u}visit(e){return e.visitDirective(this)}},bn=class{tagName;attributes;inputs;outputs;directives;templateAttrs;children;references;variables;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,n,r,i,s,o,a,l,u,d,p,h,m,v){this.tagName=e,this.attributes=n,this.inputs=r,this.outputs=i,this.directives=s,this.templateAttrs=o,this.children=a,this.references=l,this.variables=u,this.isSelfClosing=d,this.sourceSpan=p,this.startSourceSpan=h,this.endSourceSpan=m,this.i18n=v}visit(e){return e.visitTemplate(this)}},Fa=class{selector;attributes;children;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;name="ng-content";constructor(e,n,r,i,s,o,a,l){this.selector=e,this.attributes=n,this.children=r,this.isSelfClosing=i,this.sourceSpan=s,this.startSourceSpan=o,this.endSourceSpan=a,this.i18n=l}visit(e){return e.visitContent(this)}},ts=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,n,r,i,s){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=s}visit(e){return e.visitVariable(this)}},$u=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,n,r,i,s){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=s}visit(e){return e.visitReference(this)}},MD=class{vars;placeholders;sourceSpan;i18n;constructor(e,n,r,i){this.vars=e,this.placeholders=n,this.sourceSpan=r,this.i18n=i}visit(e){return e.visitIcu(this)}},Hu=class{tagNames;bindings;listeners;sourceSpan;constructor(e,n,r,i){if(this.tagNames=e,this.bindings=n,this.listeners=r,this.sourceSpan=i,e.length===0)throw new Error("HostElement must have at least one tag name.")}visit(){throw new Error("HostElement cannot be visited")}};function hv(t,e){let n=[];if(t.visit)for(let r of e)t.visit(r);else for(let r of e){let i=r.visit(t);i&&n.push(i)}return n}var Jt=class{nodes;placeholders;placeholderToMessage;meaning;description;customId;sources;id;legacyIds=[];messageString;constructor(e,n,r,i,s,o){this.nodes=e,this.placeholders=n,this.placeholderToMessage=r,this.meaning=i,this.description=s,this.customId=o,this.id=this.customId,this.messageString=l1(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}},Ql=class{value;sourceSpan;constructor(e,n){this.value=e,this.sourceSpan=n}visit(e,n){return e.visitText(this,n)}},Ei=class{children;sourceSpan;constructor(e,n){this.children=e,this.sourceSpan=n}visit(e,n){return e.visitContainer(this,n)}},Uf=class{expression;type;cases;sourceSpan;expressionPlaceholder;constructor(e,n,r,i,s){this.expression=e,this.type=n,this.cases=r,this.sourceSpan=i,this.expressionPlaceholder=s}visit(e,n){return e.visitIcu(this,n)}},ns=class{tag;attrs;startName;closeName;children;isVoid;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i,s,o,a,l,u){this.tag=e,this.attrs=n,this.startName=r,this.closeName=i,this.children=s,this.isVoid=o,this.sourceSpan=a,this.startSourceSpan=l,this.endSourceSpan=u}visit(e,n){return e.visitTagPlaceholder(this,n)}},qu=class{value;name;sourceSpan;constructor(e,n,r){this.value=e,this.name=n,this.sourceSpan=r}visit(e,n){return e.visitPlaceholder(this,n)}},Oa=class{value;name;sourceSpan;previousMessage;constructor(e,n,r){this.value=e,this.name=n,this.sourceSpan=r}visit(e,n){return e.visitIcuPlaceholder(this,n)}},rs=class{name;parameters;startName;closeName;children;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i,s,o,a,l){this.name=e,this.parameters=n,this.startName=r,this.closeName=i,this.children=s,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l}visit(e,n){return e.visitBlockPlaceholder(this,n)}};function l1(t){let e=new ey;return t.map(r=>r.visit(e)).join("")}var ey=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){let n=e.children.map(r=>r.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}visitBlockPlaceholder(e){let n=e.children.map(r=>r.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}};var u1=class{visitTag(e){let n=this._serializeAttributes(e.attrs);if(e.children.length==0)return`<${e.name}${n}/>`;let r=e.children.map(i=>i.visit(this));return`<${e.name}${n}>${r.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){let n=Object.keys(e).map(r=>`${r}="${e[r]}"`).join(" ");return n.length>0?" "+n:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [
${e.dtd}
]>`}},OQ=new u1;function c1(t){return t.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var RD="i18n",ty="i18n-",d1="VAR_";function kD(t){return t===RD||t.startsWith(ty)}function f1(t){return t.attrs.some(e=>kD(e.name))}function PD(t){return t.nodes[0]}function pE(t={},e){let n={};return t&&Object.keys(t).length&&Object.keys(t).forEach(r=>n[mc(r,e)]=t[r]),n}function mc(t,e=!0){let n=c1(t);if(!e)return n;let r=n.split("_");if(r.length===1)return t.toLowerCase();let i;/^\d+$/.test(r[r.length-1])&&(i=r.pop());let s=r.shift().toLowerCase();return r.length&&(s+=r.map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join("")),i?`${s}_${i}`:s}var p1=/[-.]/,hE="_t",Gu="ctx",mE="rf";function LD(t,e){let n=null;return()=>(n||(t(new rt(hE,void 0,fc)),n=le(e)),n)}function ya(t){return Array.isArray(t)?we(t.map(ya)):T(t,In)}function W0(t,e){let n=Object.getOwnPropertyNames(t);return n.length===0?null:Xt(n.map(r=>{let i=t[r],s,o,a,l;if(typeof i=="string")s=r,a=r,o=i,l=ya(o);else{a=r,s=i.classPropertyName,o=i.bindingPropertyName;let u=o!==s,d=i.transformFunction!==null,p=iu.None;if(i.isSignal&&(p|=iu.SignalBased),d&&(p|=iu.HasDecoratorInputTransform),e&&(u||d||p!==iu.None)){let h=[T(p),ya(o)];(u||d)&&(h.push(ya(s)),d&&h.push(i.transformFunction)),l=we(h)}else l=ya(o)}return{key:a,quoted:p1.test(a),value:l}}))}var is=class{values=[];set(e,n){if(n){let r=this.values.find(i=>i.key===e);r?r.value=n:this.values.push({key:e,value:n,quoted:!1})}}toLiteralMap(){return Xt(this.values)}};function h1(t){let e=t instanceof jr?t.name:"ng-template",n=m1(t),r=new Da,i=mr(e)[1];return r.setElement(i),Object.getOwnPropertyNames(n).forEach(s=>{let o=mr(s)[1],a=n[s];r.addAttribute(o,a),s.toLowerCase()==="class"&&a.trim().split(/\s+/).forEach(u=>r.addClassName(u))}),r}function m1(t){let e={};return t instanceof bn&&t.tagName!=="ng-template"?t.templateAttrs.forEach(n=>e[n.name]=""):(t.attributes.forEach(n=>{kD(n.name)||(e[n.name]=n.value)}),t.inputs.forEach(n=>{(n.type===he.Property||n.type===he.TwoWay)&&(e[n.name]="")}),t.outputs.forEach(n=>{e[n.name]=""})),e}function Y0(t,e){let n=null,r={name:t.name,type:t.type,typeArgumentCount:t.typeArgumentCount,deps:[],target:mi.Injectable};if(t.useClass!==void 0){let a=t.useClass.expression.isEquivalent(t.type.value),l;t.deps!==void 0&&(l=t.deps),l!==void 0?n=zs(G(S({},r),{delegate:t.useClass.expression,delegateDeps:l,delegateType:If.Class})):a?n=zs(r):n={statements:[],expression:J0(t.type.value,t.useClass.expression,e)}}else t.useFactory!==void 0?t.deps!==void 0?n=zs(G(S({},r),{delegate:t.useFactory,delegateDeps:t.deps||[],delegateType:If.Function})):n={statements:[],expression:hr([],t.useFactory.callFn([]))}:t.useValue!==void 0?n=zs(G(S({},r),{expression:t.useValue.expression})):t.useExisting!==void 0?n=zs(G(S({},r),{expression:B(y.inject).callFn([t.useExisting.expression])})):n={statements:[],expression:J0(t.type.value,t.type.value,e)};let i=t.type.value,s=new is;return s.set("token",i),s.set("factory",n.expression),t.providedIn.expression.value!==null&&s.set("providedIn",ZP(t.providedIn)),{expression:B(y.\u0275\u0275defineInjectable).callFn([s.toLiteralMap()],void 0,!0),type:g1(t),statements:n.statements}}function g1(t){return new Yn(B(y.InjectableDeclaration,[Sp(t.type.type,t.typeArgumentCount)]))}function J0(t,e,n){if(t.node===e.node)return e.prop("\u0275fac");if(!n)return X0(e);let r=B(y.resolveForwardRef).callFn([e]);return X0(r)}function X0(t){let e=new Ct("__ngFactoryType__",fc);return hr([e],t.prop("\u0275fac").callFn([le(e.name)]))}var vt=0,v1=8,gE=9,to=10,FD=11,OD=12,vE=13,BD=32,ny=33,zu=34,VD=35,Dp=36,y1=37,$f=38,ju=39,xn=40,Dt=41,Q0=42,UD=43,cn=44,Hf=45,ou=46,Gn=47,Br=58,Tn=59,Ta=60,Ot=61,Hn=62,K0=63,yE=48,E1=55,$D=57,us=65,C1=69,w1=70,_1=88,ja=90,Ur=91,no=92,vi=93,S1=94,cs=95,go=97,T1=98,D1=101,EE=102,HD=110,qD=114,GD=116,zD=117,jD=118,WD=120,gc=122,dr=123,Z0=124,jt=125,YD=160,ca=64,ry=96;function Wu(t){return t>=gE&&t<=BD||t==YD}function cr(t){return yE<=t&&t<=$D}function ss(t){return t>=go&&t<=gc||t>=us&&t<=ja}function I1(t){return t>=go&&t<=EE||t>=us&&t<=w1||cr(t)}function qf(t){return t===to||t===vE}function eT(t){return yE<=t&&t<=E1}function fu(t){return t===ju||t===zu||t===ry}var Yu=class t{file;offset;line;col;constructor(e,n,r,i){this.file=e,this.offset=n,this.line=r,this.col=i}toString(){return this.offset!=null?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){let n=this.file.content,r=n.length,i=this.offset,s=this.line,o=this.col;for(;i>0&&e<0;)if(i--,e++,n.charCodeAt(i)==to){s--;let l=n.substring(0,i-1).lastIndexOf(String.fromCharCode(to));o=l>0?i-l:i}else o--;for(;i<r&&e>0;){let a=n.charCodeAt(i);i++,e--,a==to?(s++,o=0):o++}return new t(this.file,i,s,o)}getContext(e,n){let r=this.file.content,i=this.offset;if(i!=null){i>r.length-1&&(i=r.length-1);let s=i,o=0,a=0;for(;o<e&&i>0&&(i--,o++,!(r[i]==`
`&&++a==n)););for(o=0,a=0;o<e&&s<r.length-1&&(s++,o++,!(r[s]==`
`&&++a==n)););return{before:r.substring(i,this.offset),after:r.substring(this.offset,s+1)}}return null}},Gf=class{content;url;constructor(e,n){this.content=e,this.url=n}},X=class{start;end;fullStart;details;constructor(e,n,r=e,i=null){this.start=e,this.end=n,this.fullStart=r,this.details=i}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}},Qi=(function(t){return t[t.WARNING=0]="WARNING",t[t.ERROR=1]="ERROR",t})(Qi||{}),z=class extends Error{span;msg;level;relatedError;constructor(e,n,r=Qi.ERROR,i){super(n),this.span=e,this.msg=n,this.level=r,this.relatedError=i,Object.setPrototypeOf(this,new.target.prototype)}contextualMessage(){let e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${Qi[this.level]} ->]${e.after}")`:this.msg}toString(){let e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}};function A1(t,e,n){let r=`in ${t} ${e} in ${n}`,i=new Gf("",r);return new X(new Yu(i,-1,-1,-1),new Yu(i,-1,-1,-1))}var x1=0;function b1(t){if(!t||!t.reference)return null;let e=t.reference;if(e.__anonymousType)return e.__anonymousType;if(e.__forward_ref__)return"__forward_ref__";let n=xD(e);return n.indexOf("(")>=0?(n=`anonymous_${x1++}`,e.__anonymousType=n):n=js(n),n}function js(t){return t.replace(/\W/g,"_")}var tT='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',iy=class extends qv{constructor(){super(!1)}visitWrappedNodeExpr(e,n){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(e,n){return n.print(e,`var ${e.name}`),e.value&&(n.print(e," = "),e.value.visitExpression(this,n)),n.println(e,";"),null}visitTaggedTemplateLiteralExpr(e,n){let r=e.template.elements;return e.tag.visitExpression(this,n),n.print(e,`(${tT}(`),n.print(e,`[${r.map(i=>Ys(i.text,!1)).join(", ")}], `),n.print(e,`[${r.map(i=>Ys(i.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(i=>{n.print(e,", "),i.visitExpression(this,n)}),n.print(e,")"),null}visitTemplateLiteralExpr(e,n){n.print(e,"`");for(let r=0;r<e.elements.length;r++){e.elements[r].visitExpression(this,n);let i=r<e.expressions.length?e.expressions[r]:null;i!==null&&(n.print(i,"${"),i.visitExpression(this,n),n.print(i,"}"))}n.print(e,"`")}visitTemplateLiteralElementExpr(e,n){return n.print(e,e.rawText),null}visitFunctionExpr(e,n){return n.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.print(e,"}"),null}visitArrowFunctionExpr(e,n){if(n.print(e,"("),this._visitParams(e.params,n),n.print(e,") =>"),Array.isArray(e.body))n.println(e,"{"),n.incIndent(),this.visitAllStatements(e.body,n),n.decIndent(),n.print(e,"}");else{let r=e.body instanceof Gr;r&&n.print(e,"("),e.body.visitExpression(this,n),r&&n.print(e,")")}return null}visitDeclareFunctionStmt(e,n){return n.print(e,`function ${e.name}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.println(e,"}"),null}visitLocalizedString(e,n){n.print(e,`$localize(${tT}(`);let r=[e.serializeI18nHead()];for(let i=1;i<e.messageParts.length;i++)r.push(e.serializeI18nTemplatePart(i));return n.print(e,`[${r.map(i=>Ys(i.cooked,!1)).join(", ")}], `),n.print(e,`[${r.map(i=>Ys(i.raw,!1)).join(", ")}])`),e.expressions.forEach(i=>{n.print(e,", "),i.visitExpression(this,n)}),n.print(e,")"),null}_visitParams(e,n){this.visitAllObjects(r=>n.print(null,r.name),e,n,",")}},Wd;function N1(){if(Wd===void 0){let t=cu.trustedTypes;if(Wd=null,t)try{Wd=t.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch{}}return Wd}function M1(t){return N1()?.createScript(t)||t}function nT(...t){if(!cu.trustedTypes)return new Function(...t);let e=t.slice(0,-1).join(","),n=t[t.length-1],r=`(function anonymous(${e}
) { ${n}
})`,i=cu.eval(M1(r));return i.bind===void 0?new Function(...t):(i.toString=()=>r,i.bind(cu))}var sy=class{evaluateStatements(e,n,r,i){let s=new oy(r),o=Hv.createRoot();return n.length>0&&!R1(n[0])&&(n=[T("use strict").toStmt(),...n]),s.visitAllStatements(n,o),s.createReturnStmt(o),this.evaluateCode(e,o,s.getArgs(),i)}evaluateCode(e,n,r,i){let s=`"use strict";${n.toSource()}
//# sourceURL=${e}`,o=[],a=[];for(let u in r)a.push(r[u]),o.push(u);if(i){let u=nT(...o.concat("return null;")).toString(),d=u.slice(0,u.indexOf("return null;")).split(`
`).length-1;s+=`
${n.toSourceMapGenerator(e,d).toJsComment()}`}let l=nT(...o.concat(s));return this.executeFunction(l,a)}executeFunction(e,n){return e(...n)}},oy=class extends iy{refResolver;_evalArgNames=[];_evalArgValues=[];_evalExportedVars=[];constructor(e){super(),this.refResolver=e}createReturnStmt(e){new It(new Gr(this._evalExportedVars.map(r=>new xa(r,le(r),!1)))).visitStatement(this,e)}getArgs(){let e={};for(let n=0;n<this._evalArgNames.length;n++)e[this._evalArgNames[n]]=this._evalArgValues[n];return e}visitExternalExpr(e,n){return this._emitReferenceToExternal(e,this.refResolver.resolveExternalReference(e.value),n),null}visitWrappedNodeExpr(e,n){return this._emitReferenceToExternal(e,e.node,n),null}visitDeclareVarStmt(e,n){return e.hasModifier(yt.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,n)}visitDeclareFunctionStmt(e,n){return e.hasModifier(yt.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,n)}_emitReferenceToExternal(e,n,r){let i=this._evalArgValues.indexOf(n);if(i===-1){i=this._evalArgValues.length,this._evalArgValues.push(n);let s=b1({reference:n})||"val";this._evalArgNames.push(`jit_${s}_${i}`)}r.print(e,this._evalArgNames[i])}};function R1(t){return t.isEquivalent(T("use strict").toStmt())}function rT(t){let e=new is;t.providers!==null&&e.set("providers",t.providers),t.imports.length>0&&e.set("imports",we(t.imports));let n=B(y.defineInjector).callFn([e.toLiteralMap()],void 0,!0),r=k1(t);return{expression:n,type:r,statements:[]}}function k1(t){return new Yn(B(y.InjectorDeclaration,[new Yn(t.type.type)]))}var ay=class{context;constructor(e){this.context=e}resolveExternalReference(e){if(e.moduleName!=="@angular/core")throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}},zf=(function(t){return t[t.Inline=0]="Inline",t[t.SideEffect=1]="SideEffect",t[t.Omit=2]="Omit",t})(zf||{}),Ki=(function(t){return t[t.Global=0]="Global",t[t.Local=1]="Local",t})(Ki||{});function P1(t){let e=[],n=new is;if(n.set("type",t.type.value),t.kind===Ki.Global&&t.bootstrap.length>0&&n.set("bootstrap",Js(t.bootstrap,t.containsForwardDecls)),t.selectorScopeMode===zf.Inline)t.declarations.length>0&&n.set("declarations",Js(t.declarations,t.containsForwardDecls)),t.imports.length>0&&n.set("imports",Js(t.imports,t.containsForwardDecls)),t.exports.length>0&&n.set("exports",Js(t.exports,t.containsForwardDecls));else if(t.selectorScopeMode===zf.SideEffect){let s=O1(t);s!==null&&e.push(s)}t.schemas!==null&&t.schemas.length>0&&n.set("schemas",we(t.schemas.map(s=>s.value))),t.id!==null&&(n.set("id",t.id),e.push(B(y.registerNgModuleType).callFn([t.type.value,t.id]).toStmt()));let r=B(y.defineNgModule).callFn([n.toLiteralMap()],void 0,!0),i=F1(t);return{expression:r,type:i,statements:e}}function L1(t){let e=new is;return e.set("type",new ce(t.type)),t.bootstrap!==void 0&&e.set("bootstrap",new ce(t.bootstrap)),t.declarations!==void 0&&e.set("declarations",new ce(t.declarations)),t.imports!==void 0&&e.set("imports",new ce(t.imports)),t.exports!==void 0&&e.set("exports",new ce(t.exports)),t.schemas!==void 0&&e.set("schemas",new ce(t.schemas)),t.id!==void 0&&e.set("id",new ce(t.id)),B(y.defineNgModule).callFn([e.toLiteralMap()])}function F1(t){if(t.kind===Ki.Local)return new Yn(t.type.value);let{type:e,declarations:n,exports:r,imports:i,includeImportTypes:s,publicDeclarationTypes:o}=t;return new Yn(B(y.NgModuleDeclaration,[new Yn(e.type),o===null?mv(n):B1(o),s?mv(i):Hr,mv(r)]))}function O1(t){let e=new is;if(t.kind===Ki.Global?t.declarations.length>0&&e.set("declarations",Js(t.declarations,t.containsForwardDecls)):t.declarationsExpression&&e.set("declarations",t.declarationsExpression),t.kind===Ki.Global?t.imports.length>0&&e.set("imports",Js(t.imports,t.containsForwardDecls)):t.importsExpression&&e.set("imports",t.importsExpression),t.kind===Ki.Global?t.exports.length>0&&e.set("exports",Js(t.exports,t.containsForwardDecls)):t.exportsExpression&&e.set("exports",t.exportsExpression),t.kind===Ki.Local&&t.bootstrapExpression&&e.set("bootstrap",t.bootstrapExpression),Object.keys(e.values).length===0)return null;let n=new fn(B(y.setNgModuleScope),[t.type.value,e.toLiteralMap()]),r=QP(n),i=new Zi([],[r.toStmt()]);return new fn(i,[]).toStmt()}function mv(t){let e=t.map(n=>pc(n.type));return t.length>0?At(we(e)):Hr}function B1(t){let e=t.map(n=>pc(n));return t.length>0?At(we(e)):Hr}function iT(t){let e=[];e.push({key:"name",value:T(t.pipeName??t.name),quoted:!1}),e.push({key:"type",value:t.type.value,quoted:!1}),e.push({key:"pure",value:T(t.pure),quoted:!1}),t.isStandalone===!1&&e.push({key:"standalone",value:T(!1),quoted:!1});let n=B(y.definePipe).callFn([Xt(e)],void 0,!0),r=V1(t);return{expression:n,type:r,statements:[]}}function V1(t){return new Yn(B(y.PipeDeclaration,[Sp(t.type.type,t.typeArgumentCount),new Yn(new xt(t.pipeName)),new Yn(new xt(t.isStandalone))]))}var Ba=(function(t){return t[t.Directive=0]="Directive",t[t.Pipe=1]="Pipe",t[t.NgModule=2]="NgModule",t})(Ba||{}),U1=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]),$1=["@media","@supports","@document","@layer","@container","@scope","@starting-style"],ly=class{shimCssText(e,n,r=""){let i=[];e=e.replace(r2,a=>{if(a.match(i2))i.push(a);else{let l=a.match(n2);i.push((l?.join("")??"")+`
`)}return wE}),e=this._insertDirectives(e);let s=this._scopeCssText(e,n,r),o=0;return s.replace(s2,()=>i[o++])}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_scopeKeyframesRelatedCss(e,n){let r=new Set,i=Yd(e,s=>this._scopeLocalKeyframeDeclarations(s,n,r));return Yd(i,s=>this._scopeAnimationRule(s,n,r))}_scopeLocalKeyframeDeclarations(e,n,r){return G(S({},e),{selector:e.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,(i,s,o,a,l)=>(r.add(aT(a,o)),`${s}${o}${n}_${a}${o}${l}`))})}_scopeAnimationKeyframe(e,n,r){return e.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,(i,s,o,a,l)=>(a=`${r.has(aT(a,o))?n+"_":""}${a}`,`${s}${o}${a}${o}${l}`))}_animationDeclarationKeyframesRe=/(^|\s+|,)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g;_scopeAnimationRule(e,n,r){let i=e.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation\s*:\s*),*([^;]+)/g,(s,o,a)=>o+a.replace(this._animationDeclarationKeyframesRe,(l,u,d="",p,h)=>p?`${u}${this._scopeAnimationKeyframe(`${d}${p}${d}`,n,r)}`:U1.has(h)?l:`${u}${this._scopeAnimationKeyframe(h,n,r)}`));return i=i.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,(s,o,a)=>`${o}${a.split(",").map(l=>this._scopeAnimationKeyframe(l,n,r)).join(",")}`),G(S({},e),{content:i})}_insertPolyfillDirectivesInCssText(e){return e.replace(q1,function(...n){return n[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(G1,(...n)=>{let r=n[0].replace(n[1],"").replace(n[2],"");return n[4]+r})}_scopeCssText(e,n,r){let i=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),n&&(e=this._scopeKeyframesRelatedCss(e,n),e=this._scopeSelectors(e,n,r)),e=e+`
`+i,e.trim()}_extractUnscopedRulesFromCssText(e){let n="",r;for(sT.lastIndex=0;(r=sT.exec(e))!==null;){let i=r[0].replace(r[2],"").replace(r[1],r[4]);n+=i+`

`}return n}_convertColonHost(e){return e.replace(Y1,(n,r,i)=>{if(r){let s=[];for(let o of this._splitOnTopLevelCommas(r,!0)){let a=o.trim();if(!a)break;let l=Yi+a.replace(jf,"")+i;s.push(l)}return s.join(",")}else return Yi+i})}*_splitOnTopLevelCommas(e,n){let r=e.length,i=0,s=0;for(let o=0;o<r;o++){let a=e.charCodeAt(o);if(a===xn)i++;else if(a===Dt){if(i--,i<0&&n){yield e.slice(s,o);return}}else a===cn&&i===0&&(yield e.slice(s,o),s=o+1)}yield e.slice(s)}_convertColonHostContext(e){let n=[];for(let r of this._splitOnTopLevelCommas(e,!1))n.push(this._convertColonHostContextInSelectorPart(r));return n.join(",")}_convertColonHostContextInSelectorPart(e){return e.replace(X1,(n,r)=>{let i=[[]],s=n.indexOf(ga);for(;s!==-1;){let o=n.substring(s+ga.length);if(!o||o[0]!=="("){n=o,s=n.indexOf(ga);continue}let a=[],l=0;for(let d of this._splitOnTopLevelCommas(o.substring(1),!0)){l=l+d.length+1;let p=d.trim();p&&a.push(p)}let u=i.length;g2(i,a.length);for(let d=0;d<a.length;d++)for(let p=0;p<u;p++)i[p+d*u].push(a[d]);n=o.substring(l+1),s=n.indexOf(ga)}return i.map(o=>m2(o,n,r)).join(", ")})}_convertShadowDOMSelectors(e){return K1.reduce((n,r)=>n.replace(r," "),e)}_scopeSelectors(e,n,r){return Yd(e,i=>{let s=i.selector,o=i.content;return i.selector[0]!=="@"?s=this._scopeSelector({selector:s,scopeSelector:n,hostSelector:r,isParentSelector:!0}):$1.some(a=>i.selector.startsWith(a))?o=this._scopeSelectors(i.content,n,r):(i.selector.startsWith("@font-face")||i.selector.startsWith("@page"))&&(o=this._stripScopingSelectors(i.content)),new Ju(s,o)})}_stripScopingSelectors(e){return Yd(e,n=>{let r=n.selector.replace(oT," ").replace(gv," ");return new Ju(r,n.content)})}_safeSelector;_shouldScopeIndicator;_scopeSelector({selector:e,scopeSelector:n,hostSelector:r,isParentSelector:i=!1}){let s=/ ?,(?!(?:[^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\))) ?/;return e.split(s).map(o=>o.split(oT)).map(o=>{let[a,...l]=o;return[(d=>this._selectorNeedsScoping(d,n)?this._applySelectorScope({selector:d,scopeSelector:n,hostSelector:r,isParentSelector:i}):d)(a),...l].join(" ")}).join(", ")}_selectorNeedsScoping(e,n){return!this._makeScopeMatcher(n).test(e)}_makeScopeMatcher(e){let n=/\[/g,r=/\]/g;return e=e.replace(n,"\\[").replace(r,"\\]"),new RegExp("^("+e+")"+Z1,"m")}_applySimpleSelectorScope(e,n,r){if(Ea.lastIndex=0,Ea.test(e)){let i=`[${r}]`,s=e;for(;s.match(gv);)s=s.replace(gv,(o,a)=>a.replace(/([^:\)]*)(:*)(.*)/,(l,u,d,p)=>u+i+d+p));return s.replace(Ea,i)}return n+" "+e}_applySelectorScope({selector:e,scopeSelector:n,hostSelector:r,isParentSelector:i}){let s=/\[is=([^\]]*)\]/g;n=n.replace(s,(C,...w)=>w[0]);let o=`[${n}]`,a=C=>{let w=C.trim();if(!w)return C;if(C.includes(Yi)){if(w=this._applySimpleSelectorScope(C,n,r),!C.match(Q1)){let[E,D,M,x]=w.match(/([^:]*)(:*)([\s\S]*)/);w=D+o+M+x}}else{let E=C.replace(Ea,"");if(E.length>0){let D=E.match(/([^:]*)(:*)([\s\S]*)/);D&&(w=D[1]+o+D[2]+D[3])}}return w},l=C=>{let w="",E=[],D;for(;(D=Kl.exec(C))!==null;){let M=1,x=Kl.lastIndex;for(;x<C.length;){let U=C[x];if(x++,U==="("){M++;continue}if(U===")"){if(M--,M===0)break;continue}}E.push(`${D[0]}${C.slice(Kl.lastIndex,x)}`),Kl.lastIndex=x}return E.join("")===C?w=E.map(M=>{let[x]=M.match(Kl)??[],U=M.slice(x?.length,-1);U.includes(Yi)&&(this._shouldScopeIndicator=!0);let ee=this._scopeSelector({selector:U,scopeSelector:n,hostSelector:r});return`${x}${ee})`}).join(""):(this._shouldScopeIndicator=this._shouldScopeIndicator||C.includes(Yi),w=this._shouldScopeIndicator?a(C):C),w};i&&(this._safeSelector=new uy(e),e=this._safeSelector.content());let u="",d=0,p,h=/( |>|\+|~(?!=))(?!([^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\)))\s*/g,m=e.includes(Yi);for((i||this._shouldScopeIndicator)&&(this._shouldScopeIndicator=!m);(p=h.exec(e))!==null;){let C=p[1],w=e.slice(d,p.index);if(w.match(/__esc-ph-(\d+)__/)&&e[p.index+1]?.match(/[a-fA-F\d]/))continue;let E=l(w);u+=`${E} ${C} `,d=h.lastIndex}let v=e.substring(d);return u+=l(v),this._safeSelector.restore(u)}_insertPolyfillHostInCssText(e){return e.replace(t2,ga).replace(e2,jf)}},uy=class{placeholders=[];index=0;_content;constructor(e){e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=e.replace(/(\\.)/g,(n,r)=>{let i=`__esc-ph-${this.index}__`;return this.placeholders.push(r),this.index++,i}),this._content=e.replace(W1,(n,r,i)=>{let s=`__ph-${this.index}__`;return this.placeholders.push(`(${i})`),this.index++,r+s})}restore(e){return e.replace(/__(?:ph|esc-ph)-(\d+)__/g,(n,r)=>this.placeholders[+r])}content(){return this._content}_escapeRegexMatches(e,n){return e.replace(n,(r,i)=>{let s=`__ph-${this.index}__`;return this.placeholders.push(i),this.index++,s})}},H1="(:(where|is)\\()?",Kl=/:(where|is)\(/gi,q1=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,G1=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,sT=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,jf="-shadowcsshost",ga="-shadowcsscontext",cy="[^)(]*",z1=String.raw`(?:\(${cy}\)|${cy})+?`,j1=String.raw`(?:\(${z1}\)|${cy})+?`,CE=String.raw`(?:\((${j1})\))`,W1=new RegExp(String.raw`(:nth-[-\w]+)`+CE,"g"),Y1=new RegExp(jf+CE+"?([^,{]*)","gim"),J1=ga+CE+"?([^{]*)",X1=new RegExp(`${H1}(${J1})`,"gim"),Yi=jf+"-no-combinator",Q1=new RegExp(`${Yi}(?![^(]*\\))`,"g"),gv=/-shadowcsshost-no-combinator([^\s,]*)/,K1=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],oT=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,Z1="([>\\s~+[.,{:][\\s\\S]*)?$",Ea=/-shadowcsshost/gim,e2=/:host/gim,t2=/:host-context/gim,n2=/\r?\n/g,r2=/\/\*[\s\S]*?\*\//g,i2=/\/\*\s*#\s*source(Mapping)?URL=/g,wE="%COMMENT%",s2=new RegExp(wE,"g"),vv="%BLOCK%",o2=new RegExp(`(\\s*(?:${wE}\\s*)*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))`,"g"),a2=new Map([["{","}"]]),JD="%COMMA_IN_PLACEHOLDER%",XD="%SEMI_IN_PLACEHOLDER%",QD="%COLON_IN_PLACEHOLDER%",l2=new RegExp(JD,"g"),u2=new RegExp(XD,"g"),c2=new RegExp(QD,"g"),Ju=class{selector;content;constructor(e,n){this.selector=e,this.content=n}};function Yd(t,e){let n=p2(t),r=d2(n,a2,vv),i=0,s=r.escapedString.replace(o2,(...o)=>{let a=o[2],l="",u=o[4],d="";u&&u.startsWith("{"+vv)&&(l=r.blocks[i++],u=u.substring(vv.length+1),d="{");let p=e(new Ju(a,l));return`${o[1]}${p.selector}${o[3]}${d}${p.content}${u}`});return h2(s)}var dy=class{escapedString;blocks;constructor(e,n){this.escapedString=e,this.blocks=n}};function d2(t,e,n){let r=[],i=[],s=0,o=0,a=-1,l,u;for(let d=0;d<t.length;d++){let p=t[d];p==="\\"?d++:p===u?(s--,s===0&&(i.push(t.substring(a,d)),r.push(n),o=d,a=-1,l=u=void 0)):p===l?s++:s===0&&e.has(p)&&(l=p,u=e.get(p),s=1,a=d+1,r.push(t.substring(o,a)))}return a!==-1?(i.push(t.substring(a)),r.push(n)):r.push(t.substring(o)),new dy(r.join(""),i)}var f2={";":XD,",":JD,":":QD};function p2(t){let e=t,n=null;for(let r=0;r<e.length;r++){let i=e[r];if(i==="\\")r++;else if(n!==null)if(i===n)n=null;else{let s=f2[i];s&&(e=`${e.substr(0,r)}${s}${e.substr(r+1)}`,r+=s.length-1)}else(i==="'"||i==='"')&&(n=i)}return e}function h2(t){let e=t.replace(l2,",");return e=e.replace(u2,";"),e=e.replace(c2,":"),e}function aT(t,e){return e?t.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):t}function m2(t,e,n=""){let r=Yi;Ea.lastIndex=0;let i=Ea.test(e);if(t.length===0)return r+e;let s=[t.pop()||""];for(;t.length>0;){let o=s.length,a=t.pop();for(let l=0;l<o;l++){let u=s[l];s[o*2+l]=u+" "+a,s[o+l]=a+" "+u,s[l]=a+u}}return s.map(o=>i?`${n}${o}${e}`:`${n}${o}${r}${e}, ${n}${o} ${r}${e}`).join(",")}function g2(t,e){let n=t.length;for(let r=1;r<e;r++)for(let i=0;i<n;i++)t[i+r*n]=t[i].slice(0)}var g=(function(t){return t[t.ListEnd=0]="ListEnd",t[t.Statement=1]="Statement",t[t.Variable=2]="Variable",t[t.ElementStart=3]="ElementStart",t[t.Element=4]="Element",t[t.Template=5]="Template",t[t.ElementEnd=6]="ElementEnd",t[t.ContainerStart=7]="ContainerStart",t[t.Container=8]="Container",t[t.ContainerEnd=9]="ContainerEnd",t[t.DisableBindings=10]="DisableBindings",t[t.ConditionalCreate=11]="ConditionalCreate",t[t.ConditionalBranchCreate=12]="ConditionalBranchCreate",t[t.Conditional=13]="Conditional",t[t.EnableBindings=14]="EnableBindings",t[t.Text=15]="Text",t[t.Listener=16]="Listener",t[t.InterpolateText=17]="InterpolateText",t[t.Binding=18]="Binding",t[t.Property=19]="Property",t[t.StyleProp=20]="StyleProp",t[t.ClassProp=21]="ClassProp",t[t.StyleMap=22]="StyleMap",t[t.ClassMap=23]="ClassMap",t[t.Advance=24]="Advance",t[t.Pipe=25]="Pipe",t[t.Attribute=26]="Attribute",t[t.ExtractedAttribute=27]="ExtractedAttribute",t[t.Defer=28]="Defer",t[t.DeferOn=29]="DeferOn",t[t.DeferWhen=30]="DeferWhen",t[t.I18nMessage=31]="I18nMessage",t[t.DomProperty=32]="DomProperty",t[t.Namespace=33]="Namespace",t[t.ProjectionDef=34]="ProjectionDef",t[t.Projection=35]="Projection",t[t.RepeaterCreate=36]="RepeaterCreate",t[t.Repeater=37]="Repeater",t[t.TwoWayProperty=38]="TwoWayProperty",t[t.TwoWayListener=39]="TwoWayListener",t[t.DeclareLet=40]="DeclareLet",t[t.StoreLet=41]="StoreLet",t[t.I18nStart=42]="I18nStart",t[t.I18n=43]="I18n",t[t.I18nEnd=44]="I18nEnd",t[t.I18nExpression=45]="I18nExpression",t[t.I18nApply=46]="I18nApply",t[t.IcuStart=47]="IcuStart",t[t.IcuEnd=48]="IcuEnd",t[t.IcuPlaceholder=49]="IcuPlaceholder",t[t.I18nContext=50]="I18nContext",t[t.I18nAttributes=51]="I18nAttributes",t[t.SourceLocation=52]="SourceLocation",t[t.Animation=53]="Animation",t[t.AnimationString=54]="AnimationString",t[t.AnimationBinding=55]="AnimationBinding",t[t.AnimationListener=56]="AnimationListener",t[t.Control=57]="Control",t[t.ControlCreate=58]="ControlCreate",t})(g||{}),$=(function(t){return t[t.LexicalRead=0]="LexicalRead",t[t.Context=1]="Context",t[t.TrackContext=2]="TrackContext",t[t.ReadVariable=3]="ReadVariable",t[t.NextContext=4]="NextContext",t[t.Reference=5]="Reference",t[t.StoreLet=6]="StoreLet",t[t.ContextLetReference=7]="ContextLetReference",t[t.GetCurrentView=8]="GetCurrentView",t[t.RestoreView=9]="RestoreView",t[t.ResetView=10]="ResetView",t[t.PureFunctionExpr=11]="PureFunctionExpr",t[t.PureFunctionParameterExpr=12]="PureFunctionParameterExpr",t[t.PipeBinding=13]="PipeBinding",t[t.PipeBindingVariadic=14]="PipeBindingVariadic",t[t.SafePropertyRead=15]="SafePropertyRead",t[t.SafeKeyedRead=16]="SafeKeyedRead",t[t.SafeInvokeFunction=17]="SafeInvokeFunction",t[t.SafeTernaryExpr=18]="SafeTernaryExpr",t[t.EmptyExpr=19]="EmptyExpr",t[t.AssignTemporaryExpr=20]="AssignTemporaryExpr",t[t.ReadTemporaryExpr=21]="ReadTemporaryExpr",t[t.SlotLiteralExpr=22]="SlotLiteralExpr",t[t.ConditionalCase=23]="ConditionalCase",t[t.ConstCollected=24]="ConstCollected",t[t.TwoWayBindingSet=25]="TwoWayBindingSet",t})($||{}),jn=(function(t){return t[t.None=0]="None",t[t.AlwaysInline=1]="AlwaysInline",t})(jn||{}),Et=(function(t){return t[t.Context=0]="Context",t[t.Identifier=1]="Identifier",t[t.SavedView=2]="SavedView",t[t.Alias=3]="Alias",t})(Et||{}),Rn=(function(t){return t[t.Normal=0]="Normal",t[t.TemplateDefinitionBuilder=1]="TemplateDefinitionBuilder",t})(Rn||{}),O=(function(t){return t[t.Attribute=0]="Attribute",t[t.ClassName=1]="ClassName",t[t.StyleProperty=2]="StyleProperty",t[t.Property=3]="Property",t[t.Template=4]="Template",t[t.I18n=5]="I18n",t[t.LegacyAnimation=6]="LegacyAnimation",t[t.TwoWayProperty=7]="TwoWayProperty",t[t.Animation=8]="Animation",t})(O||{}),Xu=(function(t){return t[t.Creation=0]="Creation",t[t.Postproccessing=1]="Postproccessing",t})(Xu||{}),Wa=(function(t){return t[t.I18nText=0]="I18nText",t[t.I18nAttribute=1]="I18nAttribute",t})(Wa||{}),Pe=(function(t){return t[t.None=0]="None",t[t.ElementTag=1]="ElementTag",t[t.TemplateTag=2]="TemplateTag",t[t.OpenTag=4]="OpenTag",t[t.CloseTag=8]="CloseTag",t[t.ExpressionIndex=16]="ExpressionIndex",t})(Pe||{}),Bt=(function(t){return t[t.HTML=0]="HTML",t[t.SVG=1]="SVG",t[t.Math=2]="Math",t})(Bt||{}),Ae=(function(t){return t[t.Idle=0]="Idle",t[t.Immediate=1]="Immediate",t[t.Timer=2]="Timer",t[t.Hover=3]="Hover",t[t.Interaction=4]="Interaction",t[t.Viewport=5]="Viewport",t[t.Never=6]="Never",t})(Ae||{}),Qs=(function(t){return t[t.RootI18n=0]="RootI18n",t[t.Icu=1]="Icu",t[t.Attr=2]="Attr",t})(Qs||{}),dn=(function(t){return t[t.NgTemplate=0]="NgTemplate",t[t.Structural=1]="Structural",t[t.Block=2]="Block",t})(dn||{}),KD=Symbol("ConsumesSlot"),_E=Symbol("DependsOnSlotContext"),Ya=Symbol("ConsumesVars"),Ip=Symbol("UsesVarOffset"),Kn={[KD]:!0,numSlotsUsed:1},pn={[_E]:!0},Qt={[Ya]:!0};function Ja(t){return t[KD]===!0}function Qu(t){return t[_E]===!0}function yv(t){return t[Ya]===!0}function lT(t){return t[Ip]===!0}function Qn(t){return S({kind:g.Statement,statement:t},W)}function Xi(t,e,n,r){return S({kind:g.Variable,xref:t,variable:e,initializer:n,flags:r},W)}var W={debugListId:null,prev:null,next:null};function v2(t,e,n){return S(S(S({kind:g.InterpolateText,target:t,interpolation:e,sourceSpan:n},pn),Qt),W)}var Ge=class{strings;expressions;i18nPlaceholders;constructor(e,n,r){if(this.strings=e,this.expressions=n,this.i18nPlaceholders=r,r.length!==0&&r.length!==n.length)throw new Error(`Expected ${n.length} placeholders to match interpolation expression count, but got ${r.length}`)}};function vo(t,e,n,r,i,s,o,a,l,u,d){return S({kind:g.Binding,bindingKind:e,target:t,name:n,expression:r,unit:i,securityContext:s,isTextAttribute:o,isStructuralTemplateAttribute:a,templateKind:l,i18nContext:null,i18nMessage:u,sourceSpan:d},W)}function y2(t,e,n,r,i,s,o,a,l,u){return S(S(S({kind:g.Property,target:t,name:e,expression:n,bindingKind:r,securityContext:i,sanitizer:null,isStructuralTemplateAttribute:s,templateKind:o,i18nContext:a,i18nMessage:l,sourceSpan:u},pn),Qt),W)}function E2(t,e,n,r,i,s,o,a,l){return S(S(S({kind:g.TwoWayProperty,target:t,name:e,expression:n,securityContext:r,sanitizer:null,isStructuralTemplateAttribute:i,templateKind:s,i18nContext:o,i18nMessage:a,sourceSpan:l},pn),Qt),W)}function C2(t,e,n,r,i){return S(S(S({kind:g.StyleProp,target:t,name:e,expression:n,unit:r,sourceSpan:i},pn),Qt),W)}function w2(t,e,n,r){return S(S(S({kind:g.ClassProp,target:t,name:e,expression:n,sourceSpan:r},pn),Qt),W)}function _2(t,e,n){return S(S(S({kind:g.StyleMap,target:t,expression:e,sourceSpan:n},pn),Qt),W)}function S2(t,e,n){return S(S(S({kind:g.ClassMap,target:t,expression:e,sourceSpan:n},pn),Qt),W)}function uT(t,e,n,r,i,s,o,a,l,u){return S(S(S({kind:g.Attribute,target:t,namespace:e,name:n,expression:r,securityContext:i,sanitizer:null,isTextAttribute:s,isStructuralTemplateAttribute:o,templateKind:a,i18nContext:null,i18nMessage:l,sourceSpan:u},pn),Qt),W)}function T2(t,e){return S({kind:g.Advance,delta:t,sourceSpan:e},W)}function ZD(t,e,n,r){return S(S(S({kind:g.Conditional,target:t,test:e,conditions:n,processed:null,sourceSpan:r,contextValue:null},W),pn),Qt)}function D2(t,e,n,r){return S(S({kind:g.Repeater,target:t,targetSlot:e,collection:n,sourceSpan:r},W),pn)}function cT(t,e,n,r,i,s,o){return S({kind:g.AnimationBinding,name:t,target:e,animationKind:n,expression:r,i18nMessage:null,securityContext:i,sanitizer:null,sourceSpan:s,animationBindingKind:o},W)}function I2(t,e,n,r){return S(S(S({kind:g.DeferWhen,target:t,expr:e,modifier:n,sourceSpan:r},W),pn),Qt)}function eI(t,e,n,r,i,s,o,a,l,u,d){return S(S(S({kind:g.I18nExpression,context:t,target:e,i18nOwner:n,handle:r,expression:i,icuPlaceholder:s,i18nPlaceholder:o,resolutionTime:a,usage:l,name:u,sourceSpan:d},W),Qt),pn)}function A2(t,e,n){return S({kind:g.I18nApply,owner:t,handle:e,sourceSpan:n},W)}function x2(t,e,n,r){return S(S(S({kind:g.StoreLet,target:t,declaredName:e,value:n,sourceSpan:r},pn),Qt),W)}function b2(t){return S(S(S({kind:g.Control,target:t.target,name:t.name,expression:t.expression,bindingKind:t.bindingKind,securityContext:t.securityContext,sanitizer:null,isStructuralTemplateAttribute:t.isStructuralTemplateAttribute,templateKind:t.templateKind,i18nContext:t.i18nContext,i18nMessage:t.i18nMessage,sourceSpan:t.sourceSpan},pn),Qt),W)}function Yr(t){return t instanceof be}var be=class extends Se{constructor(e=null){super(null,e)}},Tt=class t extends be{name;kind=$.LexicalRead;constructor(e){super(),this.name=e}visitExpression(e,n){}isEquivalent(e){return this.name===e.name}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.name)}},Wf=class t extends be{target;targetSlot;offset;kind=$.Reference;constructor(e,n,r){super(),this.target=e,this.targetSlot=n,this.offset=r}visitExpression(){}isEquivalent(e){return e instanceof t&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.target,this.targetSlot,this.offset)}},Ku=class t extends be{target;value;sourceSpan;kind=$.StoreLet;[Ya]=!0;[_E]=!0;constructor(e,n,r){super(),this.target=e,this.value=n,this.sourceSpan=r}visitExpression(){}isEquivalent(e){return e instanceof t&&e.target===this.target&&e.value.isEquivalent(this.value)}isConstant(){return!1}transformInternalExpressions(e,n){this.value=L(this.value,e,n)}clone(){return new t(this.target,this.value,this.sourceSpan)}},Zu=class t extends be{target;targetSlot;kind=$.ContextLetReference;constructor(e,n){super(),this.target=e,this.targetSlot=n}visitExpression(){}isEquivalent(e){return e instanceof t&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.target,this.targetSlot)}},os=class t extends be{view;kind=$.Context;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof t&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},fy=class t extends be{view;kind=$.TrackContext;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof t&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},Yf=class t extends be{kind=$.NextContext;steps=1;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof t&&e.steps===this.steps}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new t;return e.steps=this.steps,e}},py=class t extends be{kind=$.GetCurrentView;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof t}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t}},Jf=class t extends be{view;kind=$.RestoreView;constructor(e){super(),this.view=e}visitExpression(e,n){typeof this.view!="number"&&this.view.visitExpression(e,n)}isEquivalent(e){return!(e instanceof t)||typeof e.view!=typeof this.view?!1:typeof this.view=="number"?this.view===e.view:this.view.isEquivalent(e.view)}isConstant(){return!1}transformInternalExpressions(e,n){typeof this.view!="number"&&(this.view=L(this.view,e,n))}clone(){return new t(this.view instanceof Se?this.view.clone():this.view)}},hy=class t extends be{expr;kind=$.ResetView;constructor(e){super(),this.expr=e}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}transformInternalExpressions(e,n){this.expr=L(this.expr,e,n)}clone(){return new t(this.expr.clone())}},Xf=class t extends be{target;value;kind=$.TwoWayBindingSet;constructor(e,n){super(),this.target=e,this.value=n}visitExpression(e,n){this.target.visitExpression(e,n),this.value.visitExpression(e,n)}isEquivalent(e){return this.target.isEquivalent(e.target)&&this.value.isEquivalent(e.value)}isConstant(){return!1}transformInternalExpressions(e,n){this.target=L(this.target,e,n),this.value=L(this.value,e,n)}clone(){return new t(this.target,this.value)}},Ci=class t extends be{xref;kind=$.ReadVariable;name=null;constructor(e){super(),this.xref=e}visitExpression(){}isEquivalent(e){return e instanceof t&&e.xref===this.xref}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new t(this.xref);return e.name=this.name,e}},yo=class t extends be{kind=$.PureFunctionExpr;[Ya]=!0;[Ip]=!0;varOffset=null;body;args;fn=null;constructor(e,n){super(),this.body=e,this.args=n}visitExpression(e,n){this.body?.visitExpression(e,n);for(let r of this.args)r.visitExpression(e,n)}isEquivalent(e){return!(e instanceof t)||e.args.length!==this.args.length?!1:e.body!==null&&this.body!==null&&e.body.isEquivalent(this.body)&&e.args.every((n,r)=>n.isEquivalent(this.args[r]))}isConstant(){return!1}transformInternalExpressions(e,n){this.body!==null?this.body=L(this.body,e,n|me.InChildOperation):this.fn!==null&&(this.fn=L(this.fn,e,n));for(let r=0;r<this.args.length;r++)this.args[r]=L(this.args[r],e,n)}clone(){let e=new t(this.body?.clone()??null,this.args.map(n=>n.clone()));return e.fn=this.fn?.clone()??null,e.varOffset=this.varOffset,e}},Va=class t extends be{index;kind=$.PureFunctionParameterExpr;constructor(e){super(),this.index=e}visitExpression(){}isEquivalent(e){return e instanceof t&&e.index===this.index}isConstant(){return!0}transformInternalExpressions(){}clone(){return new t(this.index)}},Eo=class t extends be{target;targetSlot;name;args;kind=$.PipeBinding;[Ya]=!0;[Ip]=!0;varOffset=null;constructor(e,n,r,i){super(),this.target=e,this.targetSlot=n,this.name=r,this.args=i}visitExpression(e,n){for(let r of this.args)r.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){for(let r=0;r<this.args.length;r++)this.args[r]=L(this.args[r],e,n)}clone(){let e=new t(this.target,this.targetSlot,this.name,this.args.map(n=>n.clone()));return e.varOffset=this.varOffset,e}},ec=class t extends be{target;targetSlot;name;args;numArgs;kind=$.PipeBindingVariadic;[Ya]=!0;[Ip]=!0;varOffset=null;constructor(e,n,r,i,s){super(),this.target=e,this.targetSlot=n,this.name=r,this.args=i,this.numArgs=s}visitExpression(e,n){this.args.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.args=L(this.args,e,n)}clone(){let e=new t(this.target,this.targetSlot,this.name,this.args.clone(),this.numArgs);return e.varOffset=this.varOffset,e}},Ua=class t extends be{receiver;name;kind=$.SafePropertyRead;constructor(e,n){super(),this.receiver=e,this.name=n}get index(){return this.name}visitExpression(e,n){this.receiver.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=L(this.receiver,e,n)}clone(){return new t(this.receiver.clone(),this.name)}},$a=class t extends be{receiver;index;kind=$.SafeKeyedRead;constructor(e,n,r){super(r),this.receiver=e,this.index=n}visitExpression(e,n){this.receiver.visitExpression(e,n),this.index.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=L(this.receiver,e,n),this.index=L(this.index,e,n)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.sourceSpan)}},Co=class t extends be{receiver;args;kind=$.SafeInvokeFunction;constructor(e,n){super(),this.receiver=e,this.args=n}visitExpression(e,n){this.receiver.visitExpression(e,n);for(let r of this.args)r.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=L(this.receiver,e,n);for(let r=0;r<this.args.length;r++)this.args[r]=L(this.args[r],e,n)}clone(){return new t(this.receiver.clone(),this.args.map(e=>e.clone()))}},Ha=class t extends be{guard;expr;kind=$.SafeTernaryExpr;constructor(e,n){super(),this.guard=e,this.expr=n}visitExpression(e,n){this.guard.visitExpression(e,n),this.expr.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.guard=L(this.guard,e,n),this.expr=L(this.expr,e,n)}clone(){return new t(this.guard.clone(),this.expr.clone())}},tc=class t extends be{kind=$.EmptyExpr;visitExpression(e,n){}isEquivalent(e){return e instanceof t}isConstant(){return!0}clone(){return new t}transformInternalExpressions(){}},Jr=class t extends be{expr;xref;kind=$.AssignTemporaryExpr;name=null;constructor(e,n){super(),this.expr=e,this.xref=n}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.expr=L(this.expr,e,n)}clone(){let e=new t(this.expr.clone(),this.xref);return e.name=this.name,e}},as=class t extends be{xref;kind=$.ReadTemporaryExpr;name=null;constructor(e){super(),this.xref=e}visitExpression(e,n){}isEquivalent(){return this.xref===this.xref}isConstant(){return!1}transformInternalExpressions(e,n){}clone(){let e=new t(this.xref);return e.name=this.name,e}},Qf=class t extends be{slot;kind=$.SlotLiteralExpr;constructor(e){super(),this.slot=e}visitExpression(e,n){}isEquivalent(e){return e instanceof t&&e.slot===this.slot}isConstant(){return!0}clone(){return new t(this.slot)}transformInternalExpressions(){}},Kf=class t extends be{expr;target;targetSlot;alias;kind=$.ConditionalCase;constructor(e,n,r,i=null){super(),this.expr=e,this.target=n,this.targetSlot=r,this.alias=i}visitExpression(e,n){this.expr!==null&&this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&e.expr===this.expr}isConstant(){return!0}clone(){return new t(this.expr,this.target,this.targetSlot)}transformInternalExpressions(e,n){this.expr!==null&&(this.expr=L(this.expr,e,n))}},nc=class t extends be{expr;kind=$.ConstCollected;constructor(e){super(),this.expr=e}transformInternalExpressions(e,n){this.expr=e(this.expr,n)}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t?this.expr.isEquivalent(e.expr):!1}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr)}};function wt(t,e){Ke(t,(n,r)=>(e(n,r),n),me.None)}var me=(function(t){return t[t.None=0]="None",t[t.InChildOperation=1]="InChildOperation",t})(me||{});function Ev(t,e,n){for(let r=0;r<t.expressions.length;r++)t.expressions[r]=L(t.expressions[r],e,n)}function Ke(t,e,n){switch(t.kind){case g.StyleProp:case g.StyleMap:case g.ClassProp:case g.ClassMap:case g.AnimationString:case g.AnimationBinding:case g.Binding:t.expression instanceof Ge?Ev(t.expression,e,n):t.expression=L(t.expression,e,n);break;case g.Property:case g.DomProperty:case g.Attribute:case g.Control:t.expression instanceof Ge?Ev(t.expression,e,n):t.expression=L(t.expression,e,n),t.sanitizer=t.sanitizer&&L(t.sanitizer,e,n);break;case g.TwoWayProperty:t.expression=L(t.expression,e,n),t.sanitizer=t.sanitizer&&L(t.sanitizer,e,n);break;case g.I18nExpression:t.expression=L(t.expression,e,n);break;case g.InterpolateText:Ev(t.interpolation,e,n);break;case g.Statement:Zf(t.statement,e,n);break;case g.Variable:t.initializer=L(t.initializer,e,n);break;case g.Conditional:for(let r of t.conditions)r.expr!==null&&(r.expr=L(r.expr,e,n));t.processed!==null&&(t.processed=L(t.processed,e,n)),t.contextValue!==null&&(t.contextValue=L(t.contextValue,e,n));break;case g.Animation:case g.AnimationListener:case g.Listener:case g.TwoWayListener:for(let r of t.handlerOps)Ke(r,e,n|me.InChildOperation);break;case g.ExtractedAttribute:t.expression=t.expression&&L(t.expression,e,n),t.trustedValueFn=t.trustedValueFn&&L(t.trustedValueFn,e,n);break;case g.RepeaterCreate:if(t.trackByOps===null)t.track=L(t.track,e,n);else for(let r of t.trackByOps)Ke(r,e,n|me.InChildOperation);t.trackByFn!==null&&(t.trackByFn=L(t.trackByFn,e,n));break;case g.Repeater:t.collection=L(t.collection,e,n);break;case g.Defer:t.loadingConfig!==null&&(t.loadingConfig=L(t.loadingConfig,e,n)),t.placeholderConfig!==null&&(t.placeholderConfig=L(t.placeholderConfig,e,n)),t.resolverFn!==null&&(t.resolverFn=L(t.resolverFn,e,n));break;case g.I18nMessage:for(let[r,i]of t.params)t.params.set(r,L(i,e,n));for(let[r,i]of t.postprocessingParams)t.postprocessingParams.set(r,L(i,e,n));break;case g.DeferWhen:t.expr=L(t.expr,e,n);break;case g.StoreLet:t.value=L(t.value,e,n);break;case g.Advance:case g.Container:case g.ContainerEnd:case g.ContainerStart:case g.DeferOn:case g.DisableBindings:case g.Element:case g.ElementEnd:case g.ElementStart:case g.EnableBindings:case g.I18n:case g.I18nApply:case g.I18nContext:case g.I18nEnd:case g.I18nStart:case g.IcuEnd:case g.IcuStart:case g.Namespace:case g.Pipe:case g.Projection:case g.ProjectionDef:case g.Template:case g.Text:case g.I18nAttributes:case g.IcuPlaceholder:case g.DeclareLet:case g.SourceLocation:case g.ConditionalCreate:case g.ConditionalBranchCreate:case g.ControlCreate:break;default:throw new Error(`AssertionError: transformExpressionsInOp doesn't handle ${g[t.kind]}`)}}function L(t,e,n){if(t instanceof be)t.transformInternalExpressions(e,n);else if(t instanceof pe)t.lhs=L(t.lhs,e,n),t.rhs=L(t.rhs,e,n);else if(t instanceof uo)t.expr=L(t.expr,e,n);else if(t instanceof Mn)t.receiver=L(t.receiver,e,n);else if(t instanceof wi)t.receiver=L(t.receiver,e,n),t.index=L(t.index,e,n);else if(t instanceof fn){t.fn=L(t.fn,e,n);for(let r=0;r<t.args.length;r++)t.args[r]=L(t.args[r],e,n)}else if(t instanceof pr)for(let r=0;r<t.entries.length;r++)t.entries[r]=L(t.entries[r],e,n);else if(t instanceof Gr)for(let r=0;r<t.entries.length;r++)t.entries[r].value=L(t.entries[r].value,e,n);else if(t instanceof qr)t.condition=L(t.condition,e,n),t.trueCase=L(t.trueCase,e,n),t.falseCase!==null&&(t.falseCase=L(t.falseCase,e,n));else if(t instanceof Ia)t.expr=L(t.expr,e,n);else if(t instanceof yf)t.expr=L(t.expr,e,n);else if(t instanceof Cf)for(let r=0;r<t.expressions.length;r++)t.expressions[r]=L(t.expressions[r],e,n);else if(t instanceof Cu)t.condition=L(t.condition,e,n);else if(t instanceof vu)t.tag=L(t.tag,e,n),t.template.expressions=t.template.expressions.map(r=>L(r,e,n));else if(t instanceof lo)if(Array.isArray(t.body))for(let r=0;r<t.body.length;r++)Zf(t.body[r],e,n);else t.body=L(t.body,e,n);else if(!(t instanceof ce)){if(t instanceof Eu)for(let r=0;r<t.expressions.length;r++)t.expressions[r]=L(t.expressions[r],e,n);else if(t instanceof fr)t.expr=L(t.expr,e,n);else if(!(t instanceof Jn||t instanceof ao||t instanceof xt||t instanceof Aa))throw new Error(`Unhandled expression kind: ${t.constructor.name}`)}return e(t,n)}function Zf(t,e,n){if(t instanceof Vt)t.expr=L(t.expr,e,n);else if(t instanceof It)t.value=L(t.value,e,n);else if(t instanceof rt)t.value!==void 0&&(t.value=L(t.value,e,n));else if(t instanceof _f){t.condition=L(t.condition,e,n);for(let r of t.trueCase)Zf(r,e,n);for(let r of t.falseCase)Zf(r,e,n)}else throw new Error(`Unhandled statement kind: ${t.constructor.name}`)}function tI(t){return t instanceof xt&&typeof t.value=="string"}var I=(()=>{class t{static nextListId=0;debugListId=t.nextListId++;head={kind:g.ListEnd,next:null,prev:null,debugListId:this.debugListId};tail={kind:g.ListEnd,next:null,prev:null,debugListId:this.debugListId};constructor(){this.head.next=this.tail,this.tail.prev=this.head}push(n){if(Array.isArray(n)){for(let i of n)this.push(i);return}t.assertIsNotEnd(n),t.assertIsUnowned(n),n.debugListId=this.debugListId;let r=this.tail.prev;n.prev=r,r.next=n,n.next=this.tail,this.tail.prev=n}prepend(n){if(n.length===0)return;for(let s of n)t.assertIsNotEnd(s),t.assertIsUnowned(s),s.debugListId=this.debugListId;let r=this.head.next,i=this.head;for(let s of n)i.next=s,s.prev=i,i=s;i.next=r,r.prev=i}*[Symbol.iterator](){let n=this.head.next;for(;n!==this.tail;){t.assertIsOwned(n,this.debugListId);let r=n.next;yield n,n=r}}*reversed(){let n=this.tail.prev;for(;n!==this.head;){t.assertIsOwned(n,this.debugListId);let r=n.prev;yield n,n=r}}static replace(n,r){t.assertIsNotEnd(n),t.assertIsNotEnd(r),t.assertIsOwned(n),t.assertIsUnowned(r),r.debugListId=n.debugListId,n.prev!==null&&(n.prev.next=r,r.prev=n.prev),n.next!==null&&(n.next.prev=r,r.next=n.next),n.debugListId=null,n.prev=null,n.next=null}static replaceWithMany(n,r){if(r.length===0){t.remove(n);return}t.assertIsNotEnd(n),t.assertIsOwned(n);let i=n.debugListId;n.debugListId=null;for(let d of r)t.assertIsNotEnd(d),t.assertIsUnowned(d);let{prev:s,next:o}=n;n.prev=null,n.next=null;let a=s;for(let d of r)t.assertIsUnowned(d),d.debugListId=i,a.next=d,d.prev=a,d.next=null,a=d;let l=r[0],u=a;s!==null&&(s.next=l,l.prev=s),o!==null&&(o.prev=u,u.next=o)}static remove(n){t.assertIsNotEnd(n),t.assertIsOwned(n),n.prev.next=n.next,n.next.prev=n.prev,n.debugListId=null,n.prev=null,n.next=null}static insertBefore(n,r){if(Array.isArray(n)){for(let i of n)t.insertBefore(i,r);return}if(t.assertIsOwned(r),r.prev===null)throw new Error("AssertionError: illegal operation on list start");t.assertIsNotEnd(n),t.assertIsUnowned(n),n.debugListId=r.debugListId,n.prev=null,r.prev.next=n,n.prev=r.prev,n.next=r,r.prev=n}static insertAfter(n,r){if(t.assertIsOwned(r),r.next===null)throw new Error("AssertionError: illegal operation on list end");t.assertIsNotEnd(n),t.assertIsUnowned(n),n.debugListId=r.debugListId,r.next.prev=n,n.next=r.next,n.prev=r,r.next=n}static assertIsUnowned(n){if(n.debugListId!==null)throw new Error(`AssertionError: illegal operation on owned node: ${g[n.kind]}`)}static assertIsOwned(n,r){if(n.debugListId===null)throw new Error(`AssertionError: illegal operation on unowned node: ${g[n.kind]}`);if(r!==void 0&&n.debugListId!==r)throw new Error(`AssertionError: node belongs to the wrong list (expected ${r}, actual ${n.debugListId})`)}static assertIsNotEnd(n){if(n.kind===g.ListEnd)throw new Error("AssertionError: illegal operation on list head or tail")}}return t})(),bt=class{slot=null},N2=new Set([g.Element,g.ElementStart,g.Container,g.ContainerStart,g.Template,g.RepeaterCreate,g.ConditionalCreate,g.ConditionalBranchCreate]);function ls(t){return N2.has(t.kind)}function M2(t,e,n,r,i,s){return S(S({kind:g.ElementStart,xref:e,tag:t,handle:new bt,attributes:null,localRefs:[],nonBindable:!1,namespace:n,i18nPlaceholder:r,startSourceSpan:i,wholeSourceSpan:s},Kn),W)}function nI(t,e,n,r,i,s,o,a){return S(S({kind:g.Template,xref:t,templateKind:e,attributes:null,tag:n,handle:new bt,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:i,i18nPlaceholder:s,startSourceSpan:o,wholeSourceSpan:a},Kn),W)}function rI(t,e,n,r,i,s,o,a){return S(S({kind:g.ConditionalCreate,xref:t,templateKind:e,attributes:null,tag:n,handle:new bt,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:i,i18nPlaceholder:s,startSourceSpan:o,wholeSourceSpan:a},Kn),W)}function iI(t,e,n,r,i,s,o,a){return S(S({kind:g.ConditionalBranchCreate,xref:t,templateKind:e,attributes:null,tag:n,handle:new bt,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:i,i18nPlaceholder:s,startSourceSpan:o,wholeSourceSpan:a},Kn),W)}function R2(t,e,n,r,i,s,o,a,l,u){return G(S(S(S({kind:g.RepeaterCreate,attributes:null,xref:t,handle:new bt,emptyView:e,track:r,trackByFn:null,trackByOps:null,tag:n,emptyTag:s,emptyAttributes:null,functionNameSuffix:"For",namespace:Bt.HTML,nonBindable:!1,localRefs:[],decls:null,vars:null,varNames:i,usesComponentInstance:!1,i18nPlaceholder:o,emptyI18nPlaceholder:a,startSourceSpan:l,wholeSourceSpan:u},Kn),W),Qt),{numSlotsUsed:e===null?2:3})}function k2(t,e){return S({kind:g.ElementEnd,xref:t,sourceSpan:e},W)}function P2(t){return S({kind:g.DisableBindings,xref:t},W)}function L2(t){return S({kind:g.EnableBindings,xref:t},W)}function sI(t,e,n,r){return S(S({kind:g.Text,xref:t,handle:new bt,initialValue:e,icuPlaceholder:n,sourceSpan:r},Kn),W)}function F2(t,e,n,r,i,s){return S({kind:g.AnimationString,name:t,target:e,animationKind:n,expression:r,i18nMessage:null,securityContext:i,sanitizer:null,sourceSpan:s},W)}function O2(t,e,n,r,i,s){let o=new I;return o.push(r),S({kind:g.Animation,name:t,target:e,animationKind:n,handlerOps:o,handlerFnName:null,i18nMessage:null,securityContext:i,sanitizer:null,sourceSpan:s},W)}function SE(t,e,n,r,i,s,o,a,l){let u=new I;return u.push(i),S({kind:g.Listener,target:t,targetSlot:e,tag:r,hostListener:a,name:n,handlerOps:u,handlerFnName:null,consumesDollarEvent:!1,isLegacyAnimationListener:s!==null,legacyAnimationPhase:s,eventTarget:o,sourceSpan:l},W)}function oI(t,e,n,r,i,s,o,a,l){let u=new I;return u.push(i),S({kind:g.AnimationListener,target:t,targetSlot:e,tag:r,hostListener:a,name:n,animationKind:s,handlerOps:u,handlerFnName:null,consumesDollarEvent:!1,eventTarget:o,sourceSpan:l},W)}function aI(t,e,n,r,i,s){let o=new I;return o.push(i),S({kind:g.TwoWayListener,target:t,targetSlot:e,tag:r,name:n,handlerOps:o,handlerFnName:null,sourceSpan:s},W)}function lI(t,e,n){return S(S({kind:g.Pipe,xref:t,handle:e,name:n},W),Kn)}function B2(t){return S({kind:g.Namespace,active:t},W)}function V2(t){return S({kind:g.ProjectionDef,def:t},W)}function U2(t,e,n,r,i){return G(S(S({kind:g.Projection,xref:t,handle:new bt,selector:e,i18nPlaceholder:n,fallbackView:r,projectionSlotIndex:0,attributes:null,localRefs:[],sourceSpan:i},W),Kn),{numSlotsUsed:r===null?1:2})}function Sn(t,e,n,r,i,s,o,a){return S({kind:g.ExtractedAttribute,target:t,bindingKind:e,namespace:n,name:r,expression:i,i18nContext:s,i18nMessage:o,securityContext:a,trustedValueFn:null},W)}function $2(t,e,n,r,i,s){return G(S(S({kind:g.Defer,xref:t,handle:new bt,mainView:e,mainSlot:n,loadingView:null,loadingSlot:null,loadingConfig:null,loadingMinimumTime:null,loadingAfterTime:null,placeholderView:null,placeholderSlot:null,placeholderConfig:null,placeholderMinimumTime:null,errorView:null,errorSlot:null,ownResolverFn:r,resolverFn:i,flags:null,sourceSpan:s},W),Kn),{numSlotsUsed:2})}function Wi(t,e,n,r){return S({kind:g.DeferOn,defer:t,trigger:e,modifier:n,sourceSpan:r},W)}function H2(t,e,n){return S(S({kind:g.DeclareLet,xref:t,declaredName:e,sourceSpan:n,handle:new bt},Kn),W)}function q2(t,e,n,r,i,s,o,a){return S({kind:g.I18nMessage,xref:t,i18nContext:e,i18nBlock:n,message:r,messagePlaceholder:i,params:s,postprocessingParams:o,needsPostprocessing:a,subMessages:[]},W)}function Ap(t,e,n,r){return S(S({kind:g.I18nStart,xref:t,handle:new bt,root:n??t,message:e,messageIndex:null,subTemplateIndex:null,context:null,sourceSpan:r},W),Kn)}function xp(t,e){return S({kind:g.I18nEnd,xref:t,sourceSpan:e},W)}function G2(t,e,n,r){return S({kind:g.IcuStart,xref:t,message:e,messagePlaceholder:n,context:null,sourceSpan:r},W)}function z2(t){return S({kind:g.IcuEnd,xref:t},W)}function j2(t,e,n){return S({kind:g.IcuPlaceholder,xref:t,name:e,strings:n,expressionPlaceholders:[]},W)}function Cv(t,e,n,r,i){if(n===null&&t!==Qs.Attr)throw new Error("AssertionError: i18nBlock must be provided for non-attribute contexts.");return S({kind:g.I18nContext,contextKind:t,xref:e,i18nBlock:n,message:r,sourceSpan:i,params:new Map,postprocessingParams:new Map},W)}function uI(t,e,n){return S(S({kind:g.I18nAttributes,xref:t,handle:e,target:n,i18nAttributesConfig:null},W),Kn)}function W2(t,e){return S({kind:g.SourceLocation,templatePath:t,locations:e},W)}function Y2(t){return S({kind:g.ControlCreate,sourceSpan:t},W)}function J2(t,e,n,r,i,s){return S(S({kind:g.DomProperty,name:t,expression:e,bindingKind:n,i18nContext:r,securityContext:i,sanitizer:null,sourceSpan:s},Qt),W)}var cI="CTX_REF_MARKER",P=(function(t){return t[t.Tmpl=0]="Tmpl",t[t.Host=1]="Host",t[t.Both=2]="Both",t})(P||{}),on=(function(t){return t[t.Full=0]="Full",t[t.DomOnly=1]="DomOnly",t})(on||{}),ep=class{componentName;pool;compatibility;mode;constructor(e,n,r,i){this.componentName=e,this.pool=n,this.compatibility=r,this.mode=i}kind=P.Both;allocateXrefId(){return this.nextXrefId++}nextXrefId=0},rc=class extends ep{relativeContextFilePath;i18nUseExternalIds;deferMeta;allDeferrableDepsFn;relativeTemplatePath;enableDebugLocations;constructor(e,n,r,i,s,o,a,l,u,d){super(e,n,r,i),this.relativeContextFilePath=s,this.i18nUseExternalIds=o,this.deferMeta=a,this.allDeferrableDepsFn=l,this.relativeTemplatePath=u,this.enableDebugLocations=d,this.root=new Wn(this,this.allocateXrefId(),null),this.views.set(this.root.xref,this.root)}kind=P.Tmpl;fnSuffix="Template";root;views=new Map;contentSelectors=null;allocateView(e){let n=new Wn(this,this.allocateXrefId(),e);return this.views.set(n.xref,n),n}get units(){return this.views.values()}addConst(e,n){for(let i=0;i<this.consts.length;i++)if(this.consts[i].isEquivalent(e))return i;let r=this.consts.length;return this.consts.push(e),n&&this.constsInitializers.push(...n),r}consts=[];constsInitializers=[]},tp=class{xref;constructor(e){this.xref=e}create=new I;update=new I;fnName=null;vars=null;*ops(){for(let e of this.create)if(yield e,e.kind===g.Listener||e.kind===g.Animation||e.kind===g.AnimationListener||e.kind===g.TwoWayListener)for(let n of e.handlerOps)yield n;else if(e.kind===g.RepeaterCreate&&e.trackByOps!==null)for(let n of e.trackByOps)yield n;for(let e of this.update)yield e}},Wn=class extends tp{job;parent;constructor(e,n,r){super(n),this.job=e,this.parent=r}contextVariables=new Map;aliases=new Set;decls=null},np=class extends ep{constructor(e,n,r,i){super(e,n,r,i),this.root=new my(this)}kind=P.Host;fnSuffix="HostBindings";root;get units(){return[this.root]}},my=class extends tp{job;constructor(e){super(0),this.job=e}attributes=null};function X2(t){for(let e of t.units)for(let n of e.ops())Ke(n,Q2,me.None)}function Q2(t){if(t instanceof fn&&t.fn instanceof Tt&&t.fn.name==="$any"){if(t.args.length!==1)throw new Error("The $any builtin function expects exactly one argument.");return t.args[0]}return t}function K2(t){let e=new Map;for(let n of t.units)for(let r of n.create)r.kind===g.I18nContext&&e.set(r.xref,r);for(let n of t.units)for(let r of n.update)r.kind===g.I18nExpression&&Z2(e,r)&&I.insertAfter(A2(r.i18nOwner,r.handle,null),r)}function Z2(t,e){if(e.next?.kind!==g.I18nExpression)return!0;let n=t.get(e.context),r=t.get(e.next.context);if(n===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the I18nExpressionOp's context");if(r===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the next I18nExpressionOp's context");return n.i18nBlock!==null?n.i18nBlock!==r.i18nBlock:e.i18nOwner!==e.next.i18nOwner}function eL(t){for(let e of t.units){let n=e.update.head,r=[],i=null;for(let s of e.create){if(s.kind===g.I18nStart)i={blockXref:s.xref,lastSlotConsumer:s.xref};else if(s.kind===g.I18nEnd){for(let o of r)o.target=i.lastSlotConsumer,I.insertBefore(o,n);r.length=0,i=null}if(Ja(s))for(i!==null&&(i.lastSlotConsumer=s.xref);n.next!==null;){if(i!==null&&n.kind===g.I18nExpression&&n.usage===Wa.I18nText&&n.i18nOwner===i.blockXref){let a=n;n=n.next,I.remove(a),r.push(a);continue}let o=!1;if(Qu(n)&&n.target!==s.xref?o=!0:(n.kind===g.Statement||n.kind===g.Variable)&&wt(n,a=>{!o&&Qu(a)&&a.target!==s.xref&&(o=!0)}),o)break;n=n.next}}}}function tL(t){if(!(!t.enableDebugLocations||t.relativeTemplatePath===null))for(let e of t.units){let n=[];for(let r of e.create)if(r.kind===g.ElementStart||r.kind===g.Element){let i=r.startSourceSpan.start;n.push({targetSlot:r.handle,offset:i.offset,line:i.line,column:i.col})}n.length>0&&e.create.push(W2(t.relativeTemplatePath,n))}}function dI(t){let e=new Map;for(let n of t.create)Ja(n)&&(e.set(n.xref,n),n.kind===g.RepeaterCreate&&n.emptyView!==null&&e.set(n.emptyView,n));return e}function nL(t){for(let e of t.units){let n=dI(e);for(let r of e.ops())switch(r.kind){case g.Attribute:rL(e,r,n);break;case g.Property:if(r.bindingKind!==O.LegacyAnimation&&r.bindingKind!==O.Animation){let i;r.i18nMessage!==null&&r.templateKind===null?i=O.I18n:r.isStructuralTemplateAttribute?i=O.Template:i=O.Property,I.insertBefore(Sn(r.target,i,null,r.name,null,null,null,r.securityContext),qs(n,r.target))}break;case g.Control:I.insertBefore(Sn(r.target,O.Property,null,r.name,null,null,null,r.securityContext),qs(n,r.target));break;case g.TwoWayProperty:I.insertBefore(Sn(r.target,O.TwoWayProperty,null,r.name,null,null,null,r.securityContext),qs(n,r.target));break;case g.StyleProp:case g.ClassProp:e.job.compatibility===Rn.TemplateDefinitionBuilder&&r.expression instanceof tc&&I.insertBefore(Sn(r.target,O.Property,null,r.name,null,null,null,xe.STYLE),qs(n,r.target));break;case g.Listener:if(!r.isLegacyAnimationListener){let i=Sn(r.target,O.Property,null,r.name,null,null,null,xe.NONE);if(t.kind===P.Host){if(t.compatibility)break;e.create.push(i)}else I.insertBefore(i,qs(n,r.target))}break;case g.TwoWayListener:if(t.kind!==P.Host){let i=Sn(r.target,O.Property,null,r.name,null,null,null,xe.NONE);I.insertBefore(i,qs(n,r.target))}break}}}function qs(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function rL(t,e,n){if(e.expression instanceof Ge)return;let r=e.isTextAttribute||e.expression.isConstant();if(t.job.compatibility===Rn.TemplateDefinitionBuilder&&(r&&=e.isTextAttribute),r){let i=Sn(e.target,e.isStructuralTemplateAttribute?O.Template:O.Attribute,e.namespace,e.name,e.expression,e.i18nContext,e.i18nMessage,e.securityContext);if(t.job.kind===P.Host)t.create.push(i);else{let s=qs(n,e.target);I.insertBefore(i,s)}I.remove(e)}}var dT="aria-";function fI(t){return t.startsWith(dT)&&t.length>dT.length}function iL(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function sL(t){let e=new Map;for(let n of t.units)for(let r of n.create)ls(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.ops())if(r.kind===g.Binding)switch(r.bindingKind){case O.Attribute:if(r.name==="ngNonBindable"){I.remove(r);let i=iL(e,r.target);i.nonBindable=!0}else if(r.name.startsWith("animate."))I.replace(r,cT(r.name,r.target,r.name==="animate.enter"?"enter":"leave",r.expression,r.securityContext,r.sourceSpan,0));else{let[i,s]=mr(r.name);I.replace(r,uT(r.target,i,s,r.expression,r.securityContext,r.isTextAttribute,r.isStructuralTemplateAttribute,r.templateKind,r.i18nMessage,r.sourceSpan))}break;case O.Animation:I.replace(r,cT(r.name,r.target,r.name==="animate.enter"?"enter":"leave",r.expression,r.securityContext,r.sourceSpan,1));break;case O.Property:case O.LegacyAnimation:t.mode===on.DomOnly&&fI(r.name)?I.replace(r,uT(r.target,null,r.name,r.expression,r.securityContext,!1,r.isStructuralTemplateAttribute,r.templateKind,r.i18nMessage,r.sourceSpan)):t.kind===P.Host?I.replace(r,J2(r.name,r.expression,r.bindingKind,r.i18nContext,r.securityContext,r.sourceSpan)):r.name==="field"||r.name==="formField"?I.replace(r,b2(r)):I.replace(r,y2(r.target,r.name,r.expression,r.bindingKind,r.securityContext,r.isStructuralTemplateAttribute,r.templateKind,r.i18nContext,r.i18nMessage,r.sourceSpan));break;case O.TwoWayProperty:if(!(r.expression instanceof Se))throw new Error(`Expected value of two-way property binding "${r.name}" to be an expression`);I.replace(r,E2(r.target,r.name,r.expression,r.securityContext,r.isStructuralTemplateAttribute,r.templateKind,r.i18nContext,r.i18nMessage,r.sourceSpan));break;case O.I18n:case O.ClassName:case O.StyleProperty:throw new Error(`Unhandled binding of kind ${O[r.bindingKind]}`)}}var fT=new Map([[y.ariaProperty,y.ariaProperty],[y.attribute,y.attribute],[y.classProp,y.classProp],[y.element,y.element],[y.elementContainer,y.elementContainer],[y.elementContainerEnd,y.elementContainerEnd],[y.elementContainerStart,y.elementContainerStart],[y.elementEnd,y.elementEnd],[y.elementStart,y.elementStart],[y.domProperty,y.domProperty],[y.i18nExp,y.i18nExp],[y.listener,y.listener],[y.listener,y.listener],[y.property,y.property],[y.styleProp,y.styleProp],[y.syntheticHostListener,y.syntheticHostListener],[y.syntheticHostProperty,y.syntheticHostProperty],[y.templateCreate,y.templateCreate],[y.twoWayProperty,y.twoWayProperty],[y.twoWayListener,y.twoWayListener],[y.declareLet,y.declareLet],[y.conditionalCreate,y.conditionalBranchCreate],[y.conditionalBranchCreate,y.conditionalBranchCreate],[y.domElement,y.domElement],[y.domElementStart,y.domElementStart],[y.domElementEnd,y.domElementEnd],[y.domElementContainer,y.domElementContainer],[y.domElementContainerStart,y.domElementContainerStart],[y.domElementContainerEnd,y.domElementContainerEnd],[y.domListener,y.domListener],[y.domTemplate,y.domTemplate],[y.animationEnter,y.animationEnter],[y.animationLeave,y.animationLeave],[y.animationEnterListener,y.animationEnterListener],[y.animationLeaveListener,y.animationLeaveListener]]),oL=256;function aL(t){for(let e of t.units)pT(e.create),pT(e.update)}function pT(t){let e=null;for(let n of t){if(n.kind!==g.Statement||!(n.statement instanceof Vt)){e=null;continue}if(!(n.statement.expr instanceof fn)||!(n.statement.expr.fn instanceof ao)){e=null;continue}let r=n.statement.expr.fn.value;if(!fT.has(r)){e=null;continue}if(e!==null&&fT.get(e.instruction)===r&&e.length<oL){let i=e.expression.callFn(n.statement.expr.args,n.statement.expr.sourceSpan,n.statement.expr.pure);e.expression=i,e.op.statement=i.toStmt(),e.length++,I.remove(n)}else e={op:n,instruction:r,expression:n.statement.expr,length:1}}}function lL(t){for(let e of t.units)for(let n of e.update)(n.kind===g.Attribute||n.kind===g.StyleProp||n.kind==g.StyleMap||n.kind===g.ClassMap)&&n.expression instanceof Ge&&n.expression.strings.length===2&&n.expression.strings.every(i=>i==="")&&(n.expression=n.expression.expressions[0])}function uL(t){for(let e of t.units)for(let n of e.ops()){if(n.kind!==g.Conditional)continue;let r,i=n.conditions.findIndex(a=>a.expr===null);if(i>=0){let a=n.conditions.splice(i,1)[0].targetSlot;r=new Qf(a)}else r=T(-1);let s=n.test==null?null:new Jr(n.test,t.allocateXrefId()),o=null;for(let a=n.conditions.length-1;a>=0;a--){let l=n.conditions[a];if(l.expr!==null){if(s!==null){let u=a===0?s:new as(s.xref);l.expr=new pe(R.Identical,u,l.expr)}else l.alias!==null&&(o??=t.allocateXrefId(),l.expr=new Jr(l.expr,o),n.contextValue=new as(o));r=new qr(l.expr,new Qf(l.targetSlot),r)}}n.processed=r,n.conditions=[]}}var cL=new Map([["&&",R.And],[">",R.Bigger],[">=",R.BiggerEquals],["|",R.BitwiseOr],["&",R.BitwiseAnd],["/",R.Divide],["=",R.Assign],["==",R.Equals],["===",R.Identical],["<",R.Lower],["<=",R.LowerEquals],["-",R.Minus],["%",R.Modulo],["**",R.Exponentiation],["*",R.Multiply],["!=",R.NotEquals],["!==",R.NotIdentical],["??",R.NullishCoalesce],["||",R.Or],["+",R.Plus],["in",R.In],["+=",R.AdditionAssignment],["-=",R.SubtractionAssignment],["*=",R.MultiplicationAssignment],["/=",R.DivisionAssignment],["%=",R.RemainderAssignment],["**=",R.ExponentiationAssignment],["&&=",R.AndAssignment],["||=",R.OrAssignment],["??=",R.NullishCoalesceAssignment]]);function pI(t){let e=new Map([["svg",Bt.SVG],["math",Bt.Math]]);return t===null?Bt.HTML:e.get(t)??Bt.HTML}function dL(t){let e=new Map([["svg",Bt.SVG],["math",Bt.Math]]);for(let[n,r]of e.entries())if(r===t)return n;return null}function fL(t,e){return e===Bt.HTML?t:`:${dL(e)}:${t}`}function qa(t){return Array.isArray(t)?we(t.map(qa)):T(t)}function pL(t){let e=new Map;for(let n of t.units)for(let r of n.create)if(r.kind===g.ExtractedAttribute){let i=e.get(r.target)||new gy(t.compatibility);e.set(r.target,i),i.add(r.bindingKind,r.name,r.expression,r.namespace,r.trustedValueFn),I.remove(r)}if(t instanceof rc)for(let n of t.units)for(let r of n.create)if(r.kind==g.Projection){let i=e.get(r.xref);if(i!==void 0){let s=vy(i);s.entries.length>0&&(r.attributes=s)}}else ls(r)&&(r.attributes=hT(t,e,r.xref),r.kind===g.RepeaterCreate&&r.emptyView!==null&&(r.emptyAttributes=hT(t,e,r.emptyView)));else if(t instanceof np)for(let[n,r]of e.entries()){if(n!==t.root.xref)throw new Error("An attribute would be const collected into the host binding's template function, but is not associated with the root xref.");let i=vy(r);i.entries.length>0&&(t.root.attributes=i)}}function hT(t,e,n){let r=e.get(n);if(r!==void 0){let i=vy(r);if(i.entries.length>0)return t.addConst(i)}return null}var da=Object.freeze([]),gy=class{compatibility;known=new Map;byKind=new Map;propertyBindings=null;projectAs=null;get attributes(){return this.byKind.get(O.Attribute)??da}get classes(){return this.byKind.get(O.ClassName)??da}get styles(){return this.byKind.get(O.StyleProperty)??da}get bindings(){return this.propertyBindings??da}get template(){return this.byKind.get(O.Template)??da}get i18n(){return this.byKind.get(O.I18n)??da}constructor(e){this.compatibility=e}isKnown(e,n){let r=this.known.get(e)??new Set;return this.known.set(e,r),r.has(n)?!0:(r.add(n),!1)}add(e,n,r,i,s){if(!(this.compatibility===Rn.TemplateDefinitionBuilder&&(e===O.Attribute||e===O.ClassName||e===O.StyleProperty))&&this.isKnown(e,n))return;if(n==="ngProjectAs"){if(r===null||!(r instanceof xt)||r.value==null||typeof r.value?.toString()!="string")throw Error("ngProjectAs must have a string literal value");this.projectAs=r.value.toString()}let a=this.arrayFor(e);if(a.push(...hL(i,n)),e===O.Attribute||e===O.StyleProperty){if(r===null)throw Error("Attribute, i18n attribute, & style element attributes must have a value");if(s!==null){if(!tI(r))throw Error("AssertionError: extracted attribute value should be string literal");a.push(NP(s,new Eu([new Ef(r.value)],[]),void 0,r.sourceSpan))}else a.push(r)}}arrayFor(e){return e===O.Property||e===O.TwoWayProperty?(this.propertyBindings??=[],this.propertyBindings):(this.byKind.has(e)||this.byKind.set(e,[]),this.byKind.get(e))}};function hL(t,e){let n=T(e);return t?[T(0),T(t),n]:[n]}function vy({attributes:t,bindings:e,classes:n,i18n:r,projectAs:i,styles:s,template:o}){let a=[...t];if(i!==null){let l=aE(i)[0];a.push(T(5),qa(l))}return n.length>0&&a.push(T(1),...n),s.length>0&&a.push(T(2),...s),e.length>0&&a.push(T(3),...e),o.length>0&&a.push(T(4),...o),r.length>0&&a.push(T(6),...r),we(a)}function mL(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function gL(t){let e=new Map;for(let n of t.units)for(let r of n.create)ls(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.ops())if(r.kind===g.AnimationBinding){let i=vL(r);t.kind===P.Host?n.create.push(i):I.insertAfter(i,mL(e,r.target)),I.remove(r)}}function vL(t){if(t.animationBindingKind===0)return F2(t.name,t.target,t.name==="animate.enter"?"enter":"leave",t.expression,t.securityContext,t.sourceSpan);{let e=t.expression;return O2(t.name,t.target,t.name==="animate.enter"?"enter":"leave",[Qn(new It(e,e.sourceSpan))],t.securityContext,t.sourceSpan)}}function yL(t){let e=new Map;for(let n of t.units){for(let r of n.create)r.kind===g.I18nAttributes&&e.set(r.target,r);for(let r of n.update)switch(r.kind){case g.Property:case g.Attribute:if(r.i18nContext===null||!(r.expression instanceof Ge))continue;let i=e.get(r.target);if(i===void 0)throw new Error("AssertionError: An i18n attribute binding instruction requires the owning element to have an I18nAttributes create instruction");if(i.target!==r.target)throw new Error("AssertionError: Expected i18nAttributes target element to match binding target element");let s=[];for(let o=0;o<r.expression.expressions.length;o++){let a=r.expression.expressions[o];if(r.expression.i18nPlaceholders.length!==r.expression.expressions.length)throw new Error(`AssertionError: An i18n attribute binding instruction requires the same number of expressions and placeholders, but found ${r.expression.i18nPlaceholders.length} placeholders and ${r.expression.expressions.length} expressions`);s.push(eI(r.i18nContext,i.target,i.xref,i.handle,a,null,r.expression.i18nPlaceholders[o],Xu.Creation,Wa.I18nAttribute,r.name,r.sourceSpan))}I.replaceWithMany(r,s);break}}}function EL(t){let e=new Map;for(let i of t.units)for(let s of i.ops())switch(s.kind){case g.Binding:case g.Property:case g.Attribute:case g.ExtractedAttribute:if(s.i18nMessage===null)continue;if(!e.has(s.i18nMessage)){let o=Cv(Qs.Attr,t.allocateXrefId(),null,s.i18nMessage,null);i.create.push(o),e.set(s.i18nMessage,o.xref)}s.i18nContext=e.get(s.i18nMessage);break}let n=new Map;for(let i of t.units)for(let s of i.create)switch(s.kind){case g.I18nStart:if(s.xref===s.root){let o=Cv(Qs.RootI18n,t.allocateXrefId(),s.xref,s.message,null);i.create.push(o),s.context=o.xref,n.set(s.xref,o)}break}for(let i of t.units)for(let s of i.create)if(s.kind===g.I18nStart&&s.xref!==s.root){let o=n.get(s.root);if(o===void 0)throw Error("AssertionError: Root i18n block i18n context should have been created.");s.context=o.xref,n.set(s.xref,o)}let r=null;for(let i of t.units)for(let s of i.create)switch(s.kind){case g.I18nStart:r=s;break;case g.I18nEnd:r=null;break;case g.IcuStart:if(r===null)throw Error("AssertionError: Unexpected ICU outside of an i18n block.");if(s.message.id!==r.message.id){let o=Cv(Qs.Icu,t.allocateXrefId(),r.root,s.message,null);i.create.push(o),s.context=o.xref}else s.context=r.context,n.get(r.xref).contextKind=Qs.Icu;break}}function CL(t){let e=new Map;for(let n of t.units)for(let r of n.update.reversed())if(r.kind===g.Binding&&r.isTextAttribute){let i=e.get(r.target)||new Set;i.has(r.name)&&t.compatibility===Rn.TemplateDefinitionBuilder&&(r.name==="style"||r.name==="class")&&I.remove(r),i.add(r.name),e.set(r.target,i)}}function wL(t){for(let e of t.units)for(let n of e.create)n.kind===g.Defer&&(n.placeholderMinimumTime!==null&&(n.placeholderConfig=new nc(qa([n.placeholderMinimumTime]))),(n.loadingMinimumTime!==null||n.loadingAfterTime!==null)&&(n.loadingConfig=new nc(qa([n.loadingMinimumTime,n.loadingAfterTime]))))}function _L(t){let e=new Map;function n(i){if(e.has(i.xref))return e.get(i.xref);let s=new SL;for(let o of i.create)if(!(!ls(o)||o.localRefs===null)){if(!Array.isArray(o.localRefs))throw new Error("LocalRefs were already processed, but were needed to resolve defer targets.");for(let a of o.localRefs)a.target===""&&s.targets.set(a.name,{xref:o.xref,slot:o.handle})}return e.set(i.xref,s),s}function r(i,s,o){switch(s.trigger.kind){case Ae.Idle:case Ae.Never:case Ae.Immediate:case Ae.Timer:return;case Ae.Hover:case Ae.Interaction:case Ae.Viewport:if(s.trigger.targetName===null){if(o===null)throw new Error("defer on trigger with no target name must have a placeholder block");let u=t.views.get(o);if(u==null)throw new Error("AssertionError: could not find placeholder view for defer on trigger");for(let d of u.create)if(Ja(d)&&(ls(d)||d.kind===g.Projection)){s.trigger.targetXref=d.xref,s.trigger.targetView=o,s.trigger.targetSlotViewSteps=-1,s.trigger.targetSlot=d.handle;return}return}let a=o!==null?t.views.get(o):i,l=o!==null?-1:0;for(;a!==null;){let u=n(a);if(u.targets.has(s.trigger.targetName)){let{xref:d,slot:p}=u.targets.get(s.trigger.targetName);s.trigger.targetXref=d,s.trigger.targetView=a.xref,s.trigger.targetSlotViewSteps=l,s.trigger.targetSlot=p;return}a=a.parent!==null?t.views.get(a.parent):null,l++}break;default:throw new Error(`Trigger kind ${s.trigger.kind} not handled`)}}for(let i of t.units){let s=new Map;for(let o of i.create)switch(o.kind){case g.Defer:s.set(o.xref,o);break;case g.DeferOn:let a=s.get(o.defer);r(i,o,o.modifier==="hydrate"?a.mainView:a.placeholderView);break}}}var SL=class{targets=new Map},TL=new Map([[g.ElementEnd,[g.ElementStart,g.Element]],[g.ContainerEnd,[g.ContainerStart,g.Container]],[g.I18nEnd,[g.I18nStart,g.I18n]]]),DL=new Set([g.Pipe]);function IL(t){for(let e of t.units)for(let n of e.create){let r=TL.get(n.kind);if(r===void 0)continue;let[i,s]=r,o=n.prev;for(;o!==null&&DL.has(o.kind);)o=o.prev;o!==null&&o.kind===i&&(o.kind=s,I.remove(n))}}function AL(t){for(let e of t.units)for(let n of e.ops())Ke(n,r=>kL(r,{job:t}),me.None),Ke(n,PL,me.None)}function _n(t){return t instanceof uo?_n(t.expr):t instanceof pe?_n(t.lhs)||_n(t.rhs):t instanceof qr?t.falseCase&&_n(t.falseCase)?!0:_n(t.condition)||_n(t.trueCase):t instanceof Cu?_n(t.condition):t instanceof Jr?_n(t.expr):t instanceof Mn?_n(t.receiver):t instanceof wi?_n(t.receiver)||_n(t.index):t instanceof fr?_n(t.expr):t instanceof fn||t instanceof pr||t instanceof Gr||t instanceof Co||t instanceof Eo}function xL(t){let e=new Set;return L(t,n=>(n instanceof Jr&&e.add(n.xref),n),me.None),e}function bL(t,e,n){return L(t,r=>{if(r instanceof Jr&&e.has(r.xref)){let i=new as(r.xref);return n.job.compatibility===Rn.TemplateDefinitionBuilder?new Jr(i,i.xref):i}return r},me.None),t}function fa(t,e,n){let r;if(_n(t)){let i=n.job.allocateXrefId();r=[new Jr(t,i),new as(i)]}else r=[t,t.clone()],bL(r[1],xL(r[0]),n);return new Ha(r[0],e(r[1]))}function NL(t){return t instanceof Ua||t instanceof $a||t instanceof Co}function ML(t){return t instanceof Mn||t instanceof wi||t instanceof fn}function hI(t){return NL(t)||ML(t)}function RL(t){if(hI(t)&&t.receiver instanceof Ha){let e=t.receiver;for(;e.expr instanceof Ha;)e=e.expr;return e}return null}function kL(t,e){if(!hI(t))return t;let n=RL(t);if(n){if(t instanceof fn)return n.expr=n.expr.callFn(t.args),t.receiver;if(t instanceof Mn)return n.expr=n.expr.prop(t.name),t.receiver;if(t instanceof wi)return n.expr=n.expr.key(t.index),t.receiver;if(t instanceof Co)return n.expr=fa(n.expr,r=>r.callFn(t.args),e),t.receiver;if(t instanceof Ua)return n.expr=fa(n.expr,r=>r.prop(t.name),e),t.receiver;if(t instanceof $a)return n.expr=fa(n.expr,r=>r.key(t.index),e),t.receiver}else{if(t instanceof Co)return fa(t.receiver,r=>r.callFn(t.args),e);if(t instanceof Ua)return fa(t.receiver,r=>r.prop(t.name),e);if(t instanceof $a)return fa(t.receiver,r=>r.key(t.index),e)}return t}function PL(t){return t instanceof Ha?new fr(new qr(new pe(R.Equals,t.guard,ba),ba,t.expr)):t}var mT="\uFFFD",LL="#",FL="*",OL="/",BL=":",VL="[",UL="]",$L="|";function HL(t){let e=new Map,n=new Map,r=new Map;for(let s of t.units)for(let o of s.create)switch(o.kind){case g.I18nContext:let a=qL(t,o);s.create.push(a),e.set(o.xref,a),r.set(o.xref,o);break;case g.I18nStart:n.set(o.xref,o);break}let i=null;for(let s of t.units)for(let o of s.create)switch(o.kind){case g.IcuStart:i=o,I.remove(o);let a=r.get(o.context);if(a.contextKind!==Qs.Icu)continue;let l=n.get(a.i18nBlock);if(l.context===a.xref)continue;let u=n.get(l.root),d=e.get(u.context);if(d===void 0)throw Error("AssertionError: ICU sub-message should belong to a root message.");let p=e.get(a.xref);p.messagePlaceholder=o.messagePlaceholder,d.subMessages.push(p.xref);break;case g.IcuEnd:i=null,I.remove(o);break;case g.IcuPlaceholder:if(i===null||i.context==null)throw Error("AssertionError: Unexpected ICU placeholder outside of i18n context");e.get(i.context).postprocessingParams.set(o.name,T(GL(o))),I.remove(o);break}}function qL(t,e,n){let r=gT(e.params),i=gT(e.postprocessingParams),s=[...e.params.values()].some(o=>o.length>1);return q2(t.allocateXrefId(),e.xref,e.i18nBlock,e.message,null,r,i,s)}function GL(t){if(t.strings.length!==t.expressionPlaceholders.length+1)throw Error(`AssertionError: Invalid ICU placeholder with ${t.strings.length} strings and ${t.expressionPlaceholders.length} expressions`);let e=t.expressionPlaceholders.map(Ca);return t.strings.flatMap((n,r)=>[n,e[r]||""]).join("")}function gT(t){let e=new Map;for(let[n,r]of t){let i=zL(r);i!==null&&e.set(n,T(i))}return e}function zL(t){if(t.length===0)return null;let e=t.map(n=>Ca(n));return e.length===1?e[0]:`${VL}${e.join($L)}${UL}`}function Ca(t){if(t.flags&Pe.ElementTag&&t.flags&Pe.TemplateTag){if(typeof t.value!="object")throw Error("AssertionError: Expected i18n param value to have an element and template slot");let i=Ca(G(S({},t),{value:t.value.element,flags:t.flags&~Pe.TemplateTag})),s=Ca(G(S({},t),{value:t.value.template,flags:t.flags&~Pe.ElementTag}));return t.flags&Pe.OpenTag&&t.flags&Pe.CloseTag?`${s}${i}${s}`:t.flags&Pe.CloseTag?`${i}${s}`:`${s}${i}`}if(t.flags&Pe.OpenTag&&t.flags&Pe.CloseTag)return`${Ca(G(S({},t),{flags:t.flags&~Pe.CloseTag}))}${Ca(G(S({},t),{flags:t.flags&~Pe.OpenTag}))}`;if(t.flags===Pe.None)return`${t.value}`;let e="",n="";t.flags&Pe.ElementTag?e=LL:t.flags&Pe.TemplateTag&&(e=FL),e!==""&&(n=t.flags&Pe.CloseTag?OL:"");let r=t.subTemplateIndex===null?"":`${BL}${t.subTemplateIndex}`;return`${mT}${n}${e}${t.value}${r}${mT}`}function jL(t){for(let e of t.units){let n=new Map;for(let i of e.create){if(Ja(i)){if(i.handle.slot===null)throw new Error("AssertionError: expected slots to have been allocated before generating advance() calls")}else continue;n.set(i.xref,i.handle.slot)}let r=0;for(let i of e.update){let s=null;if(Qu(i)?s=i:wt(i,a=>{s===null&&Qu(a)&&(s=a)}),s===null)continue;if(!n.has(s.target))throw new Error(`AssertionError: reference to unknown slot for target ${s.target}`);let o=n.get(s.target);if(r!==o){let a=o-r;if(a<0)throw new Error("AssertionError: slot counter should never need to move backwards");I.insertBefore(T2(a,s.sourceSpan),i),r=o}}}}function WL(t){for(let e of t.units)for(let n of e.update){if(n.kind!==g.StoreLet)continue;let r={kind:Et.Identifier,name:null,identifier:n.declaredName,local:!0};I.replace(n,Xi(t.allocateXrefId(),r,new Ku(n.target,n.value,n.sourceSpan),jn.None))}}function YL(t){let e=t.compatibility===Rn.TemplateDefinitionBuilder,n=[],r=0;for(let i of t.units)for(let s of i.create)s.kind===g.Projection&&(n.push(s.selector),s.projectionSlotIndex=r++);if(n.length>0){let i=null;if(n.length>1||n[0]!=="*"){let s=n.map(o=>o==="*"?o:aE(o));i=t.pool.getConstLiteral(qa(s),e)}t.contentSelectors=t.pool.getConstLiteral(qa(n),e),t.root.create.prepend([V2(i)])}}function JL(t){au(t.root,null)}function au(t,e){let n=XL(t,e);for(let r of t.create)switch(r.kind){case g.ConditionalCreate:case g.ConditionalBranchCreate:case g.Template:au(t.job.views.get(r.xref),n);break;case g.Projection:r.fallbackView!==null&&au(t.job.views.get(r.fallbackView),n);break;case g.RepeaterCreate:au(t.job.views.get(r.xref),n),r.emptyView&&au(t.job.views.get(r.emptyView),n),r.trackByOps!==null&&r.trackByOps.prepend(cf(t,n,!1));break;case g.Animation:case g.AnimationListener:case g.Listener:case g.TwoWayListener:r.handlerOps.prepend(cf(t,n,!0));break}t.update.prepend(cf(t,n,!1))}function XL(t,e){let n={view:t.xref,viewContextVariable:{kind:Et.Context,name:null,view:t.xref},contextVariables:new Map,aliases:t.aliases,references:[],letDeclarations:[],parent:e};for(let r of t.contextVariables.keys())n.contextVariables.set(r,{kind:Et.Identifier,name:null,identifier:r,local:!1});for(let r of t.create)switch(r.kind){case g.ElementStart:case g.ConditionalCreate:case g.ConditionalBranchCreate:case g.Template:if(!Array.isArray(r.localRefs))throw new Error("AssertionError: expected localRefs to be an array");for(let i=0;i<r.localRefs.length;i++)n.references.push({name:r.localRefs[i].name,targetId:r.xref,targetSlot:r.handle,offset:i,variable:{kind:Et.Identifier,name:null,identifier:r.localRefs[i].name,local:!1}});break;case g.DeclareLet:n.letDeclarations.push({targetId:r.xref,targetSlot:r.handle,variable:{kind:Et.Identifier,name:null,identifier:r.declaredName,local:!1}});break}return n}function cf(t,e,n){let r=[];e.view!==t.xref&&r.push(Xi(t.job.allocateXrefId(),e.viewContextVariable,new Yf,jn.None));let i=t.job.views.get(e.view);for(let[s,o]of i.contextVariables){let a=new os(e.view),l=o===cI?a:new Mn(a,o);r.push(Xi(t.job.allocateXrefId(),e.contextVariables.get(s),l,jn.None))}for(let s of i.aliases)r.push(Xi(t.job.allocateXrefId(),s,s.expression.clone(),jn.AlwaysInline));for(let s of e.references)r.push(Xi(t.job.allocateXrefId(),s.variable,new Wf(s.targetId,s.targetSlot,s.offset),jn.None));if(e.view!==t.xref||n)for(let s of e.letDeclarations)r.push(Xi(t.job.allocateXrefId(),s.variable,new Zu(s.targetId,s.targetSlot),jn.None));return e.parent!==null&&r.push(...cf(t,e.parent,!1)),r}function QL(t){for(let e of t.units)for(let n of e.ops())Ke(n,r=>r instanceof nc?T(t.addConst(r.expr)):r,me.None)}var vT="style.",yT="class.",KL="style!",ET="class!",CT="!important";function ZL(t){for(let e of t.root.update)if(e.kind===g.Binding&&e.bindingKind===O.Property)if(e.name.endsWith(CT)&&(e.name=e.name.substring(0,e.name.length-CT.length)),e.name.startsWith(vT)){e.bindingKind=O.StyleProperty,e.name=e.name.substring(vT.length),eF(e.name)||(e.name=tF(e.name));let{property:n,suffix:r}=wv(e.name);e.name=n,e.unit=r}else e.name.startsWith(KL)?(e.bindingKind=O.StyleProperty,e.name="style"):e.name.startsWith(yT)?(e.bindingKind=O.ClassName,e.name=wv(e.name.substring(yT.length)).property):e.name.startsWith(ET)&&(e.bindingKind=O.ClassName,e.name=wv(e.name.substring(ET.length)).property)}function eF(t){return t.startsWith("--")}function tF(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function wv(t){let e=t.indexOf("!important");e!==-1&&(t=e>0?t.substring(0,e):"");let n=null,r=t,i=t.lastIndexOf(".");return i>0&&(n=t.slice(i+1),r=t.substring(0,i)),{property:r,suffix:n}}function yy(t,e=!1){return Xt(Object.keys(t).map(n=>({key:n,quoted:e,value:t[n]})))}var Ey=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}formatPh(e){return`{${mc(e,!1)}}`}},nF=new Ey;function mI(t){return t.visit(nF)}var _i=class{sourceSpan;i18n;constructor(e,n){this.sourceSpan=e,this.i18n=n}},wo=class extends _i{value;tokens;constructor(e,n,r,i){super(n,i),this.value=e,this.tokens=r}visit(e,n){return e.visitText(this,n)}},ro=class extends _i{switchValue;type;cases;switchValueSourceSpan;constructor(e,n,r,i,s,o){super(i,o),this.switchValue=e,this.type=n,this.cases=r,this.switchValueSourceSpan=s}visit(e,n){return e.visitExpansion(this,n)}},rp=class{value;expression;sourceSpan;valueSourceSpan;expSourceSpan;constructor(e,n,r,i,s){this.value=e,this.expression=n,this.sourceSpan=r,this.valueSourceSpan=i,this.expSourceSpan=s}visit(e,n){return e.visitExpansionCase(this,n)}},Cy=class extends _i{name;value;keySpan;valueSpan;valueTokens;constructor(e,n,r,i,s,o,a){super(r,a),this.name=e,this.value=n,this.keySpan=i,this.valueSpan=s,this.valueTokens=o}visit(e,n){return e.visitAttribute(this,n)}},qn=class extends _i{name;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;isVoid;constructor(e,n,r,i,s,o,a,l=null,u,d){super(o,d),this.name=e,this.attrs=n,this.directives=r,this.children=i,this.isSelfClosing=s,this.startSourceSpan=a,this.endSourceSpan=l,this.isVoid=u}visit(e,n){return e.visitElement(this,n)}},ic=class{value;sourceSpan;constructor(e,n){this.value=e,this.sourceSpan=n}visit(e,n){return e.visitComment(this,n)}},zn=class extends _i{name;parameters;children;nameSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i,s,o,a=null,l){super(i,l),this.name=e,this.parameters=n,this.children=r,this.nameSpan=s,this.startSourceSpan=o,this.endSourceSpan=a}visit(e,n){return e.visitBlock(this,n)}},an=class extends _i{componentName;tagName;fullName;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;constructor(e,n,r,i,s,o,a,l,u,d=null,p){super(l,p),this.componentName=e,this.tagName=n,this.fullName=r,this.attrs=i,this.directives=s,this.children=o,this.isSelfClosing=a,this.startSourceSpan=u,this.endSourceSpan=d}visit(e,n){return e.visitComponent(this,n)}},wy=class{name;attrs;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i,s=null){this.name=e,this.attrs=n,this.sourceSpan=r,this.startSourceSpan=i,this.endSourceSpan=s}visit(e,n){return e.visitDirective(this,n)}},ip=class{expression;sourceSpan;constructor(e,n){this.expression=e,this.sourceSpan=n}visit(e,n){return e.visitBlockParameter(this,n)}},sp=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,n,r,i,s){this.name=e,this.value=n,this.sourceSpan=r,this.nameSpan=i,this.valueSpan=s}visit(e,n){return e.visitLetDeclaration(this,n)}};function Oe(t,e,n=null){let r=[],i=t.visit?s=>t.visit(s,n)||s.visit(t,n):s=>s.visit(t,n);return e.forEach(s=>{let o=i(s);o&&r.push(o)}),r}var sc={AElig:"\xC6",AMP:"&",amp:"&",Aacute:"\xC1",Abreve:"\u0102",Acirc:"\xC2",Acy:"\u0410",Afr:"\u{1D504}",Agrave:"\xC0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2A53",Aogon:"\u0104",Aopf:"\u{1D538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xC5",angst:"\xC5",Ascr:"\u{1D49C}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xC3",Auml:"\xC4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2AE7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212C",Bscr:"\u212C",bernou:"\u212C",Beta:"\u0392",Bfr:"\u{1D505}",Bopf:"\u{1D539}",Breve:"\u02D8",breve:"\u02D8",Bumpeq:"\u224E",HumpDownHump:"\u224E",bump:"\u224E",CHcy:"\u0427",COPY:"\xA9",copy:"\xA9",Cacute:"\u0106",Cap:"\u22D2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212D",Cfr:"\u212D",Ccaron:"\u010C",Ccedil:"\xC7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010A",Cedilla:"\xB8",cedil:"\xB8",CenterDot:"\xB7",centerdot:"\xB7",middot:"\xB7",Chi:"\u03A7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201D",rdquo:"\u201D",rdquor:"\u201D",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2A74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222F",DoubleContourIntegral:"\u222F",ContourIntegral:"\u222E",conint:"\u222E",oint:"\u222E",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2A2F",Cscr:"\u{1D49E}",Cup:"\u22D3",CupCap:"\u224D",asympeq:"\u224D",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040F",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21A1",Dashv:"\u2AE4",DoubleLeftTee:"\u2AE4",Dcaron:"\u010E",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1D507}",DiacriticalAcute:"\xB4",acute:"\xB4",DiacriticalDot:"\u02D9",dot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",dblac:"\u02DD",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02DC",tilde:"\u02DC",Diamond:"\u22C4",diam:"\u22C4",diamond:"\u22C4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1D53B}",Dot:"\xA8",DoubleDot:"\xA8",die:"\xA8",uml:"\xA8",DotDot:"\u20DC",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21D3",Downarrow:"\u21D3",dArr:"\u21D3",DoubleLeftArrow:"\u21D0",Leftarrow:"\u21D0",lArr:"\u21D0",DoubleLeftRightArrow:"\u21D4",Leftrightarrow:"\u21D4",hArr:"\u21D4",iff:"\u21D4",DoubleLongLeftArrow:"\u27F8",Longleftarrow:"\u27F8",xlArr:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",Longleftrightarrow:"\u27FA",xhArr:"\u27FA",DoubleLongRightArrow:"\u27F9",Longrightarrow:"\u27F9",xrArr:"\u27F9",DoubleRightArrow:"\u21D2",Implies:"\u21D2",Rightarrow:"\u21D2",rArr:"\u21D2",DoubleRightTee:"\u22A8",vDash:"\u22A8",DoubleUpArrow:"\u21D1",Uparrow:"\u21D1",uArr:"\u21D1",DoubleUpDownArrow:"\u21D5",Updownarrow:"\u21D5",vArr:"\u21D5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",duarr:"\u21F5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",leftharpoondown:"\u21BD",lhard:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",rhard:"\u21C1",rightharpoondown:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",top:"\u22A4",DownTeeArrow:"\u21A7",mapstodown:"\u21A7",Dscr:"\u{1D49F}",Dstrok:"\u0110",ENG:"\u014A",ETH:"\xD0",Eacute:"\xC9",Ecaron:"\u011A",Ecirc:"\xCA",Ecy:"\u042D",Edot:"\u0116",Efr:"\u{1D508}",Egrave:"\xC8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25FB",EmptyVerySmallSquare:"\u25AB",Eogon:"\u0118",Eopf:"\u{1D53C}",Epsilon:"\u0395",Equal:"\u2A75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21CC",rightleftharpoons:"\u21CC",rlhar:"\u21CC",Escr:"\u2130",expectation:"\u2130",Esim:"\u2A73",Eta:"\u0397",Euml:"\xCB",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1D509}",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",blacksquare:"\u25AA",squarf:"\u25AA",squf:"\u25AA",Fopf:"\u{1D53D}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03DC",Gbreve:"\u011E",Gcedil:"\u0122",Gcirc:"\u011C",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1D50A}",Gg:"\u22D9",ggg:"\u22D9",Gopf:"\u{1D53E}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22DB",gel:"\u22DB",gtreqless:"\u22DB",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2A7E",geqslant:"\u2A7E",ges:"\u2A7E",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1D4A2}",Gt:"\u226B",NestedGreaterGreater:"\u226B",gg:"\u226B",HARDcy:"\u042A",Hacek:"\u02C7",caron:"\u02C7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210C",Poincareplane:"\u210C",HilbertSpace:"\u210B",Hscr:"\u210B",hamilt:"\u210B",Hopf:"\u210D",quaternions:"\u210D",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224F",bumpe:"\u224F",bumpeq:"\u224F",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xCD",Icirc:"\xCE",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xCC",Imacr:"\u012A",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222C",Integral:"\u222B",int:"\u222B",Intersection:"\u22C2",bigcap:"\u22C2",xcap:"\u22C2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012E",Iopf:"\u{1D540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xCF",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1D50D}",Jopf:"\u{1D541}",Jscr:"\u{1D4A5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040C",Kappa:"\u039A",Kcedil:"\u0136",Kcy:"\u041A",Kfr:"\u{1D50E}",Kopf:"\u{1D542}",Kscr:"\u{1D4A6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039B",Lang:"\u27EA",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219E",twoheadleftarrow:"\u219E",Lcaron:"\u013D",Lcedil:"\u013B",Lcy:"\u041B",LeftAngleBracket:"\u27E8",lang:"\u27E8",langle:"\u27E8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21E4",larrb:"\u21E4",LeftArrowRightArrow:"\u21C6",leftrightarrows:"\u21C6",lrarr:"\u21C6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27E6",lobrk:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",dharl:"\u21C3",downharpoonleft:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",lfloor:"\u230A",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294E",LeftTee:"\u22A3",dashv:"\u22A3",LeftTeeArrow:"\u21A4",mapstoleft:"\u21A4",LeftTeeVector:"\u295A",LeftTriangle:"\u22B2",vartriangleleft:"\u22B2",vltri:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",ltrie:"\u22B4",trianglelefteq:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",uharl:"\u21BF",upharpoonleft:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",leftharpoonup:"\u21BC",lharu:"\u21BC",LeftVectorBar:"\u2952",LessEqualGreater:"\u22DA",leg:"\u22DA",lesseqgtr:"\u22DA",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2AA1",LessSlantEqual:"\u2A7D",leqslant:"\u2A7D",les:"\u2A7D",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1D50F}",Ll:"\u22D8",Lleftarrow:"\u21DA",lAarr:"\u21DA",Lmidot:"\u013F",LongLeftArrow:"\u27F5",longleftarrow:"\u27F5",xlarr:"\u27F5",LongLeftRightArrow:"\u27F7",longleftrightarrow:"\u27F7",xharr:"\u27F7",LongRightArrow:"\u27F6",longrightarrow:"\u27F6",xrarr:"\u27F6",Lopf:"\u{1D543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21B0",lsh:"\u21B0",Lstrok:"\u0141",Lt:"\u226A",NestedLessLess:"\u226A",ll:"\u226A",Map:"\u2905",Mcy:"\u041C",MediumSpace:"\u205F",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1D510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1D544}",Mu:"\u039C",NJcy:"\u040A",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041D",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",ZeroWidthSpace:"\u200B",NewLine:`
`,Nfr:"\u{1D511}",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nbsp:"\xA0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2AEC",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226F",ngt:"\u226F",ngtr:"\u226F",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",nGtv:"\u226B\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224E\u0338",nbump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",nbumpe:"\u224F\u0338",NotLeftTriangle:"\u22EA",nltri:"\u22EA",ntriangleleft:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",nltrie:"\u22EC",ntrianglelefteq:"\u22EC",NotLess:"\u226E",nless:"\u226E",nlt:"\u226E",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226A\u0338",nLtv:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",npre:"\u2AAF\u0338",npreceq:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",nprcue:"\u22E0",NotReverseElement:"\u220C",notni:"\u220C",notniva:"\u220C",NotRightTriangle:"\u22EB",nrtri:"\u22EB",ntriangleright:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",nrtrie:"\u22ED",ntrianglerighteq:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",nsqsube:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",nsqsupe:"\u22E3",NotSubset:"\u2282\u20D2",nsubset:"\u2282\u20D2",vnsub:"\u2282\u20D2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",nsce:"\u2AB0\u0338",nsucceq:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",nsccue:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",nsupset:"\u2283\u20D2",vnsup:"\u2283\u20D2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1D4A9}",Ntilde:"\xD1",Nu:"\u039D",OElig:"\u0152",Oacute:"\xD3",Ocirc:"\xD4",Ocy:"\u041E",Odblac:"\u0150",Ofr:"\u{1D512}",Ograve:"\xD2",Omacr:"\u014C",Omega:"\u03A9",ohm:"\u03A9",Omicron:"\u039F",Oopf:"\u{1D546}",OpenCurlyDoubleQuote:"\u201C",ldquo:"\u201C",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2A54",Oscr:"\u{1D4AA}",Oslash:"\xD8",Otilde:"\xD5",Otimes:"\u2A37",Ouml:"\xD6",OverBar:"\u203E",oline:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",tbrk:"\u23B4",OverParenthesis:"\u23DC",PartialD:"\u2202",part:"\u2202",Pcy:"\u041F",Pfr:"\u{1D513}",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",plusmn:"\xB1",pm:"\xB1",Popf:"\u2119",primes:"\u2119",Pr:"\u2ABB",Precedes:"\u227A",pr:"\u227A",prec:"\u227A",PrecedesEqual:"\u2AAF",pre:"\u2AAF",preceq:"\u2AAF",PrecedesSlantEqual:"\u227C",prcue:"\u227C",preccurlyeq:"\u227C",PrecedesTilde:"\u227E",precsim:"\u227E",prsim:"\u227E",Prime:"\u2033",Product:"\u220F",prod:"\u220F",Proportional:"\u221D",prop:"\u221D",propto:"\u221D",varpropto:"\u221D",vprop:"\u221D",Pscr:"\u{1D4AB}",Psi:"\u03A8",QUOT:'"',quot:'"',Qfr:"\u{1D514}",Qopf:"\u211A",rationals:"\u211A",Qscr:"\u{1D4AC}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xAE",circledR:"\xAE",reg:"\xAE",Racute:"\u0154",Rang:"\u27EB",Rarr:"\u21A0",twoheadrightarrow:"\u21A0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211C",Rfr:"\u211C",real:"\u211C",realpart:"\u211C",ReverseElement:"\u220B",SuchThat:"\u220B",ni:"\u220B",niv:"\u220B",ReverseEquilibrium:"\u21CB",leftrightharpoons:"\u21CB",lrhar:"\u21CB",ReverseUpEquilibrium:"\u296F",duhar:"\u296F",Rho:"\u03A1",RightAngleBracket:"\u27E9",rang:"\u27E9",rangle:"\u27E9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21E5",rarrb:"\u21E5",RightArrowLeftArrow:"\u21C4",rightleftarrows:"\u21C4",rlarr:"\u21C4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27E7",robrk:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",dharr:"\u21C2",downharpoonright:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rfloor:"\u230B",RightTee:"\u22A2",vdash:"\u22A2",RightTeeArrow:"\u21A6",map:"\u21A6",mapsto:"\u21A6",RightTeeVector:"\u295B",RightTriangle:"\u22B3",vartriangleright:"\u22B3",vrtri:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",rtrie:"\u22B5",trianglerighteq:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",uharr:"\u21BE",upharpoonright:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",rharu:"\u21C0",rightharpoonup:"\u21C0",RightVectorBar:"\u2953",Ropf:"\u211D",reals:"\u211D",RoundImplies:"\u2970",Rrightarrow:"\u21DB",rAarr:"\u21DB",Rscr:"\u211B",realine:"\u211B",Rsh:"\u21B1",rsh:"\u21B1",RuleDelayed:"\u29F4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042C",Sacute:"\u015A",Sc:"\u2ABC",Scaron:"\u0160",Scedil:"\u015E",Scirc:"\u015C",Scy:"\u0421",Sfr:"\u{1D516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03A3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1D54A}",Sqrt:"\u221A",radic:"\u221A",Square:"\u25A1",squ:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228F",sqsub:"\u228F",sqsubset:"\u228F",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1D4AE}",Star:"\u22C6",sstarf:"\u22C6",Sub:"\u22D0",Subset:"\u22D0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227B",sc:"\u227B",succ:"\u227B",SucceedsEqual:"\u2AB0",sce:"\u2AB0",succeq:"\u2AB0",SucceedsSlantEqual:"\u227D",sccue:"\u227D",succcurlyeq:"\u227D",SucceedsTilde:"\u227F",scsim:"\u227F",succsim:"\u227F",Sum:"\u2211",sum:"\u2211",Sup:"\u22D1",Supset:"\u22D1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xDE",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040B",TScy:"\u0426",Tab:"	",Tau:"\u03A4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1D517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223C",sim:"\u223C",thicksim:"\u223C",thksim:"\u223C",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1D54B}",TripleDot:"\u20DB",tdot:"\u20DB",Tscr:"\u{1D4AF}",Tstrok:"\u0166",Uacute:"\xDA",Uarr:"\u219F",Uarrocir:"\u2949",Ubrcy:"\u040E",Ubreve:"\u016C",Ucirc:"\xDB",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1D518}",Ugrave:"\xD9",Umacr:"\u016A",UnderBar:"_",lowbar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",bbrk:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",bigcup:"\u22C3",xcup:"\u22C3",UnionPlus:"\u228E",uplus:"\u228E",Uogon:"\u0172",Uopf:"\u{1D54C}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",udarr:"\u21C5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296E",udhar:"\u296E",UpTee:"\u22A5",bot:"\u22A5",bottom:"\u22A5",perp:"\u22A5",UpTeeArrow:"\u21A5",mapstoup:"\u21A5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",Uring:"\u016E",Uscr:"\u{1D4B0}",Utilde:"\u0168",Uuml:"\xDC",VDash:"\u22AB",Vbar:"\u2AEB",Vcy:"\u0412",Vdash:"\u22A9",Vdashl:"\u2AE6",Vee:"\u22C1",bigvee:"\u22C1",xvee:"\u22C1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200A",hairsp:"\u200A",Vfr:"\u{1D519}",Vopf:"\u{1D54D}",Vscr:"\u{1D4B1}",Vvdash:"\u22AA",Wcirc:"\u0174",Wedge:"\u22C0",bigwedge:"\u22C0",xwedge:"\u22C0",Wfr:"\u{1D51A}",Wopf:"\u{1D54E}",Wscr:"\u{1D4B2}",Xfr:"\u{1D51B}",Xi:"\u039E",Xopf:"\u{1D54F}",Xscr:"\u{1D4B3}",YAcy:"\u042F",YIcy:"\u0407",YUcy:"\u042E",Yacute:"\xDD",Ycirc:"\u0176",Ycy:"\u042B",Yfr:"\u{1D51C}",Yopf:"\u{1D550}",Yscr:"\u{1D4B4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017D",Zcy:"\u0417",Zdot:"\u017B",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1D4B5}",aacute:"\xE1",abreve:"\u0103",ac:"\u223E",mstpos:"\u223E",acE:"\u223E\u0333",acd:"\u223F",acirc:"\xE2",acy:"\u0430",aelig:"\xE6",afr:"\u{1D51E}",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",amacr:"\u0101",amalg:"\u2A3F",and:"\u2227",wedge:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",angle:"\u2220",ange:"\u29A4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angzarr:"\u237C",aogon:"\u0105",aopf:"\u{1D552}",apE:"\u2A70",apacir:"\u2A6F",ape:"\u224A",approxeq:"\u224A",apid:"\u224B",apos:"'",aring:"\xE5",ascr:"\u{1D4B6}",ast:"*",midast:"*",atilde:"\xE3",auml:"\xE4",awint:"\u2A11",bNot:"\u2AED",backcong:"\u224C",bcong:"\u224C",backepsilon:"\u03F6",bepsi:"\u03F6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223D",bsim:"\u223D",backsimeq:"\u22CD",bsime:"\u22CD",barvee:"\u22BD",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23B6",bcy:"\u0431",bdquo:"\u201E",ldquor:"\u201E",bemptyv:"\u29B0",beta:"\u03B2",beth:"\u2136",between:"\u226C",twixt:"\u226C",bfr:"\u{1D51F}",bigcirc:"\u25EF",xcirc:"\u25EF",bigodot:"\u2A00",xodot:"\u2A00",bigoplus:"\u2A01",xoplus:"\u2A01",bigotimes:"\u2A02",xotime:"\u2A02",bigsqcup:"\u2A06",xsqcup:"\u2A06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25BD",xdtri:"\u25BD",bigtriangleup:"\u25B3",xutri:"\u25B3",biguplus:"\u2A04",xuplus:"\u2A04",bkarow:"\u290D",rbarr:"\u290D",blacklozenge:"\u29EB",lozf:"\u29EB",blacktriangle:"\u25B4",utrif:"\u25B4",blacktriangledown:"\u25BE",dtrif:"\u25BE",blacktriangleleft:"\u25C2",ltrif:"\u25C2",blacktriangleright:"\u25B8",rtrif:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bopf:"\u{1D553}",bowtie:"\u22C8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255D",boxUR:"\u255A",boxUl:"\u255C",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256C",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256B",boxVl:"\u2562",boxVr:"\u255F",boxbox:"\u29C9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250C",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252C",boxhu:"\u2534",boxminus:"\u229F",minusb:"\u229F",boxplus:"\u229E",plusb:"\u229E",boxtimes:"\u22A0",timesb:"\u22A0",boxuL:"\u255B",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256A",boxvL:"\u2561",boxvR:"\u255E",boxvh:"\u253C",boxvl:"\u2524",boxvr:"\u251C",brvbar:"\xA6",bscr:"\u{1D4B7}",bsemi:"\u204F",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2AAE",cacute:"\u0107",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",caps:"\u2229\uFE00",caret:"\u2041",ccaps:"\u2A4D",ccaron:"\u010D",ccedil:"\xE7",ccirc:"\u0109",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",cemptyv:"\u29B2",cent:"\xA2",cfr:"\u{1D520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",cir:"\u25CB",cirE:"\u29C3",circ:"\u02C6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21BA",olarr:"\u21BA",circlearrowright:"\u21BB",orarr:"\u21BB",circledS:"\u24C8",oS:"\u24C8",circledast:"\u229B",oast:"\u229B",circledcirc:"\u229A",ocir:"\u229A",circleddash:"\u229D",odash:"\u229D",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2A6D",copf:"\u{1D554}",copysr:"\u2117",crarr:"\u21B5",cross:"\u2717",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",curlyeqprec:"\u22DE",cuesc:"\u22DF",curlyeqsucc:"\u22DF",cularr:"\u21B6",curvearrowleft:"\u21B6",cularrp:"\u293D",cup:"\u222A",cupbrcap:"\u2A48",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curvearrowright:"\u21B7",curarrm:"\u293C",curlyvee:"\u22CE",cuvee:"\u22CE",curlywedge:"\u22CF",cuwed:"\u22CF",curren:"\xA4",cwint:"\u2231",cylcty:"\u232D",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290F",rBarr:"\u290F",dcaron:"\u010F",dcy:"\u0434",ddarr:"\u21CA",downdownarrows:"\u21CA",ddotseq:"\u2A77",eDDot:"\u2A77",deg:"\xB0",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03DD",gammad:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",dlcorn:"\u231E",llcorner:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22A1",sdotb:"\u22A1",drcorn:"\u231F",lrcorner:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",dscy:"\u0455",dsol:"\u29F6",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",triangledown:"\u25BF",dwangle:"\u29A6",dzcy:"\u045F",dzigrarr:"\u27FF",eacute:"\xE9",easter:"\u2A6E",ecaron:"\u011B",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xEA",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044D",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1D522}",eg:"\u2A9A",egrave:"\xE8",egs:"\u2A96",eqslantgtr:"\u2A96",egsdot:"\u2A98",el:"\u2A99",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",eqslantless:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014B",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",epsiv:"\u03F5",straightepsilon:"\u03F5",varepsilon:"\u03F5",equals:"=",equest:"\u225F",questeq:"\u225F",equivDD:"\u2A78",eqvparsl:"\u29E5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212F",eta:"\u03B7",eth:"\xF0",euml:"\xEB",euro:"\u20AC",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",filig:"\uFB01",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",fork:"\u22D4",pitchfork:"\u22D4",forkv:"\u2AD9",fpartint:"\u2A0D",frac12:"\xBD",half:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1D4BB}",gEl:"\u2A8C",gtreqqless:"\u2A8C",gacute:"\u01F5",gamma:"\u03B3",gap:"\u2A86",gtrapprox:"\u2A86",gbreve:"\u011F",gcirc:"\u011D",gcy:"\u0433",gdot:"\u0121",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2A92",gla:"\u2AA5",glj:"\u2AA4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gneq:"\u2A88",gnsim:"\u22E7",gopf:"\u{1D558}",gscr:"\u210A",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtrdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrarr:"\u2978",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",hardcy:"\u044A",harrcir:"\u2948",harrw:"\u21AD",leftrightsquigarrow:"\u21AD",hbar:"\u210F",hslash:"\u210F",planck:"\u210F",plankv:"\u210F",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",larrhk:"\u21A9",hookrightarrow:"\u21AA",rarrhk:"\u21AA",hopf:"\u{1D559}",horbar:"\u2015",hscr:"\u{1D4BD}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xED",icirc:"\xEE",icy:"\u0438",iecy:"\u0435",iexcl:"\xA1",ifr:"\u{1D526}",igrave:"\xEC",iiiint:"\u2A0C",qint:"\u2A0C",iiint:"\u222D",tint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012B",imath:"\u0131",inodot:"\u0131",imof:"\u22B7",imped:"\u01B5",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",intcal:"\u22BA",intercal:"\u22BA",intlarhk:"\u2A17",intprod:"\u2A3C",iprod:"\u2A3C",iocy:"\u0451",iogon:"\u012F",iopf:"\u{1D55A}",iota:"\u03B9",iquest:"\xBF",iscr:"\u{1D4BE}",isinE:"\u22F9",isindot:"\u22F5",isins:"\u22F4",isinsv:"\u22F3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xEF",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1D527}",jmath:"\u0237",jopf:"\u{1D55B}",jscr:"\u{1D4BF}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03BA",kappav:"\u03F0",varkappa:"\u03F0",kcedil:"\u0137",kcy:"\u043A",kfr:"\u{1D528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045C",kopf:"\u{1D55C}",kscr:"\u{1D4C0}",lAtail:"\u291B",lBarr:"\u290E",lEg:"\u2A8B",lesseqqgtr:"\u2A8B",lHar:"\u2962",lacute:"\u013A",laemptyv:"\u29B4",lambda:"\u03BB",langd:"\u2991",lap:"\u2A85",lessapprox:"\u2A85",laquo:"\xAB",larrbfs:"\u291F",larrfs:"\u291D",larrlp:"\u21AB",looparrowleft:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",leftarrowtail:"\u21A2",lat:"\u2AAB",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",lcedil:"\u013C",lcy:"\u043B",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21C7",llarr:"\u21C7",leftthreetimes:"\u22CB",lthree:"\u22CB",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessdot:"\u22D6",ltdot:"\u22D6",lfisht:"\u297C",lfr:"\u{1D529}",lgE:"\u2A91",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lneq:"\u2A87",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",longmapsto:"\u27FC",xmap:"\u27FC",looparrowright:"\u21AC",rarrlp:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",loz:"\u25CA",lozenge:"\u25CA",lpar:"(",lparlt:"\u2993",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",lsime:"\u2A8D",lsimg:"\u2A8F",lsquor:"\u201A",sbquo:"\u201A",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltrPar:"\u2996",ltri:"\u25C3",triangleleft:"\u25C3",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",mDDot:"\u223A",macr:"\xAF",strns:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",mdash:"\u2014",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midcir:"\u2AF0",minus:"\u2212",minusdu:"\u2A2A",mlcp:"\u2ADB",models:"\u22A7",mopf:"\u{1D55E}",mscr:"\u{1D4C2}",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nGg:"\u22D9\u0338",nGt:"\u226B\u20D2",nLeftarrow:"\u21CD",nlArr:"\u21CD",nLeftrightarrow:"\u21CE",nhArr:"\u21CE",nLl:"\u22D8\u0338",nLt:"\u226A\u20D2",nRightarrow:"\u21CF",nrArr:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",nacute:"\u0144",nang:"\u2220\u20D2",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",natur:"\u266E",natural:"\u266E",ncap:"\u2A43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",ndash:"\u2013",neArr:"\u21D7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1D52B}",nharr:"\u21AE",nleftrightarrow:"\u21AE",nhpar:"\u2AF2",nis:"\u22FC",nisd:"\u22FA",njcy:"\u045A",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219A",nleftarrow:"\u219A",nldr:"\u2025",nopf:"\u{1D55F}",not:"\xAC",notinE:"\u22F9\u0338",notindot:"\u22F5\u0338",notinvb:"\u22F7",notinvc:"\u22F6",notnivb:"\u22FE",notnivc:"\u22FD",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",nrarr:"\u219B",nrightarrow:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nscr:"\u{1D4C3}",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsubseteqq:"\u2AC5\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupseteqq:"\u2AC6\u0338",ntilde:"\xF1",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22AD",nvHarr:"\u2904",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwArr:"\u21D6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xF3",ocirc:"\xF4",ocy:"\u043E",odblac:"\u0151",odiv:"\u2A38",odsold:"\u29BC",oelig:"\u0153",ofcir:"\u29BF",ofr:"\u{1D52C}",ogon:"\u02DB",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",olcir:"\u29BE",olcross:"\u29BB",olt:"\u29C0",omacr:"\u014D",omega:"\u03C9",omicron:"\u03BF",omid:"\u29B6",oopf:"\u{1D560}",opar:"\u29B7",operp:"\u29B9",or:"\u2228",vee:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oslash:"\xF8",osol:"\u2298",otilde:"\xF5",otimesas:"\u2A36",ouml:"\xF6",ovbar:"\u233D",para:"\xB6",parsim:"\u2AF3",parsl:"\u2AFD",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1D52D}",phi:"\u03C6",phiv:"\u03D5",straightphi:"\u03D5",varphi:"\u03D5",phone:"\u260E",pi:"\u03C0",piv:"\u03D6",varpi:"\u03D6",planckh:"\u210E",plus:"+",plusacir:"\u2A23",pluscir:"\u2A22",plusdu:"\u2A25",pluse:"\u2A72",plussim:"\u2A26",plustwo:"\u2A27",pointint:"\u2A15",popf:"\u{1D561}",pound:"\xA3",prE:"\u2AB3",prap:"\u2AB7",precapprox:"\u2AB7",precnapprox:"\u2AB9",prnap:"\u2AB9",precneqq:"\u2AB5",prnE:"\u2AB5",precnsim:"\u22E8",prnsim:"\u22E8",prime:"\u2032",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prurel:"\u22B0",pscr:"\u{1D4C5}",psi:"\u03C8",puncsp:"\u2008",qfr:"\u{1D52E}",qopf:"\u{1D562}",qprime:"\u2057",qscr:"\u{1D4C6}",quatint:"\u2A16",quest:"?",rAtail:"\u291C",rHar:"\u2964",race:"\u223D\u0331",racute:"\u0155",raemptyv:"\u29B3",rangd:"\u2992",range:"\u29A5",raquo:"\xBB",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",rightarrowtail:"\u21A3",rarrw:"\u219D",rightsquigarrow:"\u219D",ratail:"\u291A",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21B3",rect:"\u25AD",rfisht:"\u297D",rfr:"\u{1D52F}",rharul:"\u296C",rho:"\u03C1",rhov:"\u03F1",varrho:"\u03F1",rightrightarrows:"\u21C9",rrarr:"\u21C9",rightthreetimes:"\u22CC",rthree:"\u22CC",ring:"\u02DA",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",ropar:"\u2986",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rsaquo:"\u203A",rscr:"\u{1D4C7}",rtimes:"\u22CA",rtri:"\u25B9",triangleright:"\u25B9",rtriltri:"\u29CE",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",scE:"\u2AB4",scap:"\u2AB8",succapprox:"\u2AB8",scaron:"\u0161",scedil:"\u015F",scirc:"\u015D",scnE:"\u2AB6",succneqq:"\u2AB6",scnap:"\u2ABA",succnapprox:"\u2ABA",scnsim:"\u22E9",succnsim:"\u22E9",scpolint:"\u2A13",scy:"\u0441",sdot:"\u22C5",sdote:"\u2A66",seArr:"\u21D8",sect:"\xA7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1D530}",sharp:"\u266F",shchcy:"\u0449",shcy:"\u0448",shy:"\xAD",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",varsigma:"\u03C2",simdot:"\u2A6A",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",smashp:"\u2A33",smeparsl:"\u29E4",smile:"\u2323",ssmile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\uFE00",sqcups:"\u2294\uFE00",sscr:"\u{1D4C8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2AC5",subseteqq:"\u2AC5",subdot:"\u2ABD",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subsetneqq:"\u2ACB",subne:"\u228A",subsetneq:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supE:"\u2AC6",supseteqq:"\u2AC6",supdot:"\u2ABE",supdsub:"\u2AD8",supedot:"\u2AC4",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supsetneqq:"\u2ACC",supne:"\u228B",supsetneq:"\u228B",supplus:"\u2AC0",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swArr:"\u21D9",swnwar:"\u292A",szlig:"\xDF",target:"\u2316",tau:"\u03C4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1D531}",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",vartheta:"\u03D1",thorn:"\xFE",times:"\xD7",timesbar:"\u2A31",timesd:"\u2A30",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",topfork:"\u2ADA",tprime:"\u2034",triangle:"\u25B5",utri:"\u25B5",triangleq:"\u225C",trie:"\u225C",tridot:"\u25EC",triminus:"\u2A3A",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",tscy:"\u0446",tshcy:"\u045B",tstrok:"\u0167",uHar:"\u2963",uacute:"\xFA",ubrcy:"\u045E",ubreve:"\u016D",ucirc:"\xFB",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297E",ufr:"\u{1D532}",ugrave:"\xF9",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",uogon:"\u0173",uopf:"\u{1D566}",upsi:"\u03C5",upsilon:"\u03C5",upuparrows:"\u21C8",uuarr:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",urtri:"\u25F9",uscr:"\u{1D4CA}",utdot:"\u22F0",utilde:"\u0169",uuml:"\xFC",uwangle:"\u29A7",vBar:"\u2AE8",vBarv:"\u2AE9",vangrt:"\u299C",varsubsetneq:"\u228A\uFE00",vsubne:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",vsubnE:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",vsupne:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vsupnE:"\u2ACC\uFE00",vcy:"\u0432",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",vfr:"\u{1D533}",vopf:"\u{1D567}",vscr:"\u{1D4CB}",vzigzag:"\u299A",wcirc:"\u0175",wedbar:"\u2A5F",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1D534}",wopf:"\u{1D568}",wscr:"\u{1D4CC}",xfr:"\u{1D535}",xi:"\u03BE",xnis:"\u22FB",xopf:"\u{1D569}",xscr:"\u{1D4CD}",yacute:"\xFD",yacy:"\u044F",ycirc:"\u0177",ycy:"\u044B",yen:"\xA5",yfr:"\u{1D536}",yicy:"\u0457",yopf:"\u{1D56A}",yscr:"\u{1D4CE}",yucy:"\u044E",yuml:"\xFF",zacute:"\u017A",zcaron:"\u017E",zcy:"\u0437",zdot:"\u017C",zeta:"\u03B6",zfr:"\u{1D537}",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"},gI="\uE500";sc.ngsp=gI;var _y=class{tokens;errors;nonNormalizedIcuExpressions;constructor(e,n,r){this.tokens=e,this.errors=n,this.nonNormalizedIcuExpressions=r}};function rF(t,e,n,r={}){let i=new Ty(new Gf(t,e),n,r);return i.tokenize(),new _y(pF(i.tokens),i.errors,i.nonNormalizedIcuExpressions)}var iF=/\r\n?/g;function pa(t){return`Unexpected character "${t===vt?"EOF":String.fromCharCode(t)}"`}function wT(t){return`Unknown entity "${t}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}function sF(t,e){return`Unable to parse entity "${e}" - ${t} character reference entities must end with ";"`}var Sy=(function(t){return t.HEX="hexadecimal",t.DEC="decimal",t})(Sy||{}),oF=["@if","@else","@for","@switch","@case","@default","@empty","@defer","@placeholder","@loading","@error"],Zl={start:"{{",end:"}}"},Ty=class{_getTagDefinition;_cursor;_tokenizeIcu;_leadingTriviaCodePoints;_currentTokenStart=null;_currentTokenType=null;_expansionCaseStack=[];_openDirectiveCount=0;_inInterpolation=!1;_preserveLineEndings;_i18nNormalizeLineEndingsInICUs;_tokenizeBlocks;_tokenizeLet;_selectorlessEnabled;tokens=[];errors=[];nonNormalizedIcuExpressions=[];constructor(e,n,r){this._getTagDefinition=n,this._tokenizeIcu=r.tokenizeExpansionForms||!1,this._leadingTriviaCodePoints=r.leadingTriviaChars&&r.leadingTriviaChars.map(s=>s.codePointAt(0)||0);let i=r.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=r.escapedString?new Dy(e,i):new op(e,i),this._preserveLineEndings=r.preserveLineEndings||!1,this._i18nNormalizeLineEndingsInICUs=r.i18nNormalizeLineEndingsInICUs||!1,this._tokenizeBlocks=r.tokenizeBlocks??!0,this._tokenizeLet=r.tokenizeLet??!0,this._selectorlessEnabled=r.selectorlessEnabled??!1;try{this._cursor.init()}catch(s){this.handleError(s)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(iF,`
`)}tokenize(){for(;this._cursor.peek()!==vt;){let e=this._cursor.clone();try{this._attemptCharCode(Ta)?this._attemptCharCode(ny)?this._attemptCharCode(Ur)?this._consumeCdata(e):this._attemptCharCode(Hf)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(Gn)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeLet&&this._cursor.peek()===ca&&!this._inInterpolation&&this._isLetStart()?this._consumeLetDeclaration(e):this._tokenizeBlocks&&this._isBlockStart()?this._consumeBlockStart(e):this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansionCase()&&!this._isInExpansionForm()&&this._attemptCharCode(jt)?this._consumeBlockEnd(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(n){this.handleError(n)}}this._beginToken(41),this._endToken([])}_getBlockName(){let e=!1,n=this._cursor.clone();return this._attemptCharCodeUntilFn(r=>Wu(r)?!e:fF(r)?(e=!0,!1):!0),this._cursor.getChars(n).trim()}_consumeBlockStart(e){this._requireCharCode(ca),this._beginToken(24,e);let n=this._endToken([this._getBlockName()]);if(this._cursor.peek()===xn)if(this._cursor.advance(),this._consumeBlockParameters(),this._attemptCharCodeUntilFn(He),this._attemptCharCode(Dt))this._attemptCharCodeUntilFn(He);else{n.type=28;return}this._attemptCharCode(dr)?(this._beginToken(25),this._endToken([])):n.type=28}_consumeBlockEnd(e){this._beginToken(26,e),this._endToken([])}_consumeBlockParameters(){for(this._attemptCharCodeUntilFn(ST);this._cursor.peek()!==Dt&&this._cursor.peek()!==vt;){this._beginToken(27);let e=this._cursor.clone(),n=null,r=0;for(;this._cursor.peek()!==Tn&&this._cursor.peek()!==vt||n!==null;){let i=this._cursor.peek();if(i===no)this._cursor.advance();else if(i===n)n=null;else if(n===null&&fu(i))n=i;else if(i===xn&&n===null)r++;else if(i===Dt&&n===null){if(r===0)break;r>0&&r--}this._cursor.advance()}this._endToken([this._cursor.getChars(e)]),this._attemptCharCodeUntilFn(ST)}}_consumeLetDeclaration(e){if(this._requireStr("@let"),this._beginToken(29,e),Wu(this._cursor.peek()))this._attemptCharCodeUntilFn(He);else{let i=this._endToken([this._cursor.getChars(e)]);i.type=32;return}let n=this._endToken([this._getLetDeclarationName()]);if(this._attemptCharCodeUntilFn(He),!this._attemptCharCode(Ot)){n.type=32;return}this._attemptCharCodeUntilFn(i=>He(i)&&!qf(i)),this._consumeLetDeclarationValue(),this._cursor.peek()===Tn?(this._beginToken(31),this._endToken([]),this._cursor.advance()):(n.type=32,n.sourceSpan=this._cursor.getSpan(e))}_getLetDeclarationName(){let e=this._cursor.clone(),n=!1;return this._attemptCharCodeUntilFn(r=>ss(r)||r===Dp||r===cs||n&&cr(r)?(n=!0,!1):!0),this._cursor.getChars(e).trim()}_consumeLetDeclarationValue(){let e=this._cursor.clone();for(this._beginToken(30,e);this._cursor.peek()!==vt;){let n=this._cursor.peek();if(n===Tn)break;fu(n)&&(this._cursor.advance(),this._attemptCharCodeUntilFn(r=>r===no?(this._cursor.advance(),!1):r===n)),this._cursor.advance()}this._endToken([this._cursor.getChars(e)])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(cF(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===jt){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,n=this._cursor.clone()){this._currentTokenStart=n,this._currentTokenType=e}_endToken(e,n){if(this._currentTokenStart===null)throw new z(this._cursor.getSpan(n),"Programming error - attempted to end a token when there was no start to the token");if(this._currentTokenType===null)throw new z(this._cursor.getSpan(this._currentTokenStart),"Programming error - attempted to end a token which has no token type");let r={type:this._currentTokenType,parts:e,sourceSpan:(n??this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(r),this._currentTokenStart=null,this._currentTokenType=null,r}_createError(e,n){this._isInExpansionForm()&&(e+=` (Do you have an unescaped "{" in your template? Use "{{ '{' }}") to escape it.)`);let r=new z(n,e);return this._currentTokenStart=null,this._currentTokenType=null,r}handleError(e){if(e instanceof oc&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),e instanceof z)this.errors.push(e);else throw e}_attemptCharCode(e){return this._cursor.peek()===e?(this._cursor.advance(),!0):!1}_attemptCharCodeCaseInsensitive(e){return dF(this._cursor.peek(),e)?(this._cursor.advance(),!0):!1}_requireCharCode(e){let n=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(pa(this._cursor.peek()),this._cursor.getSpan(n))}_attemptStr(e){let n=e.length;if(this._cursor.charsLeft()<n)return!1;let r=this._cursor.clone();for(let i=0;i<n;i++)if(!this._attemptCharCode(e.charCodeAt(i)))return this._cursor=r,!1;return!0}_attemptStrCaseInsensitive(e){for(let n=0;n<e.length;n++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(n)))return!1;return!0}_requireStr(e){let n=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(pa(this._cursor.peek()),this._cursor.getSpan(n))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,n){let r=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(r)<n)throw this._createError(pa(this._cursor.peek()),this._cursor.getSpan(r))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){let e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_peekStr(e){let n=e.length;if(this._cursor.charsLeft()<n)return!1;let r=this._cursor.clone();for(let i=0;i<n;i++){if(r.peek()!==e.charCodeAt(i))return!1;r.advance()}return!0}_isBlockStart(){return this._cursor.peek()===ca&&oF.some(e=>this._peekStr(e))}_isLetStart(){return this._cursor.peek()===ca&&this._peekStr("@let")}_consumeEntity(e){this._beginToken(9);let n=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(VD)){let r=this._attemptCharCode(WD)||this._attemptCharCode(_1),i=this._cursor.clone();if(this._attemptCharCodeUntilFn(lF),this._cursor.peek()!=Tn){this._cursor.advance();let o=r?Sy.HEX:Sy.DEC;throw this._createError(sF(o,this._cursor.getChars(n)),this._cursor.getSpan())}let s=this._cursor.getChars(i);this._cursor.advance();try{let o=parseInt(s,r?16:10);this._endToken([String.fromCodePoint(o),this._cursor.getChars(n)])}catch{throw this._createError(wT(this._cursor.getChars(n)),this._cursor.getSpan())}}else{let r=this._cursor.clone();if(this._attemptCharCodeUntilFn(uF),this._cursor.peek()!=Tn)this._beginToken(e,n),this._cursor=r,this._endToken(["&"]);else{let i=this._cursor.getChars(r);this._cursor.advance();let s=sc.hasOwnProperty(i)&&sc[i];if(!s)throw this._createError(wT(i),this._cursor.getSpan(n));this._endToken([s,`&${i};`])}}}_consumeRawText(e,n){this._beginToken(e?6:7);let r=[];for(;;){let i=this._cursor.clone(),s=n();if(this._cursor=i,s)break;e&&this._cursor.peek()===$f?(this._endToken([this._processCarriageReturns(r.join(""))]),r.length=0,this._consumeEntity(6),this._beginToken(6)):r.push(this._readChar())}this._endToken([this._processCarriageReturns(r.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(Hf),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("-->")),this._beginToken(11),this._requireStr("-->"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);let n=this._cursor.clone();this._attemptUntilChar(Hn);let r=this._cursor.getChars(n);this._cursor.advance(),this._endToken([r])}_consumePrefixAndName(e){let n=this._cursor.clone(),r="";for(;this._cursor.peek()!==Br&&!aF(this._cursor.peek());)this._cursor.advance();let i;this._cursor.peek()===Br?(r=this._cursor.getChars(n),this._cursor.advance(),i=this._cursor.clone()):i=n,this._requireCharCodeUntilFn(e,r===""?0:1);let s=this._cursor.getChars(i);return[r,s]}_consumeTagOpen(e){let n,r,i,s;try{if(this._selectorlessEnabled&&Jd(this._cursor.peek()))s=this._consumeComponentOpenStart(e),[i,r,n]=s.parts,r&&(i+=`:${r}`),n&&(i+=`:${n}`),this._attemptCharCodeUntilFn(He);else{if(!ss(this._cursor.peek()))throw this._createError(pa(this._cursor.peek()),this._cursor.getSpan(e));s=this._consumeTagOpenStart(e),r=s.parts[0],n=i=s.parts[1],this._attemptCharCodeUntilFn(He)}for(;!DT(this._cursor.peek());)if(this._selectorlessEnabled&&this._cursor.peek()===ca){let a=this._cursor.clone(),l=a.clone();l.advance(),Jd(l.peek())&&this._consumeDirective(a,l)}else this._consumeAttribute();s.type===33?this._consumeComponentOpenEnd():this._consumeTagOpenEnd()}catch(a){if(a instanceof z){s?s.type=s.type===33?37:4:(this._beginToken(5,e),this._endToken(["<"]));return}throw a}let o=this._getTagDefinition(n).getContentType(r);o===Or.RAW_TEXT?this._consumeRawTextWithTagClose(s,i,!1):o===Or.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(s,i,!0)}_consumeRawTextWithTagClose(e,n,r){this._consumeRawText(r,()=>!this._attemptCharCode(Ta)||!this._attemptCharCode(Gn)||(this._attemptCharCodeUntilFn(He),!this._attemptStrCaseInsensitive(n))?!1:(this._attemptCharCodeUntilFn(He),this._attemptCharCode(Hn))),this._beginToken(e.type===33?36:3),this._requireCharCodeUntilFn(i=>i===Hn,3),this._cursor.advance(),this._endToken(e.parts)}_consumeTagOpenStart(e){this._beginToken(0,e);let n=this._consumePrefixAndName(Hs);return this._endToken(n)}_consumeComponentOpenStart(e){this._beginToken(33,e);let n=this._consumeComponentName();return this._endToken(n)}_consumeComponentName(){let e=this._cursor.clone();for(;TT(this._cursor.peek());)this._cursor.advance();let n=this._cursor.getChars(e),r="",i="";return this._cursor.peek()===Br&&(this._cursor.advance(),[r,i]=this._consumePrefixAndName(Hs)),[n,r,i]}_consumeAttribute(){this._consumeAttributeName(),this._attemptCharCodeUntilFn(He),this._attemptCharCode(Ot)&&(this._attemptCharCodeUntilFn(He),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(He)}_consumeAttributeName(){let e=this._cursor.peek();if(e===ju||e===zu)throw this._createError(pa(e),this._cursor.getSpan());this._beginToken(14);let n;if(this._openDirectiveCount>0){let i=0;n=s=>{if(this._openDirectiveCount>0){if(s===xn)i++;else if(s===Dt){if(i===0)return!0;i--}}return Hs(s)}}else if(e===Ur){let i=0;n=s=>(s===Ur?i++:s===vi&&i--,i<=0?Hs(s):qf(s))}else n=Hs;let r=this._consumePrefixAndName(n);this._endToken(r)}_consumeAttributeValue(){if(this._cursor.peek()===ju||this._cursor.peek()===zu){let e=this._cursor.peek();this._consumeQuote(e);let n=()=>this._cursor.peek()===e;this._consumeWithInterpolation(16,17,n,n),this._consumeQuote(e)}else{let e=()=>Hs(this._cursor.peek());this._consumeWithInterpolation(16,17,e,e)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){let e=this._attemptCharCode(Gn)?2:1;this._beginToken(e),this._requireCharCode(Hn),this._endToken([])}_consumeComponentOpenEnd(){let e=this._attemptCharCode(Gn)?35:34;this._beginToken(e),this._requireCharCode(Hn),this._endToken([])}_consumeTagClose(e){if(this._selectorlessEnabled){let r=e.clone();for(;r.peek()!==Hn&&!Jd(r.peek());)r.advance();if(Jd(r.peek())){this._beginToken(36,e);let i=this._consumeComponentName();this._attemptCharCodeUntilFn(He),this._requireCharCode(Hn),this._endToken(i);return}}this._beginToken(3,e),this._attemptCharCodeUntilFn(He);let n=this._consumePrefixAndName(Hs);this._attemptCharCodeUntilFn(He),this._requireCharCode(Hn),this._endToken(n)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(dr),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);let e=this._readUntil(cn),n=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([n]);else{let i=this._endToken([e]);n!==e&&this.nonNormalizedIcuExpressions.push(i)}this._requireCharCode(cn),this._attemptCharCodeUntilFn(He),this._beginToken(7);let r=this._readUntil(cn);this._endToken([r]),this._requireCharCode(cn),this._attemptCharCodeUntilFn(He)}_consumeExpansionCaseStart(){this._beginToken(20);let e=this._readUntil(dr).trim();this._endToken([e]),this._attemptCharCodeUntilFn(He),this._beginToken(21),this._requireCharCode(dr),this._endToken([]),this._attemptCharCodeUntilFn(He),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(jt),this._endToken([]),this._attemptCharCodeUntilFn(He),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(jt),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,n,r,i){this._beginToken(e);let s=[];for(;!r();){let o=this._cursor.clone();this._attemptStr(Zl.start)?(this._endToken([this._processCarriageReturns(s.join(""))],o),s.length=0,this._consumeInterpolation(n,o,i),this._beginToken(e)):this._cursor.peek()===$f?(this._endToken([this._processCarriageReturns(s.join(""))]),s.length=0,this._consumeEntity(e),this._beginToken(e)):s.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(s.join(""))])}_consumeInterpolation(e,n,r){let i=[];this._beginToken(e,n),i.push(Zl.start);let s=this._cursor.clone(),o=null,a=!1;for(;this._cursor.peek()!==vt&&(r===null||!r());){let l=this._cursor.clone();if(this._isTagStart()){this._cursor=l,i.push(this._getProcessedChars(s,l)),this._endToken(i);return}if(o===null)if(this._attemptStr(Zl.end)){i.push(this._getProcessedChars(s,l)),i.push(Zl.end),this._endToken(i);return}else this._attemptStr("//")&&(a=!0);let u=this._cursor.peek();this._cursor.advance(),u===no?this._cursor.advance():u===o?o=null:!a&&o===null&&fu(u)&&(o=u)}i.push(this._getProcessedChars(s,this._cursor)),this._endToken(i)}_consumeDirective(e,n){for(this._requireCharCode(ca),this._cursor.advance();TT(this._cursor.peek());)this._cursor.advance();this._beginToken(38,e);let r=this._cursor.getChars(n);if(this._endToken([r]),this._attemptCharCodeUntilFn(He),this._cursor.peek()===xn){for(this._openDirectiveCount++,this._beginToken(39),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(He);!DT(this._cursor.peek())&&this._cursor.peek()!==Dt;)this._consumeAttribute();if(this._attemptCharCodeUntilFn(He),this._openDirectiveCount--,this._cursor.peek()!==Dt){if(this._cursor.peek()===Hn||this._cursor.peek()===Gn)return;throw this._createError(pa(this._cursor.peek()),this._cursor.getSpan(e))}this._beginToken(40),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(He)}}_getProcessedChars(e,n){return this._processCarriageReturns(n.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||this._cursor.peek()===vt||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===jt&&this._isInExpansionCase())||this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansion()&&(this._isBlockStart()||this._isLetStart()||this._cursor.peek()===jt))}_isTagStart(){if(this._cursor.peek()===Ta){let e=this._cursor.clone();e.advance();let n=e.peek();if(go<=n&&n<=gc||us<=n&&n<=ja||n===Gn||n===ny)return!0}return!1}_readUntil(e){let n=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(n)}_isInExpansion(){return this._isInExpansionCase()||this._isInExpansionForm()}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===21}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===19}isExpansionFormStart(){if(this._cursor.peek()!==dr)return!1;let e=this._cursor.clone(),n=this._attemptStr(Zl.start);return this._cursor=e,!n}};function He(t){return!Wu(t)||t===vt}function Hs(t){return Wu(t)||t===Hn||t===Ta||t===Gn||t===ju||t===zu||t===Ot||t===vt}function aF(t){return(t<go||gc<t)&&(t<us||ja<t)&&(t<yE||t>$D)}function lF(t){return t===Tn||t===vt||!I1(t)}function uF(t){return t===Tn||t===vt||!ss(t)}function cF(t){return t!==jt}function dF(t,e){return _T(t)===_T(e)}function _T(t){return t>=go&&t<=gc?t-go+us:t}function fF(t){return ss(t)||cr(t)||t===cs}function ST(t){return t!==Tn&&He(t)}function Jd(t){return t===cs||t>=us&&t<=ja}function TT(t){return ss(t)||cr(t)||t===cs}function DT(t){return t===Gn||t===Hn||t===Ta||t===vt}function pF(t){let e=[],n;for(let r=0;r<t.length;r++){let i=t[r];n&&n.type===5&&i.type===5||n&&n.type===16&&i.type===16?(n.parts[0]+=i.parts[0],n.sourceSpan.end=i.sourceSpan.end):(n=i,e.push(n))}return e}var op=class t{state;file;input;end;constructor(e,n){if(e instanceof t){this.file=e.file,this.input=e.input,this.end=e.end;let r=e.state;this.state={peek:r.peek,offset:r.offset,line:r.line,column:r.column}}else{if(!n)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=n.endPos,this.state={peek:-1,offset:n.startPos,line:n.startLine,column:n.startCol}}}clone(){return new t(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,n){e=e||this;let r=e;if(n)for(;this.diff(e)>0&&n.indexOf(e.peek())!==-1;)r===e&&(e=e.clone()),e.advance();let i=this.locationFromCursor(e),s=this.locationFromCursor(this),o=r!==e?this.locationFromCursor(r):i;return new X(i,s,o)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new oc('Unexpected character "EOF"',this);let n=this.charAt(e.offset);n===to?(e.line++,e.column=0):qf(n)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?vt:this.charAt(e.offset)}locationFromCursor(e){return new Yu(e.file,e.state.offset,e.state.line,e.state.column)}},Dy=class t extends op{internalState;constructor(e,n){e instanceof t?(super(e),this.internalState=S({},e.internalState)):(super(e,n),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new t(this)}getChars(e){let n=e.clone(),r="";for(;n.internalState.offset<this.internalState.offset;)r+=String.fromCodePoint(n.peek()),n.advance();return r}processEscapeSequence(){let e=()=>this.internalState.peek;if(e()===no)if(this.internalState=S({},this.state),this.advanceState(this.internalState),e()===HD)this.state.peek=to;else if(e()===qD)this.state.peek=vE;else if(e()===jD)this.state.peek=FD;else if(e()===GD)this.state.peek=gE;else if(e()===T1)this.state.peek=v1;else if(e()===EE)this.state.peek=OD;else if(e()===zD)if(this.advanceState(this.internalState),e()===dr){this.advanceState(this.internalState);let n=this.clone(),r=0;for(;e()!==jt;)this.advanceState(this.internalState),r++;this.state.peek=this.decodeHexDigits(n,r)}else{let n=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,4)}else if(e()===WD){this.advanceState(this.internalState);let n=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,2)}else if(eT(e())){let n="",r=0,i=this.clone();for(;eT(e())&&r<3;)i=this.clone(),n+=String.fromCodePoint(e()),this.advanceState(this.internalState),r++;this.state.peek=parseInt(n,8),this.internalState=i.internalState}else qf(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,n){let r=this.input.slice(e.internalState.offset,e.internalState.offset+n),i=parseInt(r,16);if(isNaN(i))throw e.state=e.internalState,new oc("Invalid hexadecimal escape sequence",e);return i}},oc=class extends Error{msg;cursor;constructor(e,n){super(e),this.msg=e,this.cursor=n,Object.setPrototypeOf(this,new.target.prototype)}},nt=class t extends z{elementName;static create(e,n,r){return new t(e,n,r)}constructor(e,n,r){super(n,r),this.elementName=e}},ap=class{rootNodes;errors;constructor(e,n){this.rootNodes=e,this.errors=n}},hF=class{getTagDefinition;constructor(e){this.getTagDefinition=e}parse(e,n,r){let i=rF(e,n,this.getTagDefinition,r),s=new Iy(i.tokens,this.getTagDefinition);return s.build(),new ap(s.rootNodes,[...i.errors,...s.errors])}},Iy=class t{tokens;tagDefinitionResolver;_index=-1;_peek;_containerStack=[];rootNodes=[];errors=[];constructor(e,n){this.tokens=e,this.tagDefinitionResolver=n,this._advance()}build(){for(;this._peek.type!==41;)this._peek.type===0||this._peek.type===4?this._consumeElementStartTag(this._advance()):this._peek.type===3?this._consumeElementEndTag(this._advance()):this._peek.type===12?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===10?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===5||this._peek.type===7||this._peek.type===6?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===19?this._consumeExpansion(this._advance()):this._peek.type===24?(this._closeVoidElement(),this._consumeBlockOpen(this._advance())):this._peek.type===26?(this._closeVoidElement(),this._consumeBlockClose(this._advance())):this._peek.type===28?(this._closeVoidElement(),this._consumeIncompleteBlock(this._advance())):this._peek.type===29?(this._closeVoidElement(),this._consumeLet(this._advance())):this._peek.type===32?(this._closeVoidElement(),this._consumeIncompleteLet(this._advance())):this._peek.type===33||this._peek.type===37?this._consumeComponentStartTag(this._advance()):this._peek.type===36?this._consumeComponentEndTag(this._advance()):this._advance();for(let e of this._containerStack)e instanceof zn&&this.errors.push(nt.create(e.name,e.sourceSpan,`Unclosed block "${e.name}"`))}_advance(){let e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){let n=this._advanceIf(7),r=this._advanceIf(11),i=n!=null?n.parts[0].trim():null,s=r==null?e.sourceSpan:new X(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new ic(i,s))}_consumeExpansion(e){let n=this._advance(),r=this._advance(),i=[];for(;this._peek.type===20;){let o=this._parseExpansionCase();if(!o)return;i.push(o)}if(this._peek.type!==23){this.errors.push(nt.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));return}let s=new X(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new ro(n.parts[0],r.parts[0],i,s,n.sourceSpan)),this._advance()}_parseExpansionCase(){let e=this._advance();if(this._peek.type!==21)return this.errors.push(nt.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;let n=this._advance(),r=this._collectExpansionExpTokens(n);if(!r)return null;let i=this._advance();r.push({type:41,parts:[],sourceSpan:i.sourceSpan});let s=new t(r,this.tagDefinitionResolver);if(s.build(),s.errors.length>0)return this.errors=this.errors.concat(s.errors),null;let o=new X(e.sourceSpan.start,i.sourceSpan.end,e.sourceSpan.fullStart),a=new X(n.sourceSpan.start,i.sourceSpan.end,n.sourceSpan.fullStart);return new rp(e.parts[0],s.rootNodes,o,e.sourceSpan,a)}_collectExpansionExpTokens(e){let n=[],r=[21];for(;;){if((this._peek.type===19||this._peek.type===21)&&r.push(this._peek.type),this._peek.type===22)if(IT(r,21)){if(r.pop(),r.length===0)return n}else return this.errors.push(nt.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===23)if(IT(r,19))r.pop();else return this.errors.push(nt.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===41)return this.errors.push(nt.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.push(this._advance())}}_consumeText(e){let n=[e],r=e.sourceSpan,i=e.parts[0];if(i.length>0&&i[0]===`
`){let s=this._getContainer();s!=null&&s.children.length===0&&this._getTagDefinition(s)?.ignoreFirstLf&&(i=i.substring(1),n[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[i]})}for(;this._peek.type===8||this._peek.type===5||this._peek.type===9;)e=this._advance(),n.push(e),e.type===8?i+=e.parts.join("").replace(/&([^;]+);/g,AT):e.type===9?i+=e.parts[0]:i+=e.parts.join("");if(i.length>0){let s=e.sourceSpan;this._addToParent(new wo(i,new X(r.start,s.end,r.fullStart,r.details),n))}}_closeVoidElement(){let e=this._getContainer();e!==null&&this._getTagDefinition(e)?.isVoid&&this._containerStack.pop()}_consumeElementStartTag(e){let n=[],r=[];this._consumeAttributesAndDirectives(n,r);let i=this._getElementFullName(e,this._getClosestElementLikeParent()),s=this._getTagDefinition(i),o=!1;this._peek.type===2?(this._advance(),o=!0,s?.canSelfClose||Wv(i)!==null||s?.isVoid||this.errors.push(nt.create(i,e.sourceSpan,`Only void, custom and foreign elements can be self closed "${e.parts[1]}"`))):this._peek.type===1&&(this._advance(),o=!1);let a=this._peek.sourceSpan.fullStart,l=new X(e.sourceSpan.start,a,e.sourceSpan.fullStart),u=new X(e.sourceSpan.start,a,e.sourceSpan.fullStart),d=new qn(i,n,r,[],o,l,u,void 0,s?.isVoid??!1),p=this._getContainer(),h=p!==null&&!!this._getTagDefinition(p)?.isClosedByChild(d.name);this._pushContainer(d,h),o?this._popContainer(i,qn,l):e.type===4&&(this._popContainer(i,qn,null),this.errors.push(nt.create(i,l,`Opening tag "${i}" not terminated.`)))}_consumeComponentStartTag(e){let n=e.parts[0],r=[],i=[];this._consumeAttributesAndDirectives(r,i);let s=this._getClosestElementLikeParent(),o=this._getComponentTagName(e,s),a=this._getComponentFullName(e,s),l=this._peek.type===35;this._advance();let u=this._peek.sourceSpan.fullStart,d=new X(e.sourceSpan.start,u,e.sourceSpan.fullStart),p=new X(e.sourceSpan.start,u,e.sourceSpan.fullStart),h=new an(n,o,a,r,i,[],l,d,p,void 0),m=this._getContainer(),v=m!==null&&h.tagName!==null&&!!this._getTagDefinition(m)?.isClosedByChild(h.tagName);this._pushContainer(h,v),l?this._popContainer(a,an,d):e.type===37&&(this._popContainer(a,an,null),this.errors.push(nt.create(a,d,`Opening tag "${a}" not terminated.`)))}_consumeAttributesAndDirectives(e,n){for(;this._peek.type===14||this._peek.type===38;)this._peek.type===38?n.push(this._consumeDirective(this._peek)):e.push(this._consumeAttr(this._advance()))}_consumeComponentEndTag(e){let n=this._getComponentFullName(e,this._getClosestElementLikeParent());if(!this._popContainer(n,an,e.sourceSpan)){let r=this._containerStack[this._containerStack.length-1],i;r instanceof an&&r.componentName===e.parts[0]?i=`, did you mean "${r.fullName}"?`:i=". It may happen when the tag has already been closed by another tag.";let s=`Unexpected closing tag "${n}"${i}`;this.errors.push(nt.create(n,e.sourceSpan,s))}}_getTagDefinition(e){return typeof e=="string"?this.tagDefinitionResolver(e):e instanceof qn?this.tagDefinitionResolver(e.name):e instanceof an&&e.tagName!==null?this.tagDefinitionResolver(e.tagName):null}_pushContainer(e,n){n&&this._containerStack.pop(),this._addToParent(e),this._containerStack.push(e)}_consumeElementEndTag(e){let n=this._getElementFullName(e,this._getClosestElementLikeParent());if(this._getTagDefinition(n)?.isVoid)this.errors.push(nt.create(n,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popContainer(n,qn,e.sourceSpan)){let r=`Unexpected closing tag "${n}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(nt.create(n,e.sourceSpan,r))}}_popContainer(e,n,r){let i=!1;for(let s=this._containerStack.length-1;s>=0;s--){let o=this._containerStack[s];if(((o instanceof an?o.fullName:o.name)===e||e===null)&&o instanceof n)return o.endSourceSpan=r,o.sourceSpan.end=r!==null?r.end:o.sourceSpan.end,this._containerStack.splice(s,this._containerStack.length-s),!i;(o instanceof zn||!this._getTagDefinition(o)?.closedByParent)&&(i=!0)}return!1}_consumeAttr(e){let n=uf(e.parts[0],e.parts[1]),r=e.sourceSpan.end;this._peek.type===15&&this._advance();let i="",s=[],o,a;if(this._peek.type===16)for(o=this._peek.sourceSpan,a=this._peek.sourceSpan.end;this._peek.type===16||this._peek.type===17||this._peek.type===9;){let d=this._advance();s.push(d),d.type===17?i+=d.parts.join("").replace(/&([^;]+);/g,AT):d.type===9?i+=d.parts[0]:i+=d.parts.join(""),a=r=d.sourceSpan.end}this._peek.type===15&&(r=this._advance().sourceSpan.end);let u=o&&a&&new X(o.start,a,o.fullStart);return new Cy(n,i,new X(e.sourceSpan.start,r,e.sourceSpan.fullStart),e.sourceSpan,u,s.length>0?s:void 0,void 0)}_consumeDirective(e){let n=[],r=e.sourceSpan.end,i=null;if(this._advance(),this._peek.type===39){for(r=this._peek.sourceSpan.end,this._advance();this._peek.type===14;)n.push(this._consumeAttr(this._advance()));this._peek.type===40?(i=this._peek.sourceSpan,this._advance()):this.errors.push(nt.create(null,e.sourceSpan,"Unterminated directive definition"))}let s=new X(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new X(s.start,i===null?e.sourceSpan.end:i.end,s.fullStart);return new wy(e.parts[0],n,o,s,i)}_consumeBlockOpen(e){let n=[];for(;this._peek.type===27;){let a=this._advance();n.push(new ip(a.parts[0],a.sourceSpan))}this._peek.type===25&&this._advance();let r=this._peek.sourceSpan.fullStart,i=new X(e.sourceSpan.start,r,e.sourceSpan.fullStart),s=new X(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new zn(e.parts[0],n,[],i,e.sourceSpan,s);this._pushContainer(o,!1)}_consumeBlockClose(e){this._popContainer(null,zn,e.sourceSpan)||this.errors.push(nt.create(null,e.sourceSpan,'Unexpected closing block. The block may have been closed earlier. If you meant to write the } character, you should use the "&#125;" HTML entity instead.'))}_consumeIncompleteBlock(e){let n=[];for(;this._peek.type===27;){let a=this._advance();n.push(new ip(a.parts[0],a.sourceSpan))}let r=this._peek.sourceSpan.fullStart,i=new X(e.sourceSpan.start,r,e.sourceSpan.fullStart),s=new X(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new zn(e.parts[0],n,[],i,e.sourceSpan,s);this._pushContainer(o,!1),this._popContainer(null,zn,null),this.errors.push(nt.create(e.parts[0],i,`Incomplete block "${e.parts[0]}". If you meant to write the @ character, you should use the "&#64;" HTML entity instead.`))}_consumeLet(e){let n=e.parts[0],r,i;if(this._peek.type!==30){this.errors.push(nt.create(e.parts[0],e.sourceSpan,`Invalid @let declaration "${n}". Declaration must have a value.`));return}else r=this._advance();if(this._peek.type!==31){this.errors.push(nt.create(e.parts[0],e.sourceSpan,`Unterminated @let declaration "${n}". Declaration must be terminated with a semicolon.`));return}else i=this._advance();let s=i.sourceSpan.fullStart,o=new X(e.sourceSpan.start,s,e.sourceSpan.fullStart),a=e.sourceSpan.toString().lastIndexOf(n),l=e.sourceSpan.start.moveBy(a),u=new X(l,e.sourceSpan.end),d=new sp(n,r.parts[0],o,u,r.sourceSpan);this._addToParent(d)}_consumeIncompleteLet(e){let n=e.parts[0]??"",r=n?` "${n}"`:"";if(n.length>0){let i=e.sourceSpan.toString().lastIndexOf(n),s=e.sourceSpan.start.moveBy(i),o=new X(s,e.sourceSpan.end),a=new X(e.sourceSpan.start,e.sourceSpan.start.moveBy(0)),l=new sp(n,"",e.sourceSpan,o,a);this._addToParent(l)}this.errors.push(nt.create(e.parts[0],e.sourceSpan,`Incomplete @let declaration${r}. @let declarations must be written as \`@let <name> = <value>;\``))}_getContainer(){return this._containerStack.length>0?this._containerStack[this._containerStack.length-1]:null}_getClosestElementLikeParent(){for(let e=this._containerStack.length-1;e>-1;e--){let n=this._containerStack[e];if(n instanceof qn||n instanceof an)return n}return null}_addToParent(e){let n=this._getContainer();n===null?this.rootNodes.push(e):n.children.push(e)}_getElementFullName(e,n){let r=this._getPrefix(e,n);return uf(r,e.parts[1])}_getComponentFullName(e,n){let r=e.parts[0],i=this._getComponentTagName(e,n);return i===null?r:i.startsWith(":")?r+i:`${r}:${i}`}_getComponentTagName(e,n){let r=this._getPrefix(e,n),i=e.parts[2];return!r&&!i?null:!r&&i?i:uf(r,i||"ng-component")}_getPrefix(e,n){let r,i;if(e.type===33||e.type===37||e.type===36?(r=e.parts[1],i=e.parts[2]):(r=e.parts[0],i=e.parts[1]),r=r||this._getTagDefinition(i)?.implicitNamespacePrefix||"",!r&&n){let s=n instanceof qn?n.name:n.tagName;if(s!==null){let o=mr(s)[1],a=this._getTagDefinition(o);a!==null&&!a.preventNamespaceInheritance&&(r=Wv(s))}}return r}};function IT(t,e){return t.length>0&&t[t.length-1]===e}function AT(t,e){return sc[e]!==void 0?sc[e]||t:/^#x[a-f0-9]+$/i.test(e)?String.fromCodePoint(parseInt(e.slice(2),16)):/^#\d+$/.test(e)?String.fromCodePoint(parseInt(e.slice(1),10)):t}var vI="ngPreserveWhitespaces",xT=new Set(["pre","template","textarea","script","style"]),yI=` \f
\r	\v\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`,mF=new RegExp(`[^${yI}]`),gF=new RegExp(`[${yI}]{2,}`,"g");function bT(t){return t.some(e=>e.name===vI)}function EI(t){return t.replace(new RegExp(gI,"g")," ")}var lp=class{preserveSignificantWhitespace;originalNodeMap;requireContext;icuExpansionDepth=0;constructor(e,n,r=!0){this.preserveSignificantWhitespace=e,this.originalNodeMap=n,this.requireContext=r}visitElement(e,n){if(xT.has(e.name)||bT(e.attrs)){let i=new qn(e.name,Pr(this,e.attrs),Pr(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n);return this.originalNodeMap?.set(i,e),i}let r=new qn(e.name,e.attrs,e.directives,Pr(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n);return this.originalNodeMap?.set(r,e),r}visitAttribute(e,n){return e.name!==vI?e:null}visitText(e,n){let r=e.value.match(mF),i=n&&(n.prev instanceof ro||n.next instanceof ro);if(this.icuExpansionDepth>0&&this.preserveSignificantWhitespace)return e;if(r||i){let o=e.tokens.map(d=>d.type===5?CF(d):d);if(!this.preserveSignificantWhitespace&&o.length>0){let d=o[0];o.splice(0,1,vF(d,n));let p=o[o.length-1];o.splice(o.length-1,1,yF(p,n))}let a=wI(e.value),l=this.preserveSignificantWhitespace?a:EF(a,n),u=new wo(l,e.sourceSpan,o,e.i18n);return this.originalNodeMap?.set(u,e),u}return null}visitComment(e,n){return e}visitExpansion(e,n){this.icuExpansionDepth++;let r;try{r=new ro(e.switchValue,e.type,Pr(this,e.cases),e.sourceSpan,e.switchValueSourceSpan,e.i18n)}finally{this.icuExpansionDepth--}return this.originalNodeMap?.set(r,e),r}visitExpansionCase(e,n){let r=new rp(e.value,Pr(this,e.expression),e.sourceSpan,e.valueSourceSpan,e.expSourceSpan);return this.originalNodeMap?.set(r,e),r}visitBlock(e,n){let r=new zn(e.name,e.parameters,Pr(this,e.children),e.sourceSpan,e.nameSpan,e.startSourceSpan,e.endSourceSpan);return this.originalNodeMap?.set(r,e),r}visitBlockParameter(e,n){return e}visitLetDeclaration(e,n){return e}visitComponent(e,n){if(e.tagName&&xT.has(e.tagName)||bT(e.attrs)){let i=new an(e.componentName,e.tagName,e.fullName,Pr(this,e.attrs),Pr(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(i,e),i}let r=new an(e.componentName,e.tagName,e.fullName,e.attrs,e.directives,Pr(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(r,e),r}visitDirective(e,n){return e}visit(e,n){if(this.requireContext&&!n)throw new Error("WhitespaceVisitor requires context. Visit via `visitAllWithSiblings` to get this context.");return!1}};function vF(t,e){return t.type!==5||!!e?.prev?t:CI(t,r=>r.trimStart())}function yF(t,e){return t.type!==5||!!e?.next?t:CI(t,r=>r.trimEnd())}function EF(t,e){let n=!e?.prev,r=!e?.next,i=n?t.trimStart():t;return r?i.trimEnd():i}function CF({type:t,parts:e,sourceSpan:n}){return{type:t,parts:[wI(e[0])],sourceSpan:n}}function CI({type:t,parts:e,sourceSpan:n},r){return{type:t,parts:[r(e[0])],sourceSpan:n}}function wI(t){return EI(t).replace(gF," ")}function Pr(t,e){let n=[];return e.forEach((r,i)=>{let s={prev:e[i-1],next:e[i+1]},o=r.visit(t,s);o&&n.push(o)}),n}var j=(function(t){return t[t.Character=0]="Character",t[t.Identifier=1]="Identifier",t[t.PrivateIdentifier=2]="PrivateIdentifier",t[t.Keyword=3]="Keyword",t[t.String=4]="String",t[t.Operator=5]="Operator",t[t.Number=6]="Number",t[t.RegExpBody=7]="RegExpBody",t[t.RegExpFlags=8]="RegExpFlags",t[t.Error=9]="Error",t})(j||{}),io=(function(t){return t[t.Plain=0]="Plain",t[t.TemplateLiteralPart=1]="TemplateLiteralPart",t[t.TemplateLiteralEnd=2]="TemplateLiteralEnd",t})(io||{}),wF=["var","let","as","null","undefined","true","false","if","else","this","typeof","void","in"],ac=class{tokenize(e){return new Ay(e).scan()}},kn=class{index;end;type;numValue;strValue;constructor(e,n,r,i,s){this.index=e,this.end=n,this.type=r,this.numValue=i,this.strValue=s}isCharacter(e){return this.type===j.Character&&this.numValue===e}isNumber(){return this.type===j.Number}isString(){return this.type===j.String}isOperator(e){return this.type===j.Operator&&this.strValue===e}isIdentifier(){return this.type===j.Identifier}isPrivateIdentifier(){return this.type===j.PrivateIdentifier}isKeyword(){return this.type===j.Keyword}isKeywordLet(){return this.type===j.Keyword&&this.strValue==="let"}isKeywordAs(){return this.type===j.Keyword&&this.strValue==="as"}isKeywordNull(){return this.type===j.Keyword&&this.strValue==="null"}isKeywordUndefined(){return this.type===j.Keyword&&this.strValue==="undefined"}isKeywordTrue(){return this.type===j.Keyword&&this.strValue==="true"}isKeywordFalse(){return this.type===j.Keyword&&this.strValue==="false"}isKeywordThis(){return this.type===j.Keyword&&this.strValue==="this"}isKeywordTypeof(){return this.type===j.Keyword&&this.strValue==="typeof"}isKeywordVoid(){return this.type===j.Keyword&&this.strValue==="void"}isKeywordIn(){return this.type===j.Keyword&&this.strValue==="in"}isError(){return this.type===j.Error}isRegExpBody(){return this.type===j.RegExpBody}isRegExpFlags(){return this.type===j.RegExpFlags}toNumber(){return this.type===j.Number?this.numValue:-1}isTemplateLiteralPart(){return this.isString()&&this.kind===io.TemplateLiteralPart}isTemplateLiteralEnd(){return this.isString()&&this.kind===io.TemplateLiteralEnd}isTemplateLiteralInterpolationStart(){return this.isOperator("${")}toString(){switch(this.type){case j.Character:case j.Identifier:case j.Keyword:case j.Operator:case j.PrivateIdentifier:case j.String:case j.Error:case j.RegExpBody:case j.RegExpFlags:return this.strValue;case j.Number:return this.numValue.toString();default:return null}}},pu=class extends kn{kind;constructor(e,n,r,i){super(e,n,j.String,0,r),this.kind=i}};function eu(t,e,n){return new kn(t,e,j.Character,n,String.fromCharCode(n))}function _F(t,e,n){return new kn(t,e,j.Identifier,0,n)}function SF(t,e,n){return new kn(t,e,j.PrivateIdentifier,0,n)}function TF(t,e,n){return new kn(t,e,j.Keyword,0,n)}function tu(t,e,n){return new kn(t,e,j.Operator,0,n)}function DF(t,e,n){return new kn(t,e,j.Number,n,"")}function IF(t,e,n){return new kn(t,e,j.Error,0,n)}function AF(t,e,n){return new kn(t,e,j.RegExpBody,0,n)}function xF(t,e,n){return new kn(t,e,j.RegExpFlags,0,n)}var Xd=new kn(-1,-1,j.Character,0,""),Ay=class{input;tokens=[];length;peek=0;index=-1;braceStack=[];constructor(e){this.input=e,this.length=e.length,this.advance()}scan(){let e=this.scanToken();for(;e!==null;)this.tokens.push(e),e=this.scanToken();return this.tokens}advance(){this.peek=++this.index>=this.length?vt:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,n=this.length,r=this.peek,i=this.index;for(;r<=BD;)if(++i>=n){r=vt;break}else r=e.charCodeAt(i);if(this.peek=r,this.index=i,i>=n)return null;if(NT(r))return this.scanIdentifier();if(cr(r))return this.scanNumber(i);let s=i;switch(r){case ou:return this.advance(),cr(this.peek)?this.scanNumber(s):eu(s,this.index,ou);case xn:case Dt:case Ur:case vi:case cn:case Br:case Tn:return this.scanCharacter(s,r);case dr:return this.scanOpenBrace(s,r);case jt:return this.scanCloseBrace(s,r);case ju:case zu:return this.scanString();case ry:return this.advance(),this.scanTemplateLiteralPart(s);case VD:return this.scanPrivateIdentifier();case UD:return this.scanComplexOperator(s,"+",Ot,"=");case Hf:return this.scanComplexOperator(s,"-",Ot,"=");case Gn:return this.isStartOfRegex()?this.scanRegex(i):this.scanComplexOperator(s,"/",Ot,"=");case y1:return this.scanComplexOperator(s,"%",Ot,"=");case S1:return this.scanOperator(s,"^");case Q0:return this.scanStar(s);case K0:return this.scanQuestion(s);case Ta:case Hn:return this.scanComplexOperator(s,String.fromCharCode(r),Ot,"=");case ny:case Ot:return this.scanComplexOperator(s,String.fromCharCode(r),Ot,"=",Ot,"=");case $f:return this.scanComplexOperator(s,"&",$f,"&",Ot,"=");case Z0:return this.scanComplexOperator(s,"|",Z0,"|",Ot,"=");case YD:for(;Wu(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(r)}]`,0)}scanCharacter(e,n){return this.advance(),eu(e,this.index,n)}scanOperator(e,n){return this.advance(),tu(e,this.index,n)}scanOpenBrace(e,n){return this.braceStack.push("expression"),this.advance(),eu(e,this.index,n)}scanCloseBrace(e,n){return this.advance(),this.braceStack.pop()==="interpolation"?(this.tokens.push(eu(e,this.index,jt)),this.scanTemplateLiteralPart(this.index)):eu(e,this.index,n)}scanComplexOperator(e,n,r,i,s,o){this.advance();let a=n;return this.peek==r&&(this.advance(),a+=i),s!=null&&this.peek==s&&(this.advance(),a+=o),tu(e,this.index,a)}scanIdentifier(){let e=this.index;for(this.advance();MT(this.peek);)this.advance();let n=this.input.substring(e,this.index);return wF.indexOf(n)>-1?TF(e,this.index,n):_F(e,this.index,n)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!NT(this.peek))return this.error("Invalid character [#]",-1);for(;MT(this.peek);)this.advance();let n=this.input.substring(e,this.index);return SF(e,this.index,n)}scanNumber(e){let n=this.index===e,r=!1;for(this.advance();;){if(!cr(this.peek))if(this.peek===cs){if(!cr(this.input.charCodeAt(this.index-1))||!cr(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);r=!0}else if(this.peek===ou)n=!1;else if(bF(this.peek)){if(this.advance(),NF(this.peek)&&this.advance(),!cr(this.peek))return this.error("Invalid exponent",-1);n=!1}else break;this.advance()}let i=this.input.substring(e,this.index);r&&(i=i.replace(/_/g,""));let s=n?RF(i):parseFloat(i);return DF(e,this.index,s)}scanString(){let e=this.index,n=this.peek;this.advance();let r="",i=this.index,s=this.input;for(;this.peek!=n;)if(this.peek==no){let a=this.scanStringBackslash(r,i);if(typeof a!="string")return a;r=a,i=this.index}else{if(this.peek==vt)return this.error("Unterminated quote",0);this.advance()}let o=s.substring(i,this.index);return this.advance(),new pu(e,this.index,r+o,io.Plain)}scanQuestion(e){this.advance();let n="?";return this.peek===K0?(n+="?",this.advance(),this.peek===Ot&&(n+="=",this.advance())):this.peek===ou&&(n+=".",this.advance()),tu(e,this.index,n)}scanTemplateLiteralPart(e){let n="",r=this.index;for(;this.peek!==ry;)if(this.peek===no){let s=this.scanStringBackslash(n,r);if(typeof s!="string")return s;n=s,r=this.index}else if(this.peek===Dp){let s=this.index;if(this.advance(),this.peek===dr)return this.braceStack.push("interpolation"),this.tokens.push(new pu(e,s,n+this.input.substring(r,s),io.TemplateLiteralPart)),this.advance(),tu(s,this.index,this.input.substring(s,this.index))}else{if(this.peek===vt)return this.error("Unterminated template literal",0);this.advance()}let i=this.input.substring(r,this.index);return this.advance(),new pu(e,this.index,n+i,io.TemplateLiteralEnd)}error(e,n){let r=this.index+n;return IF(r,this.index,`Lexer Error: ${e} at column ${r} in expression [${this.input}]`)}scanStringBackslash(e,n){e+=this.input.substring(n,this.index);let r;if(this.advance(),this.peek===zD){let i=this.input.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(i))r=parseInt(i,16);else return this.error(`Invalid unicode escape [\\u${i}]`,0);for(let s=0;s<5;s++)this.advance()}else r=MF(this.peek),this.advance();return e+=String.fromCharCode(r),e}scanStar(e){this.advance();let n="*";return this.peek===Q0?(n+="*",this.advance(),this.peek===Ot&&(n+="=",this.advance())):this.peek===Ot&&(n+="=",this.advance()),tu(e,this.index,n)}isStartOfRegex(){if(this.tokens.length===0)return!0;let e=this.tokens[this.tokens.length-1];if(e.isOperator("!")){let n=this.tokens.length>1?this.tokens[this.tokens.length-2]:null;return n===null||n.type!==j.Identifier&&!n.isCharacter(Dt)&&!n.isCharacter(vi)}return e.type===j.Operator||e.isCharacter(xn)||e.isCharacter(Ur)||e.isCharacter(cn)||e.isCharacter(Br)}scanRegex(e){this.advance();let n=this.index,r=!1,i=!1;for(;;){let l=this.peek;if(l===vt)return this.error("Unterminated regular expression",0);if(r)r=!1;else if(l===no)r=!0;else if(l===Ur)i=!0;else if(l===vi)i=!1;else if(l===Gn&&!i)break;this.advance()}let s=this.input.substring(n,this.index);this.advance();let o=AF(e,this.index,s),a=this.scanRegexFlags(this.index);return a!==null?(this.tokens.push(o),a):o}scanRegexFlags(e){if(!ss(this.peek))return null;for(;ss(this.peek);)this.advance();return xF(e,this.index,this.input.substring(e,this.index))}};function NT(t){return go<=t&&t<=gc||us<=t&&t<=ja||t==cs||t==Dp}function MT(t){return ss(t)||cr(t)||t==cs||t==Dp}function bF(t){return t==D1||t==C1}function NF(t){return t==Hf||t==UD}function MF(t){switch(t){case HD:return to;case EE:return OD;case qD:return vE;case GD:return gE;case jD:return FD;default:return t}}function RF(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var xy=class{strings;expressions;offsets;constructor(e,n,r){this.strings=e,this.expressions=n,this.offsets=r}},by=class{templateBindings;warnings;errors;constructor(e,n,r){this.templateBindings=e,this.warnings=n,this.errors=r}};function Ji(t){return t.start.toString()||"(unknown)"}var up=class{_lexer;_supportsDirectPipeReferences;constructor(e,n=!1){this._lexer=e,this._supportsDirectPipeReferences=n}parseAction(e,n,r){let i=[];this._checkNoInterpolation(i,e,n);let{stripped:s}=this._stripComments(e),o=this._lexer.tokenize(s),a=new Ws(e,n,r,o,1,i,0,this._supportsDirectPipeReferences).parseChain();return new un(a,e,Ji(n),r,i)}parseBinding(e,n,r){let i=[],s=this._parseBindingAst(e,n,r,i);return new un(s,e,Ji(n),r,i)}checkSimpleExpression(e){let n=new Ny;return e.visit(n),n.errors}parseSimpleBinding(e,n,r){let i=[],s=this._parseBindingAst(e,n,r,i),o=this.checkSimpleExpression(s);return o.length>0&&i.push(wa(`Host binding expression cannot contain ${o.join(" ")}`,e,"",n)),new un(s,e,Ji(n),r,i)}_parseBindingAst(e,n,r,i){this._checkNoInterpolation(i,e,n);let{stripped:s}=this._stripComments(e),o=this._lexer.tokenize(s);return new Ws(e,n,r,o,0,i,0,this._supportsDirectPipeReferences).parseChain()}parseTemplateBindings(e,n,r,i,s){let o=this._lexer.tokenize(n),a=[];return new Ws(n,r,s,o,0,a,0,this._supportsDirectPipeReferences).parseTemplateBindings({source:e,span:new An(i,i+e.length)})}parseInterpolation(e,n,r,i){let s=[],{strings:o,expressions:a,offsets:l}=this.splitInterpolation(e,n,s,i);if(a.length===0)return null;let u=[];for(let d=0;d<a.length;++d){let p=i?.[d*2+1]?.sourceSpan,h=a[d].text,{stripped:m,hasComments:v}=this._stripComments(h),C=this._lexer.tokenize(m);if(v&&m.trim().length===0&&C.length===0){s.push(wa("Interpolation expression cannot only contain a comment",e,`at column ${a[d].start} in`,n));continue}let w=new Ws(p?h:e,p||n,r,C,0,s,l[d],this._supportsDirectPipeReferences).parseChain();u.push(w)}return this.createInterpolationAst(o.map(d=>d.text),u,e,Ji(n),r,s)}parseInterpolationExpression(e,n,r){let{stripped:i}=this._stripComments(e),s=this._lexer.tokenize(i),o=[],a=new Ws(e,n,r,s,0,o,0,this._supportsDirectPipeReferences).parseChain(),l=["",""];return this.createInterpolationAst(l,[a],e,Ji(n),r,o)}createInterpolationAst(e,n,r,i,s,o){let a=new fo(0,r.length),l=new hc(a,a.toAbsolute(s),e,n);return new un(l,r,i,s,o)}splitInterpolation(e,n,r,i){let s=[],o=[],a=[],l=i?kF(i):null,u=0,d=!1,p=!1,h="{{",m="}}";for(;u<e.length;)if(d){let v=u,C=v+h.length,w=this._getInterpolationEndIndex(e,m,C);if(w===-1){d=!1,p=!0;break}let E=w+m.length,D=e.substring(C,w);D.trim().length===0&&r.push(wa("Blank expressions are not allowed in interpolated strings",e,`at column ${u} in`,n)),o.push({text:D,start:v,end:E});let x=(l?.get(v)??v)+h.length;a.push(x),u=E,d=!1}else{let v=u;u=e.indexOf(h,u),u===-1&&(u=e.length);let C=e.substring(v,u);s.push({text:C,start:v,end:u}),d=!0}if(!d)if(p){let v=s[s.length-1];v.text+=e.substring(u),v.end=e.length}else s.push({text:e.substring(u),start:u,end:e.length});return new xy(s,o,a)}wrapLiteralPrimitive(e,n,r){let i=new fo(0,e==null?0:e.length);return new un(new ln(i,i.toAbsolute(r),e),e,typeof n=="string"?n:Ji(n),r,[])}_stripComments(e){let n=this._commentStart(e);return n!=null?{stripped:e.substring(0,n),hasComments:!0}:{stripped:e,hasComments:!1}}_commentStart(e){let n=null;for(let r=0;r<e.length-1;r++){let i=e.charCodeAt(r),s=e.charCodeAt(r+1);if(i===Gn&&s==Gn&&n==null)return r;n===i?n=null:n==null&&fu(i)&&(n=i)}return null}_checkNoInterpolation(e,n,r){let i=-1,s=-1;for(let o of this._forEachUnquotedChar(n,0))if(i===-1)n.startsWith("{{")&&(i=o);else if(s=this._getInterpolationEndIndex(n,"}}",o),s>-1)break;i>-1&&s>-1&&e.push(wa("Got interpolation ({{}}) where expression was expected",n,`at column ${i} in`,r))}_getInterpolationEndIndex(e,n,r){for(let i of this._forEachUnquotedChar(e,r)){if(e.startsWith(n,i))return i;if(e.startsWith("//",i))return e.indexOf(n,i)}return-1}*_forEachUnquotedChar(e,n){let r=null,i=0;for(let s=n;s<e.length;s++){let o=e[s];fu(e.charCodeAt(s))&&(r===null||r===o)&&i%2===0?r=r===null?o:null:r===null&&(yield s),i=o==="\\"?i+1:0}}},lu=(function(t){return t[t.None=0]="None",t[t.Writable=1]="Writable",t})(lu||{}),RT=new Set(["d","g","i","m","s","u","v","y"]),Ws=class{input;parseSourceSpan;absoluteOffset;tokens;parseFlags;errors;offset;supportsDirectPipeReferences;rparensExpected=0;rbracketsExpected=0;rbracesExpected=0;context=lu.None;sourceSpanCache=new Map;index=0;constructor(e,n,r,i,s,o,a,l){this.input=e,this.parseSourceSpan=n,this.absoluteOffset=r,this.tokens=i,this.parseFlags=s,this.errors=o,this.offset=a,this.supportsDirectPipeReferences=l}peek(e){let n=this.index+e;return n<this.tokens.length?this.tokens[n]:Xd}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,n){let r=this.currentEndIndex;if(n!==void 0&&n>this.currentEndIndex&&(r=n),e>r){let i=r;r=e,e=i}return new fo(e,r)}sourceSpan(e,n){let r=`${e}@${this.inputIndex}:${n}`;return this.sourceSpanCache.has(r)||this.sourceSpanCache.set(r,this.span(e,n).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(r)}advance(){this.index++}withContext(e,n){this.context|=e;let r=n();return this.context^=e,r}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}isAssignmentOperator(e){return e.type===j.Operator&&zt.isAssignmentOperation(e.strValue)}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===Xd?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],n=this.inputIndex;for(;this.index<this.tokens.length;){let r=this.parsePipe();if(e.push(r),this.consumeOptionalCharacter(Tn))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(Tn););else if(this.index<this.tokens.length){let i=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===i)break}}if(e.length===0){let r=this.offset,i=this.offset+this.input.length;return new Gt(this.span(r,i),this.sourceSpan(r,i))}return e.length==1?e[0]:new Na(this.span(n),this.sourceSpan(n),e)}parsePipe(){let e=this.inputIndex,n=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let r=this.inputIndex,i=this.expectIdentifierOrKeyword(),s,o;i!==null?s=this.sourceSpan(r):(i="",o=this.next.index!==-1?this.next.index:this.input.length+this.offset,s=new fo(o,o).toAbsolute(this.absoluteOffset));let a=[];for(;this.consumeOptionalCharacter(Br);)a.push(this.parseExpression());let l;if(this.supportsDirectPipeReferences){let u=i.charCodeAt(0);l=u===cs||u>=us&&u<=ja?lf.ReferencedDirectly:lf.ReferencedByName}else l=lf.ReferencedByName;n=new xf(this.span(e),this.sourceSpan(e,o),n,i,a,l,s)}while(this.consumeOptionalOperator("|"))}return n}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,n=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let r=this.parsePipe(),i;if(this.consumeOptionalCharacter(Br))i=this.parsePipe();else{let s=this.inputIndex,o=this.input.substring(e,s);this.error(`Conditional expression ${o} requires all 3 expressions`),i=new Gt(this.span(e),this.sourceSpan(e))}return new Af(this.span(e),this.sourceSpan(e),n,r,i)}else return n}parseLogicalOr(){let e=this.inputIndex,n=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let r=this.parseLogicalAnd();n=new zt(this.span(e),this.sourceSpan(e),"||",n,r)}return n}parseLogicalAnd(){let e=this.inputIndex,n=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let r=this.parseNullishCoalescing();n=new zt(this.span(e),this.sourceSpan(e),"&&",n,r)}return n}parseNullishCoalescing(){let e=this.inputIndex,n=this.parseEquality();for(;this.consumeOptionalOperator("??");){let r=this.parseEquality();n=new zt(this.span(e),this.sourceSpan(e),"??",n,r)}return n}parseEquality(){let e=this.inputIndex,n=this.parseRelational();for(;this.next.type==j.Operator;){let r=this.next.strValue;switch(r){case"==":case"===":case"!=":case"!==":this.advance();let i=this.parseRelational();n=new zt(this.span(e),this.sourceSpan(e),r,n,i);continue}break}return n}parseRelational(){let e=this.inputIndex,n=this.parseAdditive();for(;this.next.type==j.Operator||this.next.isKeywordIn;){let r=this.next.strValue;switch(r){case"<":case">":case"<=":case">=":case"in":this.advance();let i=this.parseAdditive();n=new zt(this.span(e),this.sourceSpan(e),r,n,i);continue}break}return n}parseAdditive(){let e=this.inputIndex,n=this.parseMultiplicative();for(;this.next.type==j.Operator;){let r=this.next.strValue;switch(r){case"+":case"-":this.advance();let i=this.parseMultiplicative();n=new zt(this.span(e),this.sourceSpan(e),r,n,i);continue}break}return n}parseMultiplicative(){let e=this.inputIndex,n=this.parseExponentiation();for(;this.next.type==j.Operator;){let r=this.next.strValue;switch(r){case"*":case"%":case"/":this.advance();let i=this.parseExponentiation();n=new zt(this.span(e),this.sourceSpan(e),r,n,i);continue}break}return n}parseExponentiation(){let e=this.inputIndex,n=this.parsePrefix();for(;this.next.type==j.Operator&&this.next.strValue==="**";){(n instanceof Sa||n instanceof Au||n instanceof xu||n instanceof bu)&&this.error("Unary operator used immediately before exponentiation expression. Parenthesis must be used to disambiguate operator precedence"),this.advance();let r=this.parseExponentiation();n=new zt(this.span(e),this.sourceSpan(e),"**",n,r)}return n}parsePrefix(){if(this.next.type==j.Operator){let e=this.inputIndex,n=this.next.strValue,r;switch(n){case"+":return this.advance(),r=this.parsePrefix(),Sa.createPlus(this.span(e),this.sourceSpan(e),r);case"-":return this.advance(),r=this.parsePrefix(),Sa.createMinus(this.span(e),this.sourceSpan(e),r);case"!":return this.advance(),r=this.parsePrefix(),new Au(this.span(e),this.sourceSpan(e),r)}}else if(this.next.isKeywordTypeof()){let e=this.inputIndex;this.advance();let n=this.parsePrefix();return new xu(this.span(e),this.sourceSpan(e),n)}else if(this.next.isKeywordVoid()){let e=this.inputIndex;this.advance();let n=this.parsePrefix();return new bu(this.span(e),this.sourceSpan(e),n)}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,n=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(ou))n=this.parseAccessMember(n,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(xn)?n=this.parseCall(n,e,!0):n=this.consumeOptionalCharacter(Ur)?this.parseKeyedReadOrWrite(n,e,!0):this.parseAccessMember(n,e,!0);else if(this.consumeOptionalCharacter(Ur))n=this.parseKeyedReadOrWrite(n,e,!1);else if(this.consumeOptionalCharacter(xn))n=this.parseCall(n,e,!1);else if(this.consumeOptionalOperator("!"))n=new Nu(this.span(e),this.sourceSpan(e),n);else if(this.next.isTemplateLiteralEnd())n=this.parseNoInterpolationTaggedTemplateLiteral(n,e);else if(this.next.isTemplateLiteralPart())n=this.parseTaggedTemplateLiteral(n,e);else return n}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(xn)){this.rparensExpected++;let n=this.parsePipe();return this.consumeOptionalCharacter(Dt)||(this.error("Missing closing parentheses"),this.consumeOptionalCharacter(Dt)),this.rparensExpected--,new ku(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isKeywordNull())return this.advance(),new ln(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new ln(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new ln(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new ln(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordIn())return this.advance(),new ln(this.span(e),this.sourceSpan(e),"in");if(this.next.isKeywordThis())return this.advance(),new Su(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(Ur)){this.rbracketsExpected++;let n=this.parseExpressionList(vi);return this.rbracketsExpected--,this.expectCharacter(vi),new Iu(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isCharacter(dr))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new zr(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let n=this.next.toNumber();return this.advance(),new ln(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isTemplateLiteralEnd())return this.parseNoInterpolationTemplateLiteral();if(this.next.isTemplateLiteralPart())return this.parseTemplateLiteral();if(this.next.isString()&&this.next.kind===io.Plain){let n=this.next.toString();return this.advance(),new ln(this.span(e),this.sourceSpan(e),n)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new Gt(this.span(e),this.sourceSpan(e))):this.next.isRegExpBody()?this.parseRegularExpressionLiteral():this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new Gt(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new Gt(this.span(e),this.sourceSpan(e)))}}}}parseExpressionList(e){let n=[];do if(!this.next.isCharacter(e))n.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(cn));return n}parseLiteralMap(){let e=[],n=[],r=this.inputIndex;if(this.expectCharacter(dr),!this.consumeOptionalCharacter(jt)){this.rbracesExpected++;do{let i=this.inputIndex,s=this.next.isString(),o=this.expectIdentifierOrKeywordOrString(),a=this.span(i),l=this.sourceSpan(i),u={key:o,quoted:s,span:a,sourceSpan:l};e.push(u),s?(this.expectCharacter(Br),n.push(this.parsePipe())):this.consumeOptionalCharacter(Br)?n.push(this.parsePipe()):(u.isShorthandInitialized=!0,n.push(new Vr(a,l,l,new zr(a,l),o)))}while(this.consumeOptionalCharacter(cn)&&!this.next.isCharacter(jt));this.rbracesExpected--,this.expectCharacter(jt)}return new ho(this.span(r),this.sourceSpan(r),e,n)}parseAccessMember(e,n,r){let i=this.inputIndex,s=this.withContext(lu.Writable,()=>{let a=this.expectIdentifierOrKeyword()??"";return a.length===0&&this.error("Expected identifier for property access",e.span.end),a}),o=this.sourceSpan(i);if(r)return this.isAssignmentOperator(this.next)?(this.advance(),this.error("The '?.' operator cannot be used in the assignment"),new Gt(this.span(n),this.sourceSpan(n))):new Tu(this.span(n),this.sourceSpan(n),o,e,s);if(this.isAssignmentOperator(this.next)){let a=this.next.strValue;if(!(this.parseFlags&1))return this.advance(),this.error("Bindings cannot contain assignments"),new Gt(this.span(n),this.sourceSpan(n));let l=new Vr(this.span(n),this.sourceSpan(n),o,e,s);this.advance();let u=this.parseConditional();return new zt(this.span(n),this.sourceSpan(n),a,l,u)}else return new Vr(this.span(n),this.sourceSpan(n),o,e,s)}parseCall(e,n,r){let i=this.inputIndex;this.rparensExpected++;let s=this.parseCallArguments(),o=this.span(i,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(Dt),this.rparensExpected--;let a=this.span(n),l=this.sourceSpan(n);return r?new bf(a,l,e,s,o):new Ma(a,l,e,s,o)}parseCallArguments(){if(this.next.isCharacter(Dt))return[];let e=[];do e.push(this.parsePipe());while(this.consumeOptionalCharacter(cn));return e}expectTemplateBindingKey(){let e="",n=!1,r=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),n=this.consumeOptionalOperator("-"),n&&(e+="-");while(n);return{source:e,span:new An(r,r+e.length)}}parseTemplateBindings(e){let n=[];for(n.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let r=this.parseLetBinding();if(r)n.push(r);else{let i=this.expectTemplateBindingKey(),s=this.parseAsBinding(i);s?n.push(s):(i.source=e.source+i.source.charAt(0).toUpperCase()+i.source.substring(1),n.push(...this.parseDirectiveKeywordBindings(i)))}this.consumeStatementTerminator()}return new by(n,[],this.errors)}parseKeyedReadOrWrite(e,n,r){return this.withContext(lu.Writable,()=>{this.rbracketsExpected++;let i=this.parsePipe();if(i instanceof Gt&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(vi),this.isAssignmentOperator(this.next)){let s=this.next.strValue;if(r)this.advance(),this.error("The '?.' operator cannot be used in the assignment");else{let o=new po(this.span(n),this.sourceSpan(n),e,i);this.advance();let a=this.parseConditional();return new zt(this.span(n),this.sourceSpan(n),s,o,a)}}else return r?new Du(this.span(n),this.sourceSpan(n),e,i):new po(this.span(n),this.sourceSpan(n),e,i);return new Gt(this.span(n),this.sourceSpan(n))})}parseDirectiveKeywordBindings(e){let n=[];this.consumeOptionalCharacter(Br);let r=this.getDirectiveBoundTarget(),i=this.currentAbsoluteOffset,s=this.parseAsBinding(e);s||(this.consumeStatementTerminator(),i=this.currentAbsoluteOffset);let o=new An(e.span.start,i);return n.push(new Gv(o,e,r)),s&&n.push(s),n}getDirectiveBoundTarget(){if(this.next===Xd||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:n,end:r}=e.span,i=this.input.substring(n,r);return new un(e,i,Ji(this.parseSourceSpan),this.absoluteOffset+n,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let n=this.expectTemplateBindingKey();this.consumeStatementTerminator();let r=new An(e.span.start,this.currentAbsoluteOffset);return new Pu(r,n,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let n=this.expectTemplateBindingKey(),r=null;this.consumeOptionalOperator("=")&&(r=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let i=new An(e,this.currentAbsoluteOffset);return new Pu(i,n,r)}parseNoInterpolationTaggedTemplateLiteral(e,n){let r=this.parseNoInterpolationTemplateLiteral();return new Mu(this.span(n),this.sourceSpan(n),e,r)}parseNoInterpolationTemplateLiteral(){let e=this.next.strValue,n=this.inputIndex;this.advance();let r=this.span(n),i=this.sourceSpan(n);return new Ru(r,i,[new Nf(r,i,e)],[])}parseTaggedTemplateLiteral(e,n){let r=this.parseTemplateLiteral();return new Mu(this.span(n),this.sourceSpan(n),e,r)}parseTemplateLiteral(){let e=[],n=[],r=this.inputIndex;for(;this.next!==Xd;){let i=this.next;if(i.isTemplateLiteralPart()||i.isTemplateLiteralEnd()){let s=this.inputIndex;if(this.advance(),e.push(new Nf(this.span(s),this.sourceSpan(s),i.strValue)),i.isTemplateLiteralEnd())break}else if(i.isTemplateLiteralInterpolationStart()){this.advance(),this.rbracesExpected++;let s=this.parsePipe();s instanceof Gt?this.error("Template literal interpolation cannot be empty"):n.push(s),this.rbracesExpected--}else this.advance()}return new Ru(this.span(r),this.sourceSpan(r),e,n)}parseRegularExpressionLiteral(){let e=this.next;if(this.advance(),!e.isRegExpBody())return new Gt(this.span(this.inputIndex),this.sourceSpan(this.inputIndex));let n=null;if(this.next.isRegExpFlags()){n=this.next,this.advance();let s=new Set;for(let o=0;o<n.strValue.length;o++){let a=n.strValue[o];RT.has(a)?s.has(a)?this.error(`Duplicate regular expression flag "${a}"`,n.index+o):s.add(a):this.error(`Unsupported regular expression flag "${a}". The supported flags are: `+Array.from(RT,l=>`"${l}"`).join(", "),n.index+o)}}let r=e.index,i=n?n.end:e.end;return new Mf(this.span(r,i),this.sourceSpan(r,i),e.strValue,n?n.strValue:null)}consumeStatementTerminator(){this.consumeOptionalCharacter(Tn)||this.consumeOptionalCharacter(cn)}error(e,n=this.index){this.errors.push(wa(e,this.input,this.getErrorLocationText(n),this.parseSourceSpan)),this.skip()}getErrorLocationText(e){return e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,n){let r=`Private identifiers are not supported. Unexpected private identifier: ${e}`;n!==null&&(r+=`, ${n}`),this.error(r)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(Tn)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(Dt))&&(this.rbracesExpected<=0||!e.isCharacter(jt))&&(this.rbracketsExpected<=0||!e.isCharacter(vi))&&(!(this.context&lu.Writable)||!this.isAssignmentOperator(e));)this.next.isError()&&this.errors.push(wa(this.next.toString(),this.input,this.getErrorLocationText(this.next.index),this.parseSourceSpan)),this.advance(),e=this.next}};function wa(t,e,n,r){n.length>0&&(n=` ${n} `);let i=Ji(r),s=`Parser Error: ${t}${n}[${e}] in ${i}`;return new z(r,s)}var Ny=class extends Ra{errors=[];visitPipe(){this.errors.push("pipes")}};function kF(t){let e=new Map,n=0,r=0,i=0;for(;i<t.length;){let s=t[i];if(s.type===9){let[o,a]=s.parts;n+=a.length,r+=o.length}else{let o=s.parts.reduce((a,l)=>a+l.length,0);r+=o,n+=o}e.set(r,n),i++}return e}function PF(t){return t.visit(new My)}var My=class{visitUnary(e,n){return`${e.operator}${e.expr.visit(this,n)}`}visitBinary(e,n){return`${e.left.visit(this,n)} ${e.operation} ${e.right.visit(this,n)}`}visitChain(e,n){return e.expressions.map(r=>r.visit(this,n)).join("; ")}visitConditional(e,n){return`${e.condition.visit(this,n)} ? ${e.trueExp.visit(this,n)} : ${e.falseExp.visit(this,n)}`}visitThisReceiver(){return"this"}visitImplicitReceiver(){return""}visitInterpolation(e,n){return FF(e.strings,e.expressions.map(r=>r.visit(this,n))).join("")}visitKeyedRead(e,n){return`${e.receiver.visit(this,n)}[${e.key.visit(this,n)}]`}visitLiteralArray(e,n){return`[${e.expressions.map(r=>r.visit(this,n)).join(", ")}]`}visitLiteralMap(e,n){return`{${LF(e.keys.map(r=>r.quoted?`'${r.key}'`:r.key),e.values.map(r=>r.visit(this,n))).map(([r,i])=>`${r}: ${i}`).join(", ")}}`}visitLiteralPrimitive(e){if(e.value===null)return"null";switch(typeof e.value){case"number":case"boolean":return e.value.toString();case"undefined":return"undefined";case"string":return`'${e.value.replace(/'/g,"\\'")}'`;default:throw new Error(`Unsupported primitive type: ${e.value}`)}}visitPipe(e,n){return`${e.exp.visit(this,n)} | ${e.name}`}visitPrefixNot(e,n){return`!${e.expression.visit(this,n)}`}visitNonNullAssert(e,n){return`${e.expression.visit(this,n)}!`}visitPropertyRead(e,n){return e.receiver instanceof zr||e.receiver instanceof Su?e.name:`${e.receiver.visit(this,n)}.${e.name}`}visitSafePropertyRead(e,n){return`${e.receiver.visit(this,n)}?.${e.name}`}visitSafeKeyedRead(e,n){return`${e.receiver.visit(this,n)}?.[${e.key.visit(this,n)}]`}visitCall(e,n){return`${e.receiver.visit(this,n)}(${e.args.map(r=>r.visit(this,n)).join(", ")})`}visitSafeCall(e,n){return`${e.receiver.visit(this,n)}?.(${e.args.map(r=>r.visit(this,n)).join(", ")})`}visitTypeofExpression(e,n){return`typeof ${e.expression.visit(this,n)}`}visitVoidExpression(e,n){return`void ${e.expression.visit(this,n)}`}visitRegularExpressionLiteral(e,n){return`/${e.body}/${e.flags||""}`}visitASTWithSource(e,n){return e.ast.visit(this,n)}visitTemplateLiteral(e,n){let r="";for(let i=0;i<e.elements.length;i++){r+=e.elements[i].visit(this,n);let s=i<e.expressions.length?e.expressions[i]:null;s!==null&&(r+="${"+s.visit(this,n)+"}")}return"`"+r+"`"}visitTemplateLiteralElement(e,n){return e.text}visitTaggedTemplateLiteral(e,n){return e.tag.visit(this,n)+e.template.visit(this,n)}visitParenthesizedExpression(e,n){return"("+e.expression.visit(this,n)+")"}};function LF(t,e){if(t.length!==e.length)throw new Error("Array lengths must match");return t.map((n,r)=>[n,e[r]])}function FF(t,e){let n=[];for(let r=0;r<Math.max(t.length,e.length);r++)r<t.length&&n.push(t[r]),r<e.length&&n.push(e[r]);return n}var df;function kT(){return df||(df={},nu(xe.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),nu(xe.STYLE,["*|style"]),nu(xe.URL,["*|formAction","area|href","a|href","a|xlink:href","form|action","annotation|href","annotation|xlink:href","annotation-xml|href","annotation-xml|xlink:href","maction|href","maction|xlink:href","malignmark|href","malignmark|xlink:href","math|href","math|xlink:href","mroot|href","mroot|xlink:href","msqrt|href","msqrt|xlink:href","merror|href","merror|xlink:href","mfrac|href","mfrac|xlink:href","mglyph|href","mglyph|xlink:href","msub|href","msub|xlink:href","msup|href","msup|xlink:href","msubsup|href","msubsup|xlink:href","mmultiscripts|href","mmultiscripts|xlink:href","mprescripts|href","mprescripts|xlink:href","mi|href","mi|xlink:href","mn|href","mn|xlink:href","mo|href","mo|xlink:href","mpadded|href","mpadded|xlink:href","mphantom|href","mphantom|xlink:href","mrow|href","mrow|xlink:href","ms|href","ms|xlink:href","mspace|href","mspace|xlink:href","mstyle|href","mstyle|xlink:href","mtable|href","mtable|xlink:href","mtd|href","mtd|xlink:href","mtr|href","mtr|xlink:href","mtext|href","mtext|xlink:href","mover|href","mover|xlink:href","munder|href","munder|xlink:href","munderover|href","munderover|xlink:href","semantics|href","semantics|xlink:href","none|href","none|xlink:href","img|src","video|src"]),nu(xe.RESOURCE_URL,["base|href","embed|src","frame|src","iframe|src","link|href","object|codebase","object|data","script|src","script|href","script|xlink:href"]),nu(xe.ATTRIBUTE_NO_BINDING,["animate|attributeName","set|attributeName","animateMotion|attributeName","animateTransform|attributeName","unknown|attributeName","iframe|sandbox","iframe|allow","iframe|allowFullscreen","iframe|referrerPolicy","iframe|csp","iframe|fetchPriority","unknown|sandbox","unknown|allow","unknown|allowFullscreen","unknown|referrerPolicy","unknown|csp","unknown|fetchPriority"])),df}function nu(t,e){for(let n of e)df[n.toLowerCase()]=t}var Ry=class{},OF="boolean",BF="number",VF="string",UF="object",$F=["[Element]|textContent,%ariaActiveDescendantElement,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColIndexText,%ariaColSpan,%ariaControlsElements,%ariaCurrent,%ariaDescribedByElements,%ariaDescription,%ariaDetailsElements,%ariaDisabled,%ariaErrorMessageElements,%ariaExpanded,%ariaFlowToElements,%ariaHasPopup,%ariaHidden,%ariaInvalid,%ariaKeyShortcuts,%ariaLabel,%ariaLabelledByElements,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaOwnsElements,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowIndexText,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,!inert,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,search,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","selectedcontent^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","search^[HTMLELement]|","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|",":math:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforeinput,*beforematch,*beforetoggle,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contentvisibilityautostatechange,*contextlost,*contextmenu,*contextrestored,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*scrollend,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":math:math^:math:|",":math:maction^:math:|",":math:menclose^:math:|",":math:merror^:math:|",":math:mfenced^:math:|",":math:mfrac^:math:|",":math:mi^:math:|",":math:mmultiscripts^:math:|",":math:mn^:math:|",":math:mo^:math:|",":math:mover^:math:|",":math:mpadded^:math:|",":math:mphantom^:math:|",":math:mroot^:math:|",":math:mrow^:math:|",":math:ms^:math:|",":math:mspace^:math:|",":math:msqrt^:math:|",":math:mstyle^:math:|",":math:msub^:math:|",":math:msubsup^:math:|",":math:msup^:math:|",":math:mtable^:math:|",":math:mtd^:math:|",":math:mtext^:math:|",":math:mtr^:math:|",":math:munder^:math:|",":math:munderover^:math:|",":math:semantics^:math:|"],_I=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex","aria-activedescendant":"ariaActiveDescendantElement","aria-atomic":"ariaAtomic","aria-autocomplete":"ariaAutoComplete","aria-busy":"ariaBusy","aria-checked":"ariaChecked","aria-colcount":"ariaColCount","aria-colindex":"ariaColIndex","aria-colindextext":"ariaColIndexText","aria-colspan":"ariaColSpan","aria-controls":"ariaControlsElements","aria-current":"ariaCurrent","aria-describedby":"ariaDescribedByElements","aria-description":"ariaDescription","aria-details":"ariaDetailsElements","aria-disabled":"ariaDisabled","aria-errormessage":"ariaErrorMessageElements","aria-expanded":"ariaExpanded","aria-flowto":"ariaFlowToElements","aria-haspopup":"ariaHasPopup","aria-hidden":"ariaHidden","aria-invalid":"ariaInvalid","aria-keyshortcuts":"ariaKeyShortcuts","aria-label":"ariaLabel","aria-labelledby":"ariaLabelledByElements","aria-level":"ariaLevel","aria-live":"ariaLive","aria-modal":"ariaModal","aria-multiline":"ariaMultiLine","aria-multiselectable":"ariaMultiSelectable","aria-orientation":"ariaOrientation","aria-owns":"ariaOwnsElements","aria-placeholder":"ariaPlaceholder","aria-posinset":"ariaPosInSet","aria-pressed":"ariaPressed","aria-readonly":"ariaReadOnly","aria-required":"ariaRequired","aria-roledescription":"ariaRoleDescription","aria-rowcount":"ariaRowCount","aria-rowindex":"ariaRowIndex","aria-rowindextext":"ariaRowIndexText","aria-rowspan":"ariaRowSpan","aria-selected":"ariaSelected","aria-setsize":"ariaSetSize","aria-sort":"ariaSort","aria-valuemax":"ariaValueMax","aria-valuemin":"ariaValueMin","aria-valuenow":"ariaValueNow","aria-valuetext":"ariaValueText"})),HF=Array.from(_I).reduce((t,[e,n])=>(t.set(e,n),t),new Map),Ga=class extends Ry{_schema=new Map;_eventSchema=new Map;constructor(){super(),$F.forEach(e=>{let n=new Map,r=new Set,[i,s]=e.split("|"),o=s.split(","),[a,l]=i.split("^");a.split(",").forEach(d=>{this._schema.set(d.toLowerCase(),n),this._eventSchema.set(d.toLowerCase(),r)});let u=l&&this._schema.get(l.toLowerCase());if(u){for(let[d,p]of u)n.set(d,p);for(let d of this._eventSchema.get(l.toLowerCase()))r.add(d)}o.forEach(d=>{if(d.length>0)switch(d[0]){case"*":r.add(d.substring(1));break;case"!":n.set(d.substring(1),OF);break;case"#":n.set(d.substring(1),BF);break;case"%":n.set(d.substring(1),UF);break;default:n.set(d,VF)}})})}hasProperty(e,n,r){if(r.some(s=>s.name===k0.name))return!0;if(e.indexOf("-")>-1){if(j0(e)||jv(e))return!1;if(r.some(s=>s.name===R0.name))return!0}return(this._schema.get(e.toLowerCase())||this._schema.get("unknown")).has(n)}hasElement(e,n){return n.some(r=>r.name===k0.name)||e.indexOf("-")>-1&&(j0(e)||jv(e)||n.some(r=>r.name===R0.name))?!0:this._schema.has(e.toLowerCase())}securityContext(e,n,r){r&&(n=this.getMappedPropName(n)),e=e.toLowerCase(),n=n.toLowerCase();let i=kT()[e+"|"+n];return i||(i=kT()["*|"+n],i||xe.NONE)}getMappedPropName(e){return _I.get(e)??e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...
If '${e}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(e){let n=this._schema.get(e.toLowerCase())||this._schema.get("unknown");return Array.from(n.keys()).map(r=>HF.get(r)??r)}allKnownEventsOfElement(e){return Array.from(this._eventSchema.get(e.toLowerCase())??[])}normalizeAnimationStyleProperty(e){return BP(e)}normalizeAnimationStyleValue(e,n,r){let i="",s=r.toString().trim(),o=null;if(qF(e)&&r!==0&&r!=="0")if(typeof r=="number")i="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&(o=`Please provide a CSS unit value for ${n}:${r}`)}return{error:o,value:s+i}}};function qF(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var ae=class{closedByChildren={};contentType;closedByParent=!1;implicitNamespacePrefix;isVoid;ignoreFirstLf;canSelfClose;preventNamespaceInheritance;constructor({closedByChildren:e,implicitNamespacePrefix:n,contentType:r=Or.PARSABLE_DATA,closedByParent:i=!1,isVoid:s=!1,ignoreFirstLf:o=!1,preventNamespaceInheritance:a=!1,canSelfClose:l=!1}={}){e&&e.length>0&&e.forEach(u=>this.closedByChildren[u]=!0),this.isVoid=s,this.closedByParent=i||s,this.implicitNamespacePrefix=n||null,this.contentType=r,this.ignoreFirstLf=o,this.preventNamespaceInheritance=a,this.canSelfClose=l??s}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){return typeof this.contentType=="object"?(e===void 0?void 0:this.contentType[e])??this.contentType.default:this.contentType}},PT,ha;function ky(t){return ha||(PT=new ae({canSelfClose:!0}),ha=Object.assign(Object.create(null),{base:new ae({isVoid:!0}),meta:new ae({isVoid:!0}),area:new ae({isVoid:!0}),embed:new ae({isVoid:!0}),link:new ae({isVoid:!0}),img:new ae({isVoid:!0}),input:new ae({isVoid:!0}),param:new ae({isVoid:!0}),hr:new ae({isVoid:!0}),br:new ae({isVoid:!0}),source:new ae({isVoid:!0}),track:new ae({isVoid:!0}),wbr:new ae({isVoid:!0}),p:new ae({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new ae({closedByChildren:["tbody","tfoot"]}),tbody:new ae({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new ae({closedByChildren:["tbody"],closedByParent:!0}),tr:new ae({closedByChildren:["tr"],closedByParent:!0}),td:new ae({closedByChildren:["td","th"],closedByParent:!0}),th:new ae({closedByChildren:["td","th"],closedByParent:!0}),col:new ae({isVoid:!0}),svg:new ae({implicitNamespacePrefix:"svg"}),foreignObject:new ae({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new ae({implicitNamespacePrefix:"math"}),li:new ae({closedByChildren:["li"],closedByParent:!0}),dt:new ae({closedByChildren:["dt","dd"]}),dd:new ae({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new ae({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new ae({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new ae({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new ae({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new ae({closedByChildren:["optgroup"],closedByParent:!0}),option:new ae({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new ae({ignoreFirstLf:!0}),listing:new ae({ignoreFirstLf:!0}),style:new ae({contentType:Or.RAW_TEXT}),script:new ae({contentType:Or.RAW_TEXT}),title:new ae({contentType:{default:Or.ESCAPABLE_RAW_TEXT,svg:Or.PARSABLE_DATA}}),textarea:new ae({contentType:Or.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),new Ga().allKnownElementNames().forEach(e=>{!ha[e]&&Wv(e)===null&&(ha[e]=new ae({canSelfClose:!1}))})),ha[t]??ha[t.toLowerCase()]??PT}var LT={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},Py=class{_placeHolderNameCounts={};_signatureToName={};getStartTagPlaceholderName(e,n,r){let i=this._hashTag(e,n,r);if(this._signatureToName[i])return this._signatureToName[i];let s=e.toUpperCase(),o=LT[s]||`TAG_${s}`,a=this._generateUniqueName(r?o:`START_${o}`);return this._signatureToName[i]=a,a}getCloseTagPlaceholderName(e){let n=this._hashClosingTag(e);if(this._signatureToName[n])return this._signatureToName[n];let r=e.toUpperCase(),i=LT[r]||`TAG_${r}`,s=this._generateUniqueName(`CLOSE_${i}`);return this._signatureToName[n]=s,s}getPlaceholderName(e,n){let r=e.toUpperCase(),i=`PH: ${r}=${n}`;if(this._signatureToName[i])return this._signatureToName[i];let s=this._generateUniqueName(r);return this._signatureToName[i]=s,s}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}getStartBlockPlaceholderName(e,n){let r=this._hashBlock(e,n);if(this._signatureToName[r])return this._signatureToName[r];let i=this._generateUniqueName(`START_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[r]=i,i}getCloseBlockPlaceholderName(e){let n=this._hashClosingBlock(e);if(this._signatureToName[n])return this._signatureToName[n];let r=this._generateUniqueName(`CLOSE_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[n]=r,r}_hashTag(e,n,r){let i=`<${e}`,s=Object.keys(n).sort().map(a=>` ${a}=${n[a]}`).join(""),o=r?"/>":`></${e}>`;return i+s+o}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_hashBlock(e,n){let r=n.length===0?"":` (${n.sort().join("; ")})`;return`@${e}${r} {}`}_hashClosingBlock(e){return this._hashBlock(`close_${e}`,[])}_toSnakeCase(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"_")}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;let r=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=r+1,`${e}_${r}`}},GF=new up(new ac);function zF(t,e){let n=new Ly(GF,t,e);return(r,i,s,o,a)=>n.toI18nMessage(r,i,s,o,a)}function jF(t,e){return e}var Ly=class{_expressionParser;_retainEmptyTokens;_preserveExpressionWhitespace;constructor(e,n,r){this._expressionParser=e,this._retainEmptyTokens=n,this._preserveExpressionWhitespace=r}toI18nMessage(e,n="",r="",i="",s){let o={isIcu:e.length==1&&e[0]instanceof ro,icuDepth:0,placeholderRegistry:new Py,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:s||jF},a=Oe(this,e,o);return new Jt(a,o.placeholderToContent,o.placeholderToMessage,n,r,i)}visitElement(e,n){return this._visitElementLike(e,n)}visitComponent(e,n){return this._visitElementLike(e,n)}visitDirective(e,n){throw new Error("Unreachable code")}visitAttribute(e,n){let r=e.valueTokens===void 0||e.valueTokens.length===1?new Ql(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,r)}visitText(e,n){let r=e.tokens.length===1?new Ql(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,r)}visitComment(e,n){return null}visitExpansion(e,n){n.icuDepth++;let r={},i=new Uf(e.switchValue,e.type,r,e.sourceSpan);if(e.cases.forEach(a=>{r[a.value]=new Ei(a.expression.map(l=>l.visit(this,n)),a.expSourceSpan)}),n.icuDepth--,n.isIcu||n.icuDepth>0){let a=n.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return i.expressionPlaceholder=a,n.placeholderToContent[a]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},n.visitNodeFn(e,i)}let s=n.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());n.placeholderToMessage[s]=this.toI18nMessage([e],"","","",void 0);let o=new Oa(i,s,e.sourceSpan);return n.visitNodeFn(e,o)}visitExpansionCase(e,n){throw new Error("Unreachable code")}visitBlock(e,n){let r=Oe(this,e.children,n);if(e.name==="switch")return new Ei(r,e.sourceSpan);let i=e.parameters.map(l=>l.expression),s=n.placeholderRegistry.getStartBlockPlaceholderName(e.name,i),o=n.placeholderRegistry.getCloseBlockPlaceholderName(e.name);n.placeholderToContent[s]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan},n.placeholderToContent[o]={text:e.endSourceSpan?e.endSourceSpan.toString():"}",sourceSpan:e.endSourceSpan??e.sourceSpan};let a=new rs(e.name,i,s,o,r,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,a)}visitBlockParameter(e,n){throw new Error("Unreachable code")}visitLetDeclaration(e,n){return null}_visitElementLike(e,n){let r=Oe(this,e.children,n),i={},s=p=>{i[p.name]=p.value},o,a;e instanceof qn?(o=e.name,a=ky(e.name).isVoid):(o=e.fullName,a=e.tagName?ky(e.tagName).isVoid:!1),e.attrs.forEach(s),e.directives.forEach(p=>p.attrs.forEach(s));let l=n.placeholderRegistry.getStartTagPlaceholderName(o,i,a);n.placeholderToContent[l]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let u="";a||(u=n.placeholderRegistry.getCloseTagPlaceholderName(o),n.placeholderToContent[u]={text:`</${o}>`,sourceSpan:e.endSourceSpan??e.sourceSpan});let d=new ns(o,i,l,u,r,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,d)}_visitTextWithInterpolation(e,n,r,i){let s=[],o=!1;for(let a of e)switch(a.type){case 8:case 17:o=!0;let[l,u,d]=a.parts,p=QF(u)||"INTERPOLATION",h=r.placeholderRegistry.getPlaceholderName(p,u);if(this._preserveExpressionWhitespace)r.placeholderToContent[h]={text:a.parts.join(""),sourceSpan:a.sourceSpan},s.push(new qu(u,h,a.sourceSpan));else{let m=this.normalizeExpression(a);r.placeholderToContent[h]={text:`${l}${m}${d}`,sourceSpan:a.sourceSpan},s.push(new qu(m,h,a.sourceSpan))}break;default:if(a.parts[0].length>0||this._retainEmptyTokens){let m=s[s.length-1];m instanceof Ql?(m.value+=a.parts[0],m.sourceSpan=new X(m.sourceSpan.start,a.sourceSpan.end,m.sourceSpan.fullStart,m.sourceSpan.details)):s.push(new Ql(a.parts[0],a.sourceSpan))}else this._retainEmptyTokens&&s.push(new Ql(a.parts[0],a.sourceSpan));break}return o?(WF(s,i),new Ei(s,n)):s[0]}normalizeExpression(e){let n=e.parts[1],r=this._expressionParser.parseBinding(n,e.sourceSpan,e.sourceSpan.start.offset);return PF(r)}};function WF(t,e){if(e instanceof Jt&&(YF(e),e=e.nodes[0]),e instanceof Ei){JF(e.children,t);for(let n=0;n<t.length;n++)t[n].sourceSpan=e.children[n].sourceSpan}}function YF(t){let e=t.nodes;if(e.length!==1||!(e[0]instanceof Ei))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}function JF(t,e){if(t.length!==e.length)throw new Error(`
The number of i18n message children changed between first and second pass.

First pass (${t.length} tokens):
${t.map(n=>`"${n.sourceSpan.toString()}"`).join(`
`)}

Second pass (${e.length} tokens):
${e.map(n=>`"${n.sourceSpan.toString()}"`).join(`
`)}
    `.trim());if(t.some((n,r)=>e[r].constructor!==n.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}var XF=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function QF(t){return t.split(XF)[2]}var FT=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function OT(t,e){return t=t.toLowerCase(),e=e.toLowerCase(),FT.has(t+"|"+e)||FT.has("*|"+e)}var KF=t=>(e,n)=>{let r=t.get(e)??e;return r instanceof _i&&(n instanceof Oa&&r.i18n instanceof Jt&&(n.previousMessage=r.i18n),r.i18n=n),n},cp=class{keepI18nAttrs;enableI18nLegacyMessageIdFormat;preserveSignificantWhitespace;retainEmptyTokens;hasI18nMeta=!1;_errors=[];constructor(e=!1,n=!1,r=!0,i=!r){this.keepI18nAttrs=e,this.enableI18nLegacyMessageIdFormat=n,this.preserveSignificantWhitespace=r,this.retainEmptyTokens=i}_generateI18nMessage(e,n="",r){let{meaning:i,description:s,customId:o}=this._parseMetadata(n),l=zF(this.retainEmptyTokens,this.preserveSignificantWhitespace)(e,i,s,o,r);return this._setMessageId(l,n),this._setLegacyIds(l,n),l}visitAllWithErrors(e){let n=e.map(r=>r.visit(this,null));return new ap(n,this._errors)}visitElement(e){return this._visitElementLike(e),e}visitComponent(e,n){return this._visitElementLike(e),e}visitExpansion(e,n){let r,i=e.i18n;if(this.hasI18nMeta=!0,i instanceof Oa){let s=i.name;r=this._generateI18nMessage([e],i);let o=PD(r);o.name=s,n!==null&&(n.placeholderToMessage[s]=r)}else r=this._generateI18nMessage([e],n||i);return e.i18n=r,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}visitBlock(e,n){return Oe(this,e.children,n),e}visitBlockParameter(e,n){return e}visitLetDeclaration(e,n){return e}visitDirective(e,n){return e}_visitElementLike(e){let n;if(f1(e)){this.hasI18nMeta=!0;let r=[],i={};for(let s of e.attrs)if(s.name===RD){let o=e.i18n||s.value,a=new Map,l=this.preserveSignificantWhitespace?e.children:Pr(new lp(!1,a),e.children);n=this._generateI18nMessage(l,o,KF(a)),n.nodes.length===0&&(n=void 0),e.i18n=n}else if(s.name.startsWith(ty)){let o=s.name.slice(ty.length),a;e instanceof an?a=e.tagName===null?!1:OT(e.tagName,o):a=OT(e.name,o),a?this._reportError(s,`Translating attribute '${o}' is disallowed for security reasons.`):i[o]=s.value}else r.push(s);if(Object.keys(i).length)for(let s of r){let o=i[s.name];o!==void 0&&s.value&&(s.i18n=this._generateI18nMessage([s],s.i18n||o))}this.keepI18nAttrs||(e.attrs=r)}Oe(this,e.children,n)}_parseMetadata(e){return typeof e=="string"?tO(e):e instanceof Jt?e:{}}_setMessageId(e,n){e.id||(e.id=n instanceof Jt&&n.id||pP(e))}_setLegacyIds(e,n){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[fP(e),SD(e)];else if(typeof n!="string"){let r=n instanceof Jt?n:n instanceof Oa?n.previousMessage:void 0;e.legacyIds=r?r.legacyIds:[]}}_reportError(e,n){this._errors.push(new z(e.sourceSpan,n))}},ZF="|",eO="@@";function tO(t=""){let e,n,r;if(t=t.trim(),t){let i=t.indexOf(eO),s=t.indexOf(ZF),o;[o,e]=i>-1?[t.slice(0,i),t.slice(i+2)]:[t,""],[n,r]=s>-1?[o.slice(0,s),o.slice(s+1)]:["",o]}return{customId:e,meaning:n,description:r}}function nO(t){let e=[];return t.description?e.push({tagName:"desc",text:t.description}):e.push({tagName:"suppress",text:"{msgDescriptions}"}),t.meaning&&e.push({tagName:"meaning",text:t.meaning}),xP(e)}var rO="goog.getMsg";function iO(t,e,n,r){let i=oO(e),s=[T(i)];Object.keys(r).length&&(s.push(yy(pE(r,!0),!0)),s.push(yy({original_code:Xt(Object.keys(r).map(l=>({key:mc(l),quoted:!0,value:e.placeholders[l]?T(e.placeholders[l].sourceSpan.toString()):T(e.placeholderToMessage[l].nodes.map(u=>u.sourceSpan.toString()).join(""))})))})));let o=new rt(n.name,le(rO).callFn(s),In,yt.Final);o.addLeadingComment(nO(e));let a=new Vt(t.set(n));return[o,a]}var Fy=class{formatPh(e){return`{$${mc(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){return mI(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}},sO=new Fy;function oO(t){return t.nodes.map(e=>e.visit(sO,null)).join("")}function aO(t,e,n){let{messageParts:r,placeHolders:i}=lO(e),s=uO(e),o=i.map(u=>n[u.text]),a=MP(e,r,i,o,s),l=t.set(a);return[new Vt(l)]}var Oy=class{placeholderToMessage;pieces;constructor(e,n){this.placeholderToMessage=e,this.pieces=n}visitText(e){if(this.pieces[this.pieces.length-1]instanceof Ks)this.pieces[this.pieces.length-1].text+=e.value;else{let n=new X(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new Ks(e.value,n))}}visitContainer(e){e.children.forEach(n=>n.visit(this))}visitIcu(e){this.pieces.push(new Ks(mI(e),e.sourceSpan))}visitTagPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.isVoid||(e.children.forEach(n=>n.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitBlockPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.children.forEach(n=>n.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,n,r){return new _a(mc(e,!1),n,r)}};function lO(t){let e=[],n=new Oy(t.placeholderToMessage,e);return t.nodes.forEach(r=>r.visit(n)),cO(e)}function uO(t){let e=t.nodes[0],n=t.nodes[t.nodes.length-1];return new X(e.sourceSpan.fullStart,n.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)}function cO(t){let e=[],n=[];t[0]instanceof _a&&e.push(_v(t[0].sourceSpan.start));for(let r=0;r<t.length;r++){let i=t[r];i instanceof Ks?e.push(i):(n.push(i),t[r-1]instanceof _a&&e.push(_v(t[r-1].sourceSpan.end)))}return t[t.length-1]instanceof _a&&e.push(_v(t[t.length-1].sourceSpan.end)),{messageParts:e,placeHolders:n}}function _v(t){return new Ks("",new X(t,t))}var BT="ngI18nClosureMode",dO="i18n_",fO="I18N_EXP_",VT="\uFFFD",pO="MSG_";function UT(t){return`${pO}${t}`.toUpperCase()}function hO(t){return new rt(t.name,void 0,In,void 0,t.sourceSpan)}function mO(t){let e=t.relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_").toUpperCase()+"_",n=new Map,r=new Map,i=new Map,s=new Map;for(let l of t.units)for(let u of l.ops())if(u.kind===g.ExtractedAttribute&&u.i18nContext!==null){let d=n.get(u.i18nContext)??[];d.push(u),n.set(u.i18nContext,d)}else if(u.kind===g.I18nAttributes)r.set(u.target,u);else if(u.kind===g.I18nExpression&&u.usage===Wa.I18nAttribute){let d=i.get(u.target)??[];d.push(u),i.set(u.target,d)}else u.kind===g.I18nMessage&&s.set(u.xref,u);let o=new Map,a=new Map;for(let l of t.units)for(let u of l.create)if(u.kind===g.I18nMessage){if(u.messagePlaceholder===null){let{mainVar:d,statements:p}=SI(t,e,s,u);if(u.i18nBlock!==null){let h=t.addConst(d,p);a.set(u.i18nBlock,h)}else{t.constsInitializers.push(...p),o.set(u.i18nContext,d);let h=n.get(u.i18nContext);if(h!==void 0)for(let m of h)m.expression=d.clone()}}I.remove(u)}for(let l of t.units)for(let u of l.create)if(ls(u)){let d=r.get(u.xref);if(d===void 0)continue;let p=i.get(u.xref);if(p===void 0)throw new Error("AssertionError: Could not find any i18n expressions associated with an I18nAttributes instruction");let h=new Set;p=p.filter(v=>{let C=h.has(v.name);return h.add(v.name),!C});let m=p.flatMap(v=>{let C=o.get(v.context);if(C===void 0)throw new Error("AssertionError: Could not find i18n expression's value");return[T(v.name),C]});d.i18nAttributesConfig=t.addConst(new pr(m))}for(let l of t.units)for(let u of l.create)if(u.kind===g.I18nStart){let d=a.get(u.root);if(d===void 0)throw new Error("AssertionError: Could not find corresponding i18n block index for an i18n message op; was an i18n message incorrectly assumed to correspond to an attribute?");u.messageIndex=d}}function SI(t,e,n,r){let i=[],s=new Map;for(let u of r.subMessages){let d=n.get(u),{mainVar:p,statements:h}=SI(t,e,n,d);i.push(...h);let m=s.get(d.messagePlaceholder)??[];m.push(p),s.set(d.messagePlaceholder,m)}gO(r,s),r.params=new Map([...r.params.entries()].sort());let o=le(t.pool.uniqueName(dO)),a=EO(t.pool,r.message.id,e,t.i18nUseExternalIds),l;if(r.needsPostprocessing||r.postprocessingParams.size>0){let u=Object.fromEntries([...r.postprocessingParams.entries()].sort()),d=pE(u,!1),p=[];r.postprocessingParams.size>0&&p.push(yy(d,!0)),l=h=>B(y.i18nPostprocess).callFn([h,...p])}return i.push(...vO(r.message,o,a,r.params,l)),{mainVar:o,statements:i}}function gO(t,e){for(let[n,r]of e)r.length===1?t.params.set(n,r[0]):(t.params.set(n,T(`${VT}${fO}${n}${VT}`)),t.postprocessingParams.set(n,we(r)))}function vO(t,e,n,r,i){let s=Object.fromEntries(r),o=[hO(e),_p(yO(),iO(e,t,n,s),aO(e,t,pE(s,!1)))];return i&&o.push(new Vt(e.set(i(e)))),o}function yO(){return pc(le(BT)).notIdentical(T("undefined",cE)).and(le(BT))}function EO(t,e,n,r){let i,s=n;if(r){let o=UT("EXTERNAL_"),a=t.uniqueName(s);i=`${o}${js(e)}$$${a}`}else{let o=UT(s);i=t.uniqueName(o)}return le(i)}function CO(t){for(let e of t.units){let n=null,r=null,i=new Map,s=new Map,o=new Map;for(let a of e.create)switch(a.kind){case g.I18nStart:if(a.context===null)throw Error("I18n op should have its context set.");n=a;break;case g.I18nEnd:n=null;break;case g.IcuStart:if(a.context===null)throw Error("Icu op should have its context set.");r=a;break;case g.IcuEnd:r=null;break;case g.Text:if(n!==null)if(i.set(a.xref,n),s.set(a.xref,r),a.icuPlaceholder!==null){let l=j2(t.allocateXrefId(),a.icuPlaceholder,[a.initialValue]);I.replace(a,l),o.set(a.xref,l)}else I.remove(a);break}for(let a of e.update)switch(a.kind){case g.InterpolateText:if(!i.has(a.target))continue;let l=i.get(a.target),u=s.get(a.target),d=o.get(a.target),p=u?u.context:l.context,h=u?Xu.Postproccessing:Xu.Creation,m=[];for(let v=0;v<a.interpolation.expressions.length;v++){let C=a.interpolation.expressions[v];m.push(eI(p,l.xref,l.xref,l.handle,C,d?.xref??null,a.interpolation.i18nPlaceholders[v]??null,h,Wa.I18nText,"",C.sourceSpan??a.sourceSpan))}I.replaceWithMany(a,m),d!==void 0&&(d.strings=a.interpolation.strings);break}}}function wO(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case g.ElementStart:case g.ConditionalCreate:case g.ConditionalBranchCreate:case g.Template:if(!Array.isArray(n.localRefs))throw new Error("AssertionError: expected localRefs to be an array still");if(n.numSlotsUsed+=n.localRefs.length,n.localRefs.length>0){let r=_O(n.localRefs);n.localRefs=t.addConst(r)}else n.localRefs=null;break}}function _O(t){let e=[];for(let n of t)e.push(T(n.name),T(n.target));return we(e)}function SO(t){for(let e of t.units){let n=Bt.HTML;for(let r of e.create)r.kind===g.ElementStart&&r.namespace!==n&&(I.insertBefore(B2(r.namespace),r),n=r.namespace)}}function TO(t){let e=[],n=0,r=0,i=0,s=0,o=0,a=null;for(;n<t.length;)switch(t.charCodeAt(n++)){case 40:r++;break;case 41:r--;break;case 39:i===0?i=39:i===39&&t.charCodeAt(n-1)!==92&&(i=0);break;case 34:i===0?i=34:i===34&&t.charCodeAt(n-1)!==92&&(i=0);break;case 58:!a&&r===0&&i===0&&(a=TI(t.substring(o,n-1).trim()),s=n);break;case 59:if(a&&s>0&&r===0&&i===0){let u=t.substring(s,n-1).trim();e.push(a,u),o=n,s=0,a=null}break}if(a&&s){let l=t.slice(s).trim();e.push(a,l)}return e}function TI(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function DO(t){let e=new Map;for(let n of t.units)for(let r of n.create)ls(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.create)if(r.kind===g.ExtractedAttribute&&r.bindingKind===O.Attribute&&tI(r.expression)){let i=e.get(r.target);if(i!==void 0&&(i.kind===g.Template||i.kind===g.ConditionalCreate||i.kind===g.ConditionalBranchCreate)&&i.templateKind===dn.Structural)continue;if(r.name==="style"){let s=TO(r.expression.value);for(let o=0;o<s.length-1;o+=2)I.insertBefore(Sn(r.target,O.StyleProperty,null,s[o],T(s[o+1]),null,null,xe.STYLE),r);I.remove(r)}else if(r.name==="class"){let s=r.expression.value.trim().split(/\s+/g);for(let o of s)I.insertBefore(Sn(r.target,O.ClassName,null,o,null,null,null,xe.NONE),r);I.remove(r)}}}function IO(t){uu(t.root,t.componentName,{index:0},t.compatibility===Rn.TemplateDefinitionBuilder)}function uu(t,e,n,r){t.fnName===null&&(t.fnName=t.job.pool.uniqueName(js(`${e}_${t.job.fnSuffix}`),!1));let i=new Map;for(let s of t.ops())switch(s.kind){case g.Property:case g.DomProperty:s.bindingKind===O.LegacyAnimation&&(s.name="@"+s.name);break;case g.Animation:if(s.handlerFnName===null){let d=s.name.replace(".","");s.handlerFnName=`${t.fnName}_${d}_cb`,s.handlerFnName=js(s.handlerFnName)}break;case g.AnimationListener:if(s.handlerFnName!==null)break;if(!s.hostListener&&s.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let o=s.name.replace(".","");s.hostListener?s.handlerFnName=`${e}_${o}_HostBindingHandler`:s.handlerFnName=`${t.fnName}_${s.tag.replace("-","_")}_${o}_${s.targetSlot.slot}_listener`,s.handlerFnName=js(s.handlerFnName);break;case g.Listener:if(s.handlerFnName!==null)break;if(!s.hostListener&&s.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let a="";s.isLegacyAnimationListener&&(s.name=`@${s.name}.${s.legacyAnimationPhase}`,a="animation"),s.hostListener?s.handlerFnName=`${e}_${a}${s.name}_HostBindingHandler`:s.handlerFnName=`${t.fnName}_${s.tag.replace("-","_")}_${a}${s.name}_${s.targetSlot.slot}_listener`,s.handlerFnName=js(s.handlerFnName);break;case g.TwoWayListener:if(s.handlerFnName!==null)break;if(s.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");s.handlerFnName=js(`${t.fnName}_${s.tag.replace("-","_")}_${s.name}_${s.targetSlot.slot}_listener`);break;case g.Variable:i.set(s.xref,AO(t,s.variable,n));break;case g.RepeaterCreate:if(!(t instanceof Wn))throw new Error("AssertionError: must be compiling a component");if(s.handle.slot===null)throw new Error("Expected slot to be assigned");if(s.emptyView!==null){let d=t.job.views.get(s.emptyView);uu(d,`${e}_${s.functionNameSuffix}Empty_${s.handle.slot+2}`,n,r)}uu(t.job.views.get(s.xref),`${e}_${s.functionNameSuffix}_${s.handle.slot+1}`,n,r);break;case g.Projection:if(!(t instanceof Wn))throw new Error("AssertionError: must be compiling a component");if(s.handle.slot===null)throw new Error("Expected slot to be assigned");if(s.fallbackView!==null){let d=t.job.views.get(s.fallbackView);uu(d,`${e}_ProjectionFallback_${s.handle.slot}`,n,r)}break;case g.ConditionalCreate:case g.ConditionalBranchCreate:case g.Template:if(!(t instanceof Wn))throw new Error("AssertionError: must be compiling a component");let l=t.job.views.get(s.xref);if(s.handle.slot===null)throw new Error("Expected slot to be assigned");let u=s.functionNameSuffix.length===0?"":`_${s.functionNameSuffix}`;uu(l,`${e}${u}_${s.handle.slot}`,n,r);break;case g.StyleProp:s.name=xO(s.name),r&&(s.name=$T(s.name));break;case g.ClassProp:r&&(s.name=$T(s.name));break}for(let s of t.ops())wt(s,o=>{if(!(!(o instanceof Ci)||o.name!==null)){if(!i.has(o.xref))throw new Error(`Variable ${o.xref} not yet named`);o.name=i.get(o.xref)}})}function AO(t,e,n){if(e.name===null)switch(e.kind){case Et.Context:e.name=`ctx_r${n.index++}`;break;case Et.Identifier:if(t.job.compatibility===Rn.TemplateDefinitionBuilder){let r=e.identifier==="ctx"?"i":"";e.name=`${e.identifier}_${r}r${++n.index}`}else e.name=`${e.identifier}_i${n.index++}`;break;default:e.name=`_r${++n.index}`;break}return e.name}function xO(t){return t.startsWith("--")?t:TI(t)}function $T(t){let e=t.indexOf("!important");return e>-1?t.substring(0,e):t}function bO(t){for(let e of t.units){for(let n of e.create)(n.kind===g.Listener||n.kind===g.Animation||n.kind===g.AnimationListener||n.kind===g.TwoWayListener)&&HT(n.handlerOps);HT(e.update)}}function HT(t){for(let e of t){if(e.kind!==g.Statement||!(e.statement instanceof Vt)||!(e.statement.expr instanceof Yf))continue;let n=e.statement.expr.steps,r=!0;for(let i=e.next;i.kind!==g.ListEnd&&r;i=i.next)wt(i,(s,o)=>{if(!Yr(s))return s;if(r&&!(o&me.InChildOperation))switch(s.kind){case $.NextContext:s.steps+=n,I.remove(e),r=!1;break;case $.GetCurrentView:case $.Reference:case $.ContextLetReference:r=!1;break}})}}var NO="ng-container";function MO(t){for(let e of t.units){let n=new Set;for(let r of e.create)r.kind===g.ElementStart&&r.tag===NO&&(r.kind=g.ContainerStart,n.add(r.xref)),r.kind===g.ElementEnd&&n.has(r.xref)&&(r.kind=g.ContainerEnd)}}function RO(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function kO(t){let e=new Map;for(let n of t.units)for(let r of n.create)ls(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.create)(r.kind===g.ElementStart||r.kind===g.ContainerStart)&&r.nonBindable&&I.insertAfter(P2(r.xref),r),(r.kind===g.ElementEnd||r.kind===g.ContainerEnd)&&RO(e,r.xref).nonBindable&&I.insertBefore(L2(r.xref),r)}function gi(t){return e=>e.kind===t}function hu(t,e){return n=>n.kind===t&&e===n.expression instanceof Ge}function PO(t){return t.kind===g.Listener&&!(t.hostListener&&t.isLegacyAnimationListener)||t.kind===g.TwoWayListener||t.kind===g.Animation||t.kind===g.AnimationListener}function LO(t){return(t.kind===g.Property||t.kind===g.TwoWayProperty)&&!(t.expression instanceof Ge)}var FO=[{test:t=>t.kind===g.Listener&&t.hostListener&&t.isLegacyAnimationListener},{test:PO}],OO=[{test:gi(g.StyleMap),transform:dp},{test:gi(g.ClassMap),transform:dp},{test:gi(g.StyleProp)},{test:gi(g.ClassProp)},{test:hu(g.Attribute,!0)},{test:hu(g.Property,!0)},{test:LO},{test:hu(g.Attribute,!1)}],BO=[{test:hu(g.DomProperty,!0)},{test:hu(g.DomProperty,!1)},{test:gi(g.Attribute)},{test:gi(g.StyleMap),transform:dp},{test:gi(g.ClassMap),transform:dp},{test:gi(g.StyleProp)},{test:gi(g.ClassProp)}],qT=new Set([g.Listener,g.TwoWayListener,g.AnimationListener,g.StyleMap,g.ClassMap,g.StyleProp,g.ClassProp,g.Property,g.TwoWayProperty,g.DomProperty,g.Attribute,g.Animation]);function VO(t){for(let e of t.units){GT(e.create,FO);let n=e.job.kind===P.Host?BO:OO;GT(e.update,n)}}function GT(t,e){let n=[],r=null;for(let i of t){let s=Qu(i)?i.target:null;(!qT.has(i.kind)||s!==r&&r!==null&&s!==null)&&(I.insertBefore(zT(n,e),i),n=[],r=null),qT.has(i.kind)&&(n.push(i),I.remove(i),r=s??r)}t.push(zT(n,e))}function zT(t,e){let n=Array.from(e,()=>new Array);for(let r of t){let i=e.findIndex(s=>s.test(r));n[i].push(r)}return n.flatMap((r,i)=>{let s=e[i].transform;return s?s(r):r})}function dp(t){return t.slice(t.length-1)}function UO(t){for(let e of t.units){let n=dI(e);for(let r of e.ops())switch(r.kind){case g.Binding:let i=HO(n,r.target);$O(r.name)&&i.kind===g.Projection&&I.remove(r);break}}}function $O(t){return t.toLowerCase()==="select"}function HO(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an slottable target.");return n}function qO(t){for(let e of t.units)GO(e)}function GO(t){for(let e of t.update)wt(e,(n,r)=>{if(Yr(n)&&n.kind===$.PipeBinding){if(r&me.InChildOperation)throw new Error("AssertionError: pipe bindings should not appear in child expressions");if(t.job.compatibility){if(e.target==null)throw new Error("AssertionError: expected slot handle to be assigned for pipe creation");zO(t,e.target,n)}else t.create.push(lI(n.target,n.targetSlot,n.name))}})}function zO(t,e,n){for(let r=t.create.head.next;r.kind!==g.ListEnd;r=r.next){if(!Ja(r)||r.xref!==e)continue;for(;r.next.kind===g.Pipe;)r=r.next;let i=lI(n.target,n.targetSlot,n.name);I.insertBefore(i,r.next);return}throw new Error(`AssertionError: unable to find insertion point for pipe ${n.name}`)}function jO(t){for(let e of t.units)for(let n of e.update)Ke(n,r=>!(r instanceof Eo)||r.args.length<=4?r:new ec(r.target,r.targetSlot,r.name,we(r.args),r.args.length),me.None)}function WO(t){DI(t.root,0)}function DI(t,e){let n=null;for(let r of t.create)switch(r.kind){case g.I18nStart:r.subTemplateIndex=e===0?null:e,n=r;break;case g.I18nEnd:n.subTemplateIndex===null&&(e=0),n=null;break;case g.ConditionalCreate:case g.ConditionalBranchCreate:case g.Template:e=Qd(t.job.views.get(r.xref),n,r.i18nPlaceholder,e);break;case g.RepeaterCreate:let i=t.job.views.get(r.xref);e=Qd(i,n,r.i18nPlaceholder,e),r.emptyView!==null&&(e=Qd(t.job.views.get(r.emptyView),n,r.emptyI18nPlaceholder,e));break;case g.Projection:r.fallbackView!==null&&(e=Qd(t.job.views.get(r.fallbackView),n,r.fallbackViewI18nPlaceholder,e));break}return e}function Qd(t,e,n,r){if(n!==void 0){if(e===null)throw Error("Expected template with i18n placeholder to be in an i18n block.");r++,YO(t,e)}return DI(t,r)}function YO(t,e){if(t.create.head.next?.kind!==g.I18nStart){let n=t.job.allocateXrefId();I.insertAfter(Ap(n,e.message,e.root,null),t.create.head),I.insertBefore(xp(n,null),t.create.tail)}}function JO(t){for(let e of t.units)for(let n of e.ops())wt(n,r=>{if(!(r instanceof yo)||r.body===null)return;let i=new By(r.args.length);r.fn=t.pool.getSharedConstant(i,r.body),r.body=null})}var By=class extends Zs{numArgs;constructor(e){super(),this.numArgs=e}keyOf(e){return e instanceof Va?`param(${e.index})`:super.keyOf(e)}toSharedConstantDeclaration(e,n){let r=[];for(let s=0;s<this.numArgs;s++)r.push(new Ct("a"+s));let i=L(n,s=>s instanceof Va?le("a"+s.index):s,me.None);return new rt(e,new lo(r,i),void 0,yt.Final)}};function XO(t){for(let e of t.units)for(let n of e.update)Ke(n,(r,i)=>i&me.InChildOperation?r:r instanceof pr?QO(r):r instanceof Gr?KO(r):r,me.None)}function QO(t){let e=[],n=[];for(let r of t.entries)if(r.isConstant())e.push(r);else{let i=n.length;n.push(r),e.push(new Va(i))}return new yo(we(e),n)}function KO(t){let e=[],n=[];for(let r of t.entries)if(r.value.isConstant())e.push(r);else{let i=n.length;n.push(r.value),e.push(new xa(r.key,new Va(i),r.quoted))}return new yo(Xt(e),n)}function ZO(t){for(let e of t.units)for(let n of e.ops())Ke(n,r=>r instanceof Aa&&(r.flags===null||!r.flags.includes("g"))?t.pool.getSharedConstant(new Vy,r):r,me.None)}var Vy=class extends Zs{toSharedConstantDeclaration(e,n){return new rt(e,n,void 0,yt.Final)}};function eB(t,e,n,r,i){return ds(y.element,t,e,n,r,i)}function tB(t,e,n,r,i){return ds(y.elementStart,t,e,n,r,i)}function ds(t,e,n,r,i,s){let o=[T(e)];return n!==null&&o.push(T(n)),i!==null?o.push(T(r),T(i)):r!==null&&o.push(T(r)),K(t,o,s)}function II(t,e,n,r,i,s,o,a,l){let u=[T(e),n,T(r),T(i),T(s),T(o)];for(a!==null&&(u.push(T(a)),u.push(B(y.templateRefExtractor)));u[u.length-1].isEquivalent(ba);)u.pop();return K(t,u,l)}function TE(t,e,n,r,i){let s=[T(e)];return n instanceof Ge?s.push(_o(n,i)):s.push(n),r!==null&&s.push(r),K(t,s,i)}function nB(t){return K(y.elementEnd,[],t)}function rB(t,e,n,r){return ds(y.elementContainerStart,t,null,e,n,r)}function iB(t,e,n,r){return ds(y.elementContainer,t,null,e,n,r)}function sB(){return K(y.elementContainerEnd,[],null)}function oB(t,e,n,r,i,s,o,a){return II(y.templateCreate,t,e,n,r,i,s,o,a)}function aB(){return K(y.disableBindings,[],null)}function lB(){return K(y.enableBindings,[],null)}function uB(t,e,n,r,i){let s=[T(t),e];return n!==null&&s.push(B(n)),K(r?y.syntheticHostListener:y.listener,s,i)}function jT(t,e){return B(y.twoWayBindingSet).callFn([t,e])}function cB(t,e,n){return K(y.twoWayListener,[T(t),e],n)}function dB(t,e){return K(y.pipe,[T(t),T(e)],null)}function fB(){return K(y.namespaceHTML,[],null)}function pB(){return K(y.namespaceSVG,[],null)}function hB(){return K(y.namespaceMathML,[],null)}function mB(t,e){return K(y.advance,t>1?[T(t)]:[],e)}function gB(t){return B(y.reference).callFn([T(t)])}function vB(t){return B(y.nextContext).callFn(t===1?[]:[T(t)])}function yB(){return B(y.getCurrentView).callFn([])}function EB(t){return B(y.restoreView).callFn([t])}function CB(t){return B(y.resetView).callFn([t])}function wB(t,e,n){let r=[T(t,null)];return e!==""&&r.push(T(e)),K(y.text,r,n)}function _B(t,e,n,r,i,s,o,a,l,u,d){let p=[T(t),T(e),n??T(null),T(r),T(i),T(s),o??T(null),a??T(null),l?B(y.deferEnableTimerScheduling):T(null),T(d)],h;for(;(h=p[p.length-1])!==null&&h instanceof xt&&h.value===null;)p.pop();return K(y.defer,p,u)}var SB=new Map([[Ae.Idle,{none:y.deferOnIdle,prefetch:y.deferPrefetchOnIdle,hydrate:y.deferHydrateOnIdle}],[Ae.Immediate,{none:y.deferOnImmediate,prefetch:y.deferPrefetchOnImmediate,hydrate:y.deferHydrateOnImmediate}],[Ae.Timer,{none:y.deferOnTimer,prefetch:y.deferPrefetchOnTimer,hydrate:y.deferHydrateOnTimer}],[Ae.Hover,{none:y.deferOnHover,prefetch:y.deferPrefetchOnHover,hydrate:y.deferHydrateOnHover}],[Ae.Interaction,{none:y.deferOnInteraction,prefetch:y.deferPrefetchOnInteraction,hydrate:y.deferHydrateOnInteraction}],[Ae.Viewport,{none:y.deferOnViewport,prefetch:y.deferPrefetchOnViewport,hydrate:y.deferHydrateOnViewport}],[Ae.Never,{none:y.deferHydrateNever,prefetch:y.deferHydrateNever,hydrate:y.deferHydrateNever}]]);function TB(t,e,n,r){let i=SB.get(t)?.[n];if(i===void 0)throw new Error(`Unable to determine instruction for trigger ${t}`);return K(i,e,r)}function DB(t){return K(y.projectionDef,t?[t]:[],null)}function IB(t,e,n,r,i,s,o){let a=[T(t)];return(e!==0||n!==null||r!==null)&&(a.push(T(e)),n!==null&&a.push(n),r!==null&&(n===null&&a.push(T(null)),a.push(le(r),T(i),T(s)))),K(y.projection,a,o)}function AB(t,e,n,r){let i=[T(t),T(e)];return n!==null&&i.push(T(n)),K(y.i18nStart,i,r)}function xB(t,e,n,r,i,s,o,a){let l=[T(t),e,T(n),T(r),T(i),T(s)];for(o!==null&&(l.push(T(o)),l.push(B(y.templateRefExtractor)));l[l.length-1].isEquivalent(ba);)l.pop();return K(y.conditionalCreate,l,a)}function bB(t,e,n,r,i,s,o,a){let l=[T(t),e,T(n),T(r),T(i),T(s)];for(o!==null&&(l.push(T(o)),l.push(B(y.templateRefExtractor)));l[l.length-1].isEquivalent(ba);)l.pop();return K(y.conditionalBranchCreate,l,a)}function NB(t,e,n,r,i,s,o,a,l,u,d,p,h,m){let v=[T(t),le(e),T(n),T(r),T(i),T(s),o];return(a||l!==null)&&(v.push(T(a)),l!==null&&(v.push(le(l),T(u),T(d)),(p!==null||h!==null)&&v.push(T(p)),h!==null&&v.push(T(h)))),K(y.repeaterCreate,v,m)}function MB(t,e){return K(y.repeater,[t],e)}function RB(t,e,n){return t==="prefetch"?K(y.deferPrefetchWhen,[e],n):t==="hydrate"?K(y.deferHydrateWhen,[e],n):K(y.deferWhen,[e],n)}function kB(t,e){return K(y.declareLet,[T(t)],e)}function PB(t,e){return B(y.storeLet).callFn([t],e)}function LB(t){return B(y.readContextLet).callFn([T(t)])}function FB(t,e,n,r){let i=[T(t),T(e)];return n&&i.push(T(n)),K(y.i18n,i,r)}function OB(t){return K(y.i18nEnd,[],t)}function BB(t,e){let n=[T(t),T(e)];return K(y.i18nAttributes,n,null)}function VB(t,e,n){return TE(y.ariaProperty,t,e,null,n)}function UB(t,e,n,r){return TE(y.property,t,e,n,r)}function $B(t,e,n,r){let i=[];return e instanceof Ge?i.push(_o(e,r)):i.push(e),i.push(T(t)),n!==null&&i.push(n),K(y.control,i,r)}function HB(t){return K(y.controlCreate,[],t)}function qB(t,e,n,r){let i=[T(t),e];return n!==null&&i.push(n),K(y.twoWayProperty,i,r)}function GB(t,e,n,r,i){let s=[T(t)];return e instanceof Ge?s.push(_o(e,i)):s.push(e),(n!==null||r!==null)&&s.push(n??T(null)),r!==null&&s.push(T(r)),K(y.attribute,s,null)}function zB(t,e,n,r){let i=[T(t)];return e instanceof Ge?i.push(_o(e,r)):i.push(e),n!==null&&i.push(T(n)),K(y.styleProp,i,r)}function jB(t,e,n){return K(y.classProp,[T(t),e],n)}function WB(t,e){let n=t instanceof Ge?_o(t,e):t;return K(y.styleMap,[n],e)}function YB(t,e){let n=t instanceof Ge?_o(t,e):t;return K(y.classMap,[n],e)}function JB(t,e,n,r,i){return ds(y.domElement,t,e,n,r,i)}function XB(t,e,n,r,i){return ds(y.domElementStart,t,e,n,r,i)}function QB(t){return K(y.domElementEnd,[],t)}function KB(t,e,n,r){return ds(y.domElementContainerStart,t,null,e,n,r)}function ZB(t,e,n,r){return ds(y.domElementContainer,t,null,e,n,r)}function eV(){return K(y.domElementContainerEnd,[],null)}function tV(t,e,n,r){let i=[T(t),e];return n!==null&&i.push(B(n)),K(y.domListener,i,r)}function nV(t,e,n,r,i,s,o,a){return II(y.domTemplate,t,e,n,r,i,s,o,a)}var WT=[y.pipeBind1,y.pipeBind2,y.pipeBind3,y.pipeBind4];function rV(t,e,n){if(n.length<1||n.length>WT.length)throw new Error("pipeBind() argument count out of bounds");let r=WT[n.length-1];return B(r).callFn([T(t),T(e),...n])}function iV(t,e,n){return B(y.pipeBindV).callFn([T(t),T(e),n])}function sV(t,e,n){let r=AI(t,e);return EV(gV,[],r,n)}function oV(t,e){return K(y.i18nExp,[t],e)}function aV(t,e){return K(y.i18nApply,[T(t)],e)}function lV(t,e,n,r){return TE(y.domProperty,t,e,n,r)}function uV(t,e,n,r){let i=[e];n!==null&&i.push(n);let s=t==="enter"?y.animationEnter:y.animationLeave;return K(s,i,r)}function cV(t,e,n,r){let s=[e instanceof Ge?_o(e,r):e];n!==null&&s.push(n);let o=t==="enter"?y.animationEnter:y.animationLeave;return K(o,s,r)}function dV(t,e,n,r){let i=[e],s=t==="enter"?y.animationEnterListener:y.animationLeaveListener;return K(s,i,r)}function fV(t,e,n){return K(y.syntheticHostProperty,[T(t),e],n)}function pV(t,e,n){return DE(yV,[T(t),e],n,null)}function hV(t,e){return K(y.attachSourceLocations,[T(t),e],null)}function AI(t,e){if(t.length<1||e.length!==t.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let n=[];if(e.length===1&&t[0]===""&&t[1]==="")n.push(e[0]);else{let r;for(r=0;r<e.length;r++)n.push(T(t[r]),e[r]);n.push(T(t[r]))}return n}function _o(t,e){let n=AI(t.strings,t.expressions);return DE(vV,[],n,e)}function K(t,e,n){let r=B(t).callFn(e,n);return Qn(new Vt(r,n))}function mV(t,e,n){let r=[t];return e!==null&&r.push(e),K(y.conditional,r,n)}var gV={constant:[y.textInterpolate,y.textInterpolate1,y.textInterpolate2,y.textInterpolate3,y.textInterpolate4,y.textInterpolate5,y.textInterpolate6,y.textInterpolate7,y.textInterpolate8],variable:y.textInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},vV={constant:[y.interpolate,y.interpolate1,y.interpolate2,y.interpolate3,y.interpolate4,y.interpolate5,y.interpolate6,y.interpolate7,y.interpolate8],variable:y.interpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},yV={constant:[y.pureFunction0,y.pureFunction1,y.pureFunction2,y.pureFunction3,y.pureFunction4,y.pureFunction5,y.pureFunction6,y.pureFunction7,y.pureFunction8],variable:y.pureFunctionV,mapping:t=>t};function DE(t,e,n,r){let i=t.mapping(n.length),s=n.at(-1);if(n.length>1&&s instanceof xt&&s.value===""&&n.pop(),i<t.constant.length)return B(t.constant[i]).callFn([...e,...n],r);if(t.variable!==null)return B(t.variable).callFn([...e,we(n)],r);throw new Error("AssertionError: unable to call variadic function")}function EV(t,e,n,r){return Qn(DE(t,e,n,r).toStmt())}var CV=new Map([["window",y.resolveWindow],["document",y.resolveDocument],["body",y.resolveBody]]),wV=new Map([["class","className"],["for","htmlFor"],["formaction","formAction"],["innerHtml","innerHTML"],["readonly","readOnly"],["tabindex","tabIndex"]]);function _V(t){for(let e of t.units)SV(e,e.create),IE(e,e.update)}function SV(t,e){for(let n of e)switch(Ke(n,xI,me.None),n.kind){case g.Text:I.replace(n,wB(n.handle.slot,n.initialValue,n.sourceSpan));break;case g.ElementStart:I.replace(n,t.job.mode===on.DomOnly?XB(n.handle.slot,n.tag,n.attributes,n.localRefs,n.startSourceSpan):tB(n.handle.slot,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case g.Element:I.replace(n,t.job.mode===on.DomOnly?JB(n.handle.slot,n.tag,n.attributes,n.localRefs,n.wholeSourceSpan):eB(n.handle.slot,n.tag,n.attributes,n.localRefs,n.wholeSourceSpan));break;case g.ElementEnd:I.replace(n,t.job.mode===on.DomOnly?QB(n.sourceSpan):nB(n.sourceSpan));break;case g.ContainerStart:I.replace(n,t.job.mode===on.DomOnly?KB(n.handle.slot,n.attributes,n.localRefs,n.startSourceSpan):rB(n.handle.slot,n.attributes,n.localRefs,n.startSourceSpan));break;case g.Container:I.replace(n,t.job.mode===on.DomOnly?ZB(n.handle.slot,n.attributes,n.localRefs,n.wholeSourceSpan):iB(n.handle.slot,n.attributes,n.localRefs,n.wholeSourceSpan));break;case g.ContainerEnd:I.replace(n,t.job.mode===on.DomOnly?eV():sB());break;case g.I18nStart:I.replace(n,AB(n.handle.slot,n.messageIndex,n.subTemplateIndex,n.sourceSpan));break;case g.I18nEnd:I.replace(n,OB(n.sourceSpan));break;case g.I18n:I.replace(n,FB(n.handle.slot,n.messageIndex,n.subTemplateIndex,n.sourceSpan));break;case g.I18nAttributes:if(n.i18nAttributesConfig===null)throw new Error("AssertionError: i18nAttributesConfig was not set");I.replace(n,BB(n.handle.slot,n.i18nAttributesConfig));break;case g.Template:if(!(t instanceof Wn))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(n.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let r=t.job.views.get(n.xref);I.replace(n,n.templateKind===dn.Block||t.job.mode===on.DomOnly?nV(n.handle.slot,le(r.fnName),r.decls,r.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan):oB(n.handle.slot,le(r.fnName),r.decls,r.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case g.DisableBindings:I.replace(n,aB());break;case g.EnableBindings:I.replace(n,lB());break;case g.Pipe:I.replace(n,dB(n.handle.slot,n.name));break;case g.DeclareLet:I.replace(n,kB(n.handle.slot,n.sourceSpan));break;case g.AnimationString:I.replace(n,cV(n.animationKind,n.expression,n.sanitizer,n.sourceSpan));break;case g.Animation:let i=Kd(t,n.handlerFnName,n.handlerOps,!1);I.replace(n,uV(n.animationKind,i,n.sanitizer,n.sourceSpan));break;case g.AnimationListener:let s=Kd(t,n.handlerFnName,n.handlerOps,n.consumesDollarEvent);I.replace(n,dV(n.animationKind,s,null,n.sourceSpan));break;case g.Listener:let o=Kd(t,n.handlerFnName,n.handlerOps,n.consumesDollarEvent),a=n.eventTarget?CV.get(n.eventTarget):null;if(a===void 0)throw new Error(`Unexpected global target '${n.eventTarget}' defined for '${n.name}' event. Supported list of global targets: window,document,body.`);I.replace(n,t.job.mode===on.DomOnly&&!n.hostListener&&!n.isLegacyAnimationListener?tV(n.name,o,a,n.sourceSpan):uB(n.name,o,a,n.hostListener&&n.isLegacyAnimationListener,n.sourceSpan));break;case g.TwoWayListener:I.replace(n,cB(n.name,Kd(t,n.handlerFnName,n.handlerOps,!0),n.sourceSpan));break;case g.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);I.replace(n,Qn(new rt(n.variable.name,n.initializer,void 0,yt.Final)));break;case g.Namespace:switch(n.active){case Bt.HTML:I.replace(n,fB());break;case Bt.SVG:I.replace(n,pB());break;case Bt.Math:I.replace(n,hB());break}break;case g.Defer:let l=!!n.loadingMinimumTime||!!n.loadingAfterTime||!!n.placeholderMinimumTime;I.replace(n,_B(n.handle.slot,n.mainSlot.slot,n.resolverFn,n.loadingSlot?.slot??null,n.placeholderSlot?.slot??null,n.errorSlot?.slot??null,n.loadingConfig,n.placeholderConfig,l,n.sourceSpan,n.flags));break;case g.DeferOn:let u=[];switch(n.trigger.kind){case Ae.Never:case Ae.Idle:case Ae.Immediate:break;case Ae.Timer:u=[T(n.trigger.delay)];break;case Ae.Viewport:n.modifier==="hydrate"?u=n.trigger.options?[n.trigger.options]:[]:(u=[T(n.trigger.targetSlot?.slot??null)],n.trigger.targetSlotViewSteps!==0?u.push(T(n.trigger.targetSlotViewSteps)):n.trigger.options&&u.push(T(null)),n.trigger.options&&u.push(n.trigger.options));break;case Ae.Interaction:case Ae.Hover:n.modifier==="hydrate"?u=[]:(u=[T(n.trigger.targetSlot?.slot??null)],n.trigger.targetSlotViewSteps!==0&&u.push(T(n.trigger.targetSlotViewSteps)));break;default:throw new Error(`AssertionError: Unsupported reification of defer trigger kind ${n.trigger.kind}`)}I.replace(n,TB(n.trigger.kind,u,n.modifier,n.sourceSpan));break;case g.ProjectionDef:I.replace(n,DB(n.def));break;case g.Projection:if(n.handle.slot===null)throw new Error("No slot was assigned for project instruction");let d=null,p=null,h=null;if(n.fallbackView!==null){if(!(t instanceof Wn))throw new Error("AssertionError: must be compiling a component");let x=t.job.views.get(n.fallbackView);if(x===void 0)throw new Error("AssertionError: projection had fallback view xref, but fallback view was not found");if(x.fnName===null||x.decls===null||x.vars===null)throw new Error("AssertionError: expected projection fallback view to have been named and counted");d=x.fnName,p=x.decls,h=x.vars}I.replace(n,IB(n.handle.slot,n.projectionSlotIndex,n.attributes,d,p,h,n.sourceSpan));break;case g.ConditionalCreate:if(!(t instanceof Wn))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(n.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let m=t.job.views.get(n.xref);I.replace(n,xB(n.handle.slot,le(m.fnName),m.decls,m.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case g.ConditionalBranchCreate:if(!(t instanceof Wn))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(n.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let v=t.job.views.get(n.xref);I.replace(n,bB(n.handle.slot,le(v.fnName),v.decls,v.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case g.RepeaterCreate:if(n.handle.slot===null)throw new Error("No slot was assigned for repeater instruction");if(!(t instanceof Wn))throw new Error("AssertionError: must be compiling a component");let C=t.job.views.get(n.xref);if(C.fnName===null)throw new Error("AssertionError: expected repeater primary view to have been named");let w=null,E=null,D=null;if(n.emptyView!==null){let x=t.job.views.get(n.emptyView);if(x===void 0)throw new Error("AssertionError: repeater had empty view xref, but empty view was not found");if(x.fnName===null||x.decls===null||x.vars===null)throw new Error("AssertionError: expected repeater empty view to have been named and counted");w=x.fnName,E=x.decls,D=x.vars}I.replace(n,NB(n.handle.slot,C.fnName,n.decls,n.vars,n.tag,n.attributes,IV(t,n),n.usesComponentInstance,w,E,D,n.emptyTag,n.emptyAttributes,n.wholeSourceSpan));break;case g.SourceLocation:let M=we(n.locations.map(({targetSlot:x,offset:U,line:ee,column:te})=>{if(x.slot===null)throw new Error("No slot was assigned for source location");return we([T(x.slot),T(U),T(ee),T(te)])}));I.replace(n,hV(n.templatePath,M));break;case g.ControlCreate:I.replace(n,HB(n.sourceSpan));break;case g.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of create op ${g[n.kind]}`)}}function IE(t,e){for(let n of e)switch(Ke(n,xI,me.None),n.kind){case g.Advance:I.replace(n,mB(n.delta,n.sourceSpan));break;case g.Property:I.replace(n,t.job.mode===on.DomOnly&&n.bindingKind!==O.LegacyAnimation&&n.bindingKind!==O.Animation?YT(n):TV(n));break;case g.Control:I.replace(n,DV(n));break;case g.TwoWayProperty:I.replace(n,qB(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case g.StyleProp:I.replace(n,zB(n.name,n.expression,n.unit,n.sourceSpan));break;case g.ClassProp:I.replace(n,jB(n.name,n.expression,n.sourceSpan));break;case g.StyleMap:I.replace(n,WB(n.expression,n.sourceSpan));break;case g.ClassMap:I.replace(n,YB(n.expression,n.sourceSpan));break;case g.I18nExpression:I.replace(n,oV(n.expression,n.sourceSpan));break;case g.I18nApply:I.replace(n,aV(n.handle.slot,n.sourceSpan));break;case g.InterpolateText:I.replace(n,sV(n.interpolation.strings,n.interpolation.expressions,n.sourceSpan));break;case g.Attribute:I.replace(n,GB(n.name,n.expression,n.sanitizer,n.namespace,n.sourceSpan));break;case g.DomProperty:if(n.expression instanceof Ge)throw new Error("not yet handled");n.bindingKind===O.LegacyAnimation||n.bindingKind===O.Animation?I.replace(n,fV(n.name,n.expression,n.sourceSpan)):I.replace(n,YT(n));break;case g.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);I.replace(n,Qn(new rt(n.variable.name,n.initializer,void 0,yt.Final)));break;case g.Conditional:if(n.processed===null)throw new Error("Conditional test was not set.");I.replace(n,mV(n.processed,n.contextValue,n.sourceSpan));break;case g.Repeater:I.replace(n,MB(n.collection,n.sourceSpan));break;case g.DeferWhen:I.replace(n,RB(n.modifier,n.expr,n.sourceSpan));break;case g.StoreLet:throw new Error(`AssertionError: unexpected storeLet ${n.declaredName}`);case g.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of update op ${g[n.kind]}`)}}function YT(t){return lV(wV.get(t.name)??t.name,t.expression,t.sanitizer,t.sourceSpan)}function TV(t){return fI(t.name)?VB(t.name,t.expression,t.sourceSpan):UB(t.name,t.expression,t.sanitizer,t.sourceSpan)}function DV(t){return $B(t.name,t.expression,t.sanitizer,t.sourceSpan)}function xI(t){if(!Yr(t))return t;switch(t.kind){case $.NextContext:return vB(t.steps);case $.Reference:return gB(t.targetSlot.slot+1+t.offset);case $.LexicalRead:throw new Error(`AssertionError: unresolved LexicalRead of ${t.name}`);case $.TwoWayBindingSet:throw new Error("AssertionError: unresolved TwoWayBindingSet");case $.RestoreView:if(typeof t.view=="number")throw new Error("AssertionError: unresolved RestoreView");return EB(t.view);case $.ResetView:return CB(t.expr);case $.GetCurrentView:return yB();case $.ReadVariable:if(t.name===null)throw new Error(`Read of unnamed variable ${t.xref}`);return le(t.name);case $.ReadTemporaryExpr:if(t.name===null)throw new Error(`Read of unnamed temporary ${t.xref}`);return le(t.name);case $.AssignTemporaryExpr:if(t.name===null)throw new Error(`Assign of unnamed temporary ${t.xref}`);return le(t.name).set(t.expr);case $.PureFunctionExpr:if(t.fn===null)throw new Error("AssertionError: expected PureFunctions to have been extracted");return pV(t.varOffset,t.fn,t.args);case $.PureFunctionParameterExpr:throw new Error("AssertionError: expected PureFunctionParameterExpr to have been extracted");case $.PipeBinding:return rV(t.targetSlot.slot,t.varOffset,t.args);case $.PipeBindingVariadic:return iV(t.targetSlot.slot,t.varOffset,t.args);case $.SlotLiteralExpr:return T(t.slot.slot);case $.ContextLetReference:return LB(t.targetSlot.slot);case $.StoreLet:return PB(t.value,t.sourceSpan);case $.TrackContext:return le("this");default:throw new Error(`AssertionError: Unsupported reification of ir.Expression kind: ${$[t.kind]}`)}}function Kd(t,e,n,r){IE(t,n);let i=[];for(let o of n){if(o.kind!==g.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${g[o.kind]}`);i.push(o.statement)}let s=[];return r&&s.push(new Ct("$event")),es(s,i,void 0,void 0,e)}function IV(t,e){if(e.trackByFn!==null)return e.trackByFn;let n=[new Ct("$index"),new Ct("$item")],r;if(e.trackByOps===null)r=e.usesComponentInstance?es(n,[new It(e.track)]):hr(n,e.track);else{IE(t,e.trackByOps);let i=[];for(let s of e.trackByOps){if(s.kind!==g.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${g[s.kind]}`);i.push(s.statement)}r=e.usesComponentInstance||i.length!==1||!(i[0]instanceof It)?es(n,i):hr(n,i[0].value)}return e.trackByFn=t.job.pool.getSharedFunctionReference(r,"_forTrack"),e.trackByFn}function AV(t){for(let e of t.units)for(let n of e.update)switch(n.kind){case g.Attribute:case g.Binding:case g.ClassProp:case g.ClassMap:case g.Property:case g.StyleProp:case g.StyleMap:n.expression instanceof tc&&I.remove(n);break}}function xV(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case g.I18nContext:I.remove(n);break;case g.I18nStart:n.context=null;break}}function bV(t){for(let e of t.units)for(let n of e.update){if(n.kind!==g.Variable||n.variable.kind!==Et.Identifier||!(n.initializer instanceof Ku))continue;let r=n.variable.identifier,i=n;for(;i&&i.kind!==g.ListEnd;)Ke(i,s=>s instanceof Tt&&s.name===r?T(void 0):s,me.None),i=i.prev}}function NV(t){for(let e of t.units){let n=new Set;for(let r of e.update)switch(r.kind){case g.I18nExpression:n.add(r.i18nOwner)}for(let r of e.create)switch(r.kind){case g.I18nAttributes:if(n.has(r.xref))continue;I.remove(r)}}}function MV(t){for(let e of t.units)fp(e,e.create),fp(e,e.update)}function fp(t,e){let n=new Map;n.set(t.xref,le("ctx"));for(let r of e)switch(r.kind){case g.Variable:switch(r.variable.kind){case Et.Context:n.set(r.variable.view,new Ci(r.xref));break}break;case g.Animation:case g.AnimationListener:case g.Listener:case g.TwoWayListener:fp(t,r.handlerOps);break;case g.RepeaterCreate:r.trackByOps!==null&&fp(t,r.trackByOps);break}t===t.job.root&&n.set(t.xref,le("ctx"));for(let r of e)Ke(r,i=>{if(i instanceof os){if(!n.has(i.view))throw new Error(`No context found for reference to view ${i.view} from view ${t.xref}`);return n.get(i.view)}else return i},me.None)}function RV(t){for(let e of t.units)for(let n of e.create)if(n.kind===g.Defer){if(n.resolverFn!==null)continue;if(n.ownResolverFn!==null){if(n.handle.slot===null)throw new Error("AssertionError: slot must be assigned before extracting defer deps functions");let r=e.fnName?.replace("_Template","");n.resolverFn=t.pool.getSharedFunctionReference(n.ownResolverFn,`${r}_Defer_${n.handle.slot}_DepsFn`,!1)}}}function kV(t){for(let e of t.units)JT(e.create),JT(e.update)}function JT(t){for(let e of t)(e.kind===g.Listener||e.kind===g.TwoWayListener||e.kind===g.AnimationListener)&&Ke(e,n=>n instanceof Tt&&n.name==="$event"?((e.kind===g.Listener||e.kind===g.AnimationListener)&&(e.consumesDollarEvent=!0),new Jn(n.name)):n,me.InChildOperation)}function PV(t){let e=new Map,n=new Map;for(let r of t.units)for(let i of r.create)switch(i.kind){case g.I18nContext:e.set(i.xref,i);break;case g.ElementStart:n.set(i.xref,i);break}Lr(t,t.root,e,n)}function Lr(t,e,n,r,i){let s=null,o=new Map;for(let a of e.create)switch(a.kind){case g.I18nStart:if(!a.context)throw Error("Could not find i18n context for i18n op");s={i18nBlock:a,i18nContext:n.get(a.context)};break;case g.I18nEnd:s=null;break;case g.ElementStart:if(a.i18nPlaceholder!==void 0){if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");XT(a,s.i18nContext,s.i18nBlock,i),i&&a.i18nPlaceholder.closeName&&o.set(a.xref,i),i=void 0}break;case g.ElementEnd:let l=r.get(a.xref);if(l&&l.i18nPlaceholder!==void 0){if(s===null)throw Error("AssertionError: i18n tag placeholder should only occur inside an i18n block");QT(l,s.i18nContext,s.i18nBlock,o.get(a.xref)),o.delete(a.xref)}break;case g.Projection:if(a.i18nPlaceholder!==void 0){if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");XT(a,s.i18nContext,s.i18nBlock,i),QT(a,s.i18nContext,s.i18nBlock,i),i=void 0}if(a.fallbackView!==null){let h=t.views.get(a.fallbackView);if(a.fallbackViewI18nPlaceholder===void 0)Lr(t,h,n,r);else{if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Zd(t,h,a.handle.slot,a.fallbackViewI18nPlaceholder,s.i18nContext,s.i18nBlock,i),Lr(t,h,n,r),ef(t,h,a.handle.slot,a.fallbackViewI18nPlaceholder,s.i18nContext,s.i18nBlock,i),i=void 0}}break;case g.ConditionalCreate:case g.ConditionalBranchCreate:case g.Template:let u=t.views.get(a.xref);if(a.i18nPlaceholder===void 0)Lr(t,u,n,r);else{if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");a.templateKind===dn.Structural?Lr(t,u,n,r,a):(Zd(t,u,a.handle.slot,a.i18nPlaceholder,s.i18nContext,s.i18nBlock,i),Lr(t,u,n,r),ef(t,u,a.handle.slot,a.i18nPlaceholder,s.i18nContext,s.i18nBlock,i),i=void 0)}break;case g.RepeaterCreate:if(i!==void 0)throw Error("AssertionError: Unexpected structural directive associated with @for block");let d=a.handle.slot+1,p=t.views.get(a.xref);if(a.i18nPlaceholder===void 0)Lr(t,p,n,r);else{if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Zd(t,p,d,a.i18nPlaceholder,s.i18nContext,s.i18nBlock,i),Lr(t,p,n,r),ef(t,p,d,a.i18nPlaceholder,s.i18nContext,s.i18nBlock,i),i=void 0}if(a.emptyView!==null){let h=a.handle.slot+2,m=t.views.get(a.emptyView);if(a.emptyI18nPlaceholder===void 0)Lr(t,m,n,r);else{if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Zd(t,m,h,a.emptyI18nPlaceholder,s.i18nContext,s.i18nBlock,i),Lr(t,m,n,r),ef(t,m,h,a.emptyI18nPlaceholder,s.i18nContext,s.i18nBlock,i),i=void 0}}break}}function XT(t,e,n,r){let{startName:i,closeName:s}=t.i18nPlaceholder,o=Pe.ElementTag|Pe.OpenTag,a=t.handle.slot;r!==void 0&&(o|=Pe.TemplateTag,a={element:a,template:r.handle.slot}),s||(o|=Pe.CloseTag),za(e.params,i,a,n.subTemplateIndex,o)}function QT(t,e,n,r){let{closeName:i}=t.i18nPlaceholder;if(i){let s=Pe.ElementTag|Pe.CloseTag,o=t.handle.slot;r!==void 0&&(s|=Pe.TemplateTag,o={element:o,template:r.handle.slot}),za(e.params,i,o,n.subTemplateIndex,s)}}function Zd(t,e,n,r,i,s,o){let{startName:a,closeName:l}=r,u=Pe.TemplateTag|Pe.OpenTag;l||(u|=Pe.CloseTag),o!==void 0&&za(i.params,a,o.handle.slot,s.subTemplateIndex,u),za(i.params,a,n,bI(t,s,e),u)}function ef(t,e,n,r,i,s,o){let{closeName:a}=r,l=Pe.TemplateTag|Pe.CloseTag;a&&(za(i.params,a,n,bI(t,s,e),l),o!==void 0&&za(i.params,a,o.handle.slot,s.subTemplateIndex,l))}function bI(t,e,n){for(let r of n.create)if(r.kind===g.I18nStart)return r.subTemplateIndex;return e.subTemplateIndex}function za(t,e,n,r,i){let s=t.get(e)??[];s.push({value:n,subTemplateIndex:r,flags:i}),t.set(e,s)}function LV(t){let e=new Map,n=new Map,r=new Map;for(let o of t.units)for(let a of o.create)switch(a.kind){case g.I18nStart:e.set(a.xref,a.subTemplateIndex);break;case g.I18nContext:n.set(a.xref,a);break;case g.IcuPlaceholder:r.set(a.xref,a);break}let i=new Map,s=o=>o.usage===Wa.I18nText?o.i18nOwner:o.context;for(let o of t.units)for(let a of o.update)if(a.kind===g.I18nExpression){let l=i.get(s(a))||0,u=e.get(a.i18nOwner)??null,d={value:l,subTemplateIndex:u,flags:Pe.ExpressionIndex};FV(a,d,n,r),i.set(s(a),l+1)}}function FV(t,e,n,r){if(t.i18nPlaceholder!==null){let i=n.get(t.context),s=t.resolutionTime===Xu.Creation?i.params:i.postprocessingParams,o=s.get(t.i18nPlaceholder)||[];o.push(e),s.set(t.i18nPlaceholder,o)}t.icuPlaceholder!==null&&r.get(t.icuPlaceholder)?.expressionPlaceholders.push(e)}function OV(t){for(let e of t.units)pp(e,e.create,null),pp(e,e.update,null)}function pp(t,e,n){let r=new Map,i=new Map;for(let s of e)switch(s.kind){case g.Variable:switch(s.variable.kind){case Et.Identifier:if(s.variable.local){if(i.has(s.variable.identifier))continue;i.set(s.variable.identifier,s.xref)}else if(r.has(s.variable.identifier))continue;r.set(s.variable.identifier,s.xref);break;case Et.Alias:if(r.has(s.variable.identifier))continue;r.set(s.variable.identifier,s.xref);break;case Et.SavedView:n={view:s.variable.view,variable:s.xref};break}break;case g.Animation:case g.AnimationListener:case g.Listener:case g.TwoWayListener:pp(t,s.handlerOps,n);break;case g.RepeaterCreate:s.trackByOps!==null&&pp(t,s.trackByOps,n);break}for(let s of e)s.kind==g.Listener||s.kind===g.TwoWayListener||s.kind===g.Animation||s.kind===g.AnimationListener||Ke(s,o=>{if(o instanceof Tt)return i.has(o.name)?new Ci(i.get(o.name)):r.has(o.name)?new Ci(r.get(o.name)):new Mn(new os(t.job.root.xref),o.name);if(o instanceof Jf&&typeof o.view=="number"){if(n===null||n.view!==o.view)throw new Error(`AssertionError: no saved view ${o.view} from view ${t.xref}`);return o.view=new Ci(n.variable),o}else return o},me.None);for(let s of e)wt(s,o=>{if(o instanceof Tt)throw new Error(`AssertionError: no lexical reads should remain, but found read of ${o.name}`)})}var BV=new Map([[xe.HTML,y.sanitizeHtml],[xe.RESOURCE_URL,y.sanitizeResourceUrl],[xe.SCRIPT,y.sanitizeScript],[xe.STYLE,y.sanitizeStyle],[xe.URL,y.sanitizeUrl],[xe.ATTRIBUTE_NO_BINDING,y.validateAttribute]]),VV=new Map([[xe.HTML,y.trustConstantHtml],[xe.RESOURCE_URL,y.trustConstantResourceUrl]]);function UV(t){for(let e of t.units){if(t.kind!==P.Host){for(let n of e.create)if(n.kind===g.ExtractedAttribute){let r=VV.get(KT(n.securityContext))??null;n.trustedValueFn=r!==null?B(r):null}}for(let n of e.update)switch(n.kind){case g.Property:case g.Attribute:case g.DomProperty:let r=null;Array.isArray(n.securityContext)&&n.securityContext.length===2&&n.securityContext.includes(xe.URL)&&n.securityContext.includes(xe.RESOURCE_URL)?r=y.sanitizeUrlOrResourceUrl:r=BV.get(KT(n.securityContext))??null,n.sanitizer=r!==null?B(r):null;break}}}function KT(t){if(Array.isArray(t)){if(t.length>1)throw Error("AssertionError: Ambiguous security context");return t[0]||xe.NONE}return t}function $V(t){for(let e of t.units){e.create.prepend([Xi(e.job.allocateXrefId(),{kind:Et.SavedView,name:null,view:e.xref},new py,jn.None)]);for(let n of e.create){if(n.kind!==g.Listener&&n.kind!==g.TwoWayListener&&n.kind!==g.Animation&&n.kind!==g.AnimationListener)continue;let r=e!==t.root;if(!r)for(let i of n.handlerOps)wt(i,s=>{(s instanceof Wf||s instanceof Zu)&&(r=!0)});r&&HV(e,n)}}}function HV(t,e){e.handlerOps.prepend([Xi(t.job.allocateXrefId(),{kind:Et.Context,name:null,view:t.xref},new Jf(t.xref),jn.None)]);for(let n of e.handlerOps)n.kind===g.Statement&&n.statement instanceof It&&(n.statement.value=new hy(n.statement.value))}function qV(t){let e=new Map;for(let n of t.units){let r=0;for(let i of n.create)Ja(i)&&(i.handle.slot=r,e.set(i.xref,i.handle.slot),r+=i.numSlotsUsed);n.decls=r}for(let n of t.units)for(let r of n.ops())if(r.kind===g.Template||r.kind===g.ConditionalCreate||r.kind===g.ConditionalBranchCreate||r.kind===g.RepeaterCreate){let i=t.views.get(r.xref);r.decls=i.decls}}function GV(t){let e=new Set,n=new Map;for(let r of t.units)for(let i of r.ops())i.kind===g.DeclareLet&&n.set(i.xref,i),wt(i,s=>{s instanceof Zu&&e.add(s.target)});for(let r of t.units)for(let i of r.update)Ke(i,s=>s instanceof Ku&&!e.has(s.target)?(zV(s)||I.remove(n.get(s.target)),s.value):s,me.None)}function zV(t){let e=!1;return L(t,n=>((n instanceof Eo||n instanceof ec)&&(e=!0),n),me.None),e}function jV(t){let e=new Set;for(let n of t.units)for(let r of n.ops())wt(r,i=>{if(i instanceof pe)switch(i.operator){case R.Exponentiation:WV(i,e);break;case R.NullishCoalesce:YV(i,e);break;case R.And:case R.Or:JV(i,e)}});for(let n of t.units)for(let r of n.ops())Ke(r,i=>i instanceof fr?e.has(i)?i:i.expr:i,me.None)}function WV(t,e){t.lhs instanceof fr&&t.lhs.expr instanceof uo&&e.add(t.lhs)}function YV(t,e){t.lhs instanceof fr&&(ZT(t.lhs.expr)||t.lhs.expr instanceof qr)&&e.add(t.lhs),t.rhs instanceof fr&&(ZT(t.rhs.expr)||t.rhs.expr instanceof qr)&&e.add(t.rhs)}function JV(t,e){t.lhs instanceof fr&&t.lhs.expr instanceof pe&&t.lhs.expr.operator===R.NullishCoalesce&&e.add(t.lhs)}function ZT(t){return t instanceof pe&&(t.operator===R.And||t.operator===R.Or)}function XV(t){for(let e of t.units)for(let n of e.update)if(n.kind===g.Binding)switch(n.bindingKind){case O.ClassName:if(n.expression instanceof Ge)throw new Error("Unexpected interpolation in ClassName binding");I.replace(n,w2(n.target,n.name,n.expression,n.sourceSpan));break;case O.StyleProperty:I.replace(n,C2(n.target,n.name,n.expression,n.unit,n.sourceSpan));break;case O.Property:case O.Template:n.name==="style"?I.replace(n,_2(n.target,n.expression,n.sourceSpan)):n.name==="class"&&I.replace(n,S2(n.target,n.expression,n.sourceSpan));break}}function QV(t){for(let e of t.units)e.create.prepend(hp(e.create)),e.update.prepend(hp(e.update))}function hp(t){let e=0,n=[];for(let r of t){let i=new Map;wt(r,(u,d)=>{d&me.InChildOperation||u instanceof as&&i.set(u.xref,u)});let s=0,o=new Set,a=new Set,l=new Map;wt(r,(u,d)=>{d&me.InChildOperation||(u instanceof Jr?(o.has(u.xref)||(o.add(u.xref),l.set(u.xref,`tmp_${e}_${s++}`)),eD(l,u)):u instanceof as&&(i.get(u.xref)===u&&(a.add(u.xref),s--),eD(l,u)))}),n.push(...Array.from(new Set(l.values())).map(u=>Qn(new rt(u)))),e++,r.kind===g.Listener||r.kind===g.Animation||r.kind===g.AnimationListener||r.kind===g.TwoWayListener?r.handlerOps.prepend(hp(r.handlerOps)):r.kind===g.RepeaterCreate&&r.trackByOps!==null&&r.trackByOps.prepend(hp(r.trackByOps))}return n}function eD(t,e){let n=t.get(e.xref);if(n===void 0)throw new Error(`Found xref with unassigned name: ${e.xref}`);e.name=n}function KV(t){for(let e of t.units)for(let n of e.create)if(n.kind===g.RepeaterCreate)if(n.track instanceof Jn&&n.track.name==="$index")n.trackByFn=B(y.repeaterTrackByIndex);else if(n.track instanceof Jn&&n.track.name==="$item")n.trackByFn=B(y.repeaterTrackByIdentity);else if(ZV(t.root.xref,n.track))n.usesComponentInstance=!0,n.track.receiver.receiver.view===e.xref?n.trackByFn=n.track.receiver:(n.trackByFn=B(y.componentInstance).callFn([]).prop(n.track.receiver.name),n.track=n.trackByFn);else{n.track=L(n.track,i=>{if(i instanceof Eo||i instanceof ec)throw new Error("Illegal State: Pipes are not allowed in this context");return i instanceof os?(n.usesComponentInstance=!0,new fy(i.view)):i},me.None);let r=new I;r.push(Qn(new It(n.track,n.track.sourceSpan))),n.trackByOps=r}}function ZV(t,e){if(!(e instanceof fn)||e.args.length===0||e.args.length>2||!(e.receiver instanceof Mn&&e.receiver.receiver instanceof os)||e.receiver.receiver.view!==t)return!1;let[n,r]=e.args;return!(n instanceof Jn)||n.name!=="$index"?!1:e.args.length===1?!0:!(!(r instanceof Jn)||r.name!=="$item")}function eU(t){for(let e of t.units)for(let n of e.create)n.kind===g.RepeaterCreate&&(n.track=L(n.track,r=>{if(r instanceof Tt){if(n.varNames.$index.has(r.name))return le("$index");if(r.name===n.varNames.$implicit)return le("$item")}return r},me.None))}function tU(t){for(let e of t.units)for(let n of e.create)n.kind===g.TwoWayListener&&Ke(n,r=>{if(!(r instanceof Xf))return r;let{target:i,value:s}=r;if(i instanceof Mn||i instanceof wi)return jT(i,s).or(i.set(s));if(i instanceof Ci)return jT(i,s);throw new Error("Unsupported expression in two-way action binding.")},me.InChildOperation)}function nU(t){for(let e of t.units){let n=0;for(let r of e.ops())yv(r)&&(n+=rU(r));for(let r of e.ops())wt(r,i=>{Yr(i)&&(t.compatibility===Rn.TemplateDefinitionBuilder&&i instanceof yo||(lT(i)&&(i.varOffset=n),yv(i)&&(n+=tD(i))))});if(t.compatibility===Rn.TemplateDefinitionBuilder)for(let r of e.ops())wt(r,i=>{!Yr(i)||!(i instanceof yo)||(lT(i)&&(i.varOffset=n),yv(i)&&(n+=tD(i)))});e.vars=n}if(t instanceof rc)for(let e of t.units)for(let n of e.create){if(n.kind!==g.Template&&n.kind!==g.RepeaterCreate&&n.kind!==g.ConditionalCreate&&n.kind!==g.ConditionalBranchCreate)continue;let r=t.views.get(n.xref);n.vars=r.vars}}function rU(t){let e;switch(t.kind){case g.Attribute:return e=1,t.expression instanceof Ge&&!iU(t.expression)&&(e+=t.expression.expressions.length),e;case g.Property:case g.DomProperty:return e=1,t.expression instanceof Ge&&(e+=t.expression.expressions.length),e;case g.Control:return 2;case g.TwoWayProperty:return 1;case g.StyleProp:case g.ClassProp:case g.StyleMap:case g.ClassMap:return e=2,t.expression instanceof Ge&&(e+=t.expression.expressions.length),e;case g.InterpolateText:return t.interpolation.expressions.length;case g.I18nExpression:case g.Conditional:case g.DeferWhen:case g.StoreLet:return 1;case g.RepeaterCreate:return t.emptyView?1:0;default:throw new Error(`Unhandled op: ${g[t.kind]}`)}}function tD(t){switch(t.kind){case $.PureFunctionExpr:return 1+t.args.length;case $.PipeBinding:return 1+t.args.length;case $.PipeBindingVariadic:return 1+t.numArgs;case $.StoreLet:return 1;default:throw new Error(`AssertionError: unhandled ConsumesVarsTrait expression ${t.constructor.name}`)}}function iU(t){return!(t.expressions.length!==1||t.strings.length!==2||t.strings[0]!==""||t.strings[1]!=="")}function sU(t){for(let e of t.units){tf(e.create),tf(e.update);for(let n of e.create)n.kind===g.Listener||n.kind===g.Animation||n.kind===g.AnimationListener||n.kind===g.TwoWayListener?tf(n.handlerOps):n.kind===g.RepeaterCreate&&n.trackByOps!==null&&tf(n.trackByOps);nf(e.create,t.compatibility),nf(e.update,t.compatibility);for(let n of e.create)n.kind===g.Listener||n.kind===g.Animation||n.kind===g.AnimationListener||n.kind===g.TwoWayListener?nf(n.handlerOps,t.compatibility):n.kind===g.RepeaterCreate&&n.trackByOps!==null&&nf(n.trackByOps,t.compatibility)}}var pt=(function(t){return t[t.None=0]="None",t[t.ViewContextRead=1]="ViewContextRead",t[t.ViewContextWrite=2]="ViewContextWrite",t[t.SideEffectful=4]="SideEffectful",t})(pt||{});function tf(t){let e=new Map;for(let n of t)n.kind===g.Variable&&n.flags&jn.AlwaysInline&&(wt(n,r=>{if(Yr(r)&&AE(r)!==pt.None)throw new Error("AssertionError: A context-sensitive variable was marked AlwaysInline")}),e.set(n.xref,n)),Ke(n,r=>r instanceof Ci&&e.has(r.xref)?e.get(r.xref).initializer.clone():r,me.None);for(let n of e.values())I.remove(n)}function nf(t,e){let n=new Map,r=new Map,i=new Set,s=new Map;for(let u of t){if(u.kind===g.Variable){if(n.has(u.xref)||r.has(u.xref))throw new Error(`Should not see two declarations of the same variable: ${u.xref}`);n.set(u.xref,u),r.set(u.xref,0)}s.set(u,oU(u)),aU(u,r,i)}let o=!1;for(let u of t.reversed()){let d=s.get(u);if(u.kind===g.Variable&&r.get(u.xref)===0){if(o&&d.fences&pt.ViewContextWrite||d.fences&pt.SideEffectful){let p=Qn(u.initializer.toStmt());s.set(p,d),I.replace(u,p)}else lU(u,r),I.remove(u);s.delete(u),n.delete(u.xref),r.delete(u.xref);continue}d.fences&pt.ViewContextRead&&(o=!0)}let a=[];for(let[u,d]of r){let h=!!(n.get(u).flags&jn.AlwaysInline);d!==1||h||i.has(u)||a.push(u)}let l;for(;l=a.pop();){let u=n.get(l),d=s.get(u);if(!!(u.flags&jn.AlwaysInline))throw new Error("AssertionError: Found an 'AlwaysInline' variable after the always inlining pass.");for(let h=u.next;h.kind!==g.ListEnd;h=h.next){let m=s.get(h);if(m.variablesUsed.has(l)){if(e===Rn.TemplateDefinitionBuilder&&!cU(u,h))break;if(uU(l,u.initializer,h,d.fences)){m.variablesUsed.delete(l);for(let v of d.variablesUsed)m.variablesUsed.add(v);m.fences|=d.fences,n.delete(l),r.delete(l),s.delete(u),I.remove(u)}break}if(!NI(m.fences,d.fences))break}}}function AE(t){switch(t.kind){case $.NextContext:return pt.ViewContextRead|pt.ViewContextWrite;case $.RestoreView:return pt.ViewContextRead|pt.ViewContextWrite|pt.SideEffectful;case $.StoreLet:return pt.SideEffectful;case $.Reference:case $.ContextLetReference:return pt.ViewContextRead;default:return pt.None}}function oU(t){let e=pt.None,n=new Set;return wt(t,r=>{if(Yr(r))switch(r.kind){case $.ReadVariable:n.add(r.xref);break;default:e|=AE(r)}}),{fences:e,variablesUsed:n}}function aU(t,e,n){wt(t,(r,i)=>{if(!Yr(r)||r.kind!==$.ReadVariable)return;let s=e.get(r.xref);s!==void 0&&(e.set(r.xref,s+1),i&me.InChildOperation&&n.add(r.xref))})}function lU(t,e){wt(t,n=>{if(!Yr(n)||n.kind!==$.ReadVariable)return;let r=e.get(n.xref);if(r!==void 0){if(r===0)throw new Error(`Inaccurate variable count: ${n.xref} - found another read but count is already 0`);e.set(n.xref,r-1)}})}function NI(t,e){if(t&pt.ViewContextWrite){if(e&pt.ViewContextRead)return!1}else if(t&pt.ViewContextRead&&e&pt.ViewContextWrite)return!1;return!0}function uU(t,e,n,r){let i=!1,s=!0;return Ke(n,(o,a)=>{if(!Yr(o)||i||!s)return o;if(a&me.InChildOperation&&r&pt.ViewContextRead)return o;switch(o.kind){case $.ReadVariable:if(o.xref===t)return i=!0,e;break;default:let l=AE(o);s=s&&NI(l,r);break}return o},me.None),i}function cU(t,e){switch(t.variable.kind){case Et.Identifier:return t.initializer instanceof Jn&&t.initializer.name==="ctx";case Et.Context:return e.kind===g.Variable;default:return!0}}function dU(t){for(let e of t.units){let n=null,r=null;for(let i of e.create)switch(i.kind){case g.I18nStart:n=i;break;case g.I18nEnd:n=null;break;case g.IcuStart:n===null&&(r=t.allocateXrefId(),I.insertBefore(Ap(r,i.message,void 0,null),i));break;case g.IcuEnd:r!==null&&(I.insertAfter(xp(r,null),i),r=null);break}}}var fU=[{kind:P.Tmpl,fn:UO},{kind:P.Both,fn:ZO},{kind:P.Host,fn:ZL},{kind:P.Tmpl,fn:SO},{kind:P.Tmpl,fn:WO},{kind:P.Tmpl,fn:dU},{kind:P.Both,fn:CL},{kind:P.Both,fn:XV},{kind:P.Both,fn:sL},{kind:P.Both,fn:gL},{kind:P.Both,fn:nL},{kind:P.Tmpl,fn:EL},{kind:P.Both,fn:DO},{kind:P.Tmpl,fn:AV},{kind:P.Both,fn:lL},{kind:P.Both,fn:VO},{kind:P.Tmpl,fn:uL},{kind:P.Tmpl,fn:qO},{kind:P.Tmpl,fn:wL},{kind:P.Tmpl,fn:jO},{kind:P.Both,fn:XO},{kind:P.Tmpl,fn:YL},{kind:P.Tmpl,fn:WL},{kind:P.Tmpl,fn:JL},{kind:P.Tmpl,fn:$V},{kind:P.Both,fn:X2},{kind:P.Both,fn:kV},{kind:P.Tmpl,fn:eU},{kind:P.Tmpl,fn:bV},{kind:P.Both,fn:OV},{kind:P.Tmpl,fn:_L},{kind:P.Tmpl,fn:tU},{kind:P.Tmpl,fn:KV},{kind:P.Both,fn:MV},{kind:P.Both,fn:UV},{kind:P.Tmpl,fn:wO},{kind:P.Both,fn:AL},{kind:P.Both,fn:jV},{kind:P.Both,fn:QV},{kind:P.Both,fn:sU},{kind:P.Both,fn:GV},{kind:P.Tmpl,fn:CO},{kind:P.Tmpl,fn:yL},{kind:P.Tmpl,fn:NV},{kind:P.Tmpl,fn:eL},{kind:P.Tmpl,fn:K2},{kind:P.Tmpl,fn:qV},{kind:P.Tmpl,fn:PV},{kind:P.Tmpl,fn:LV},{kind:P.Tmpl,fn:HL},{kind:P.Tmpl,fn:mO},{kind:P.Tmpl,fn:QL},{kind:P.Both,fn:pL},{kind:P.Tmpl,fn:xV},{kind:P.Both,fn:nU},{kind:P.Tmpl,fn:jL},{kind:P.Both,fn:IO},{kind:P.Tmpl,fn:RV},{kind:P.Tmpl,fn:bO},{kind:P.Tmpl,fn:MO},{kind:P.Tmpl,fn:IL},{kind:P.Tmpl,fn:tL},{kind:P.Tmpl,fn:kO},{kind:P.Both,fn:JO},{kind:P.Both,fn:_V},{kind:P.Both,fn:aL}];function MI(t,e){for(let n of fU)(n.kind===e||n.kind===P.Both)&&n.fn(t)}function pU(t,e){let n=kI(t.root);return RI(t.root,e),n}function RI(t,e){for(let n of t.job.units){if(n.parent!==t.xref)continue;RI(n,e);let r=kI(n);e.statements.push(r.toDeclStmt(r.name))}}function kI(t){if(t.fnName===null)throw new Error(`AssertionError: view ${t.xref} is unnamed`);let e=[];for(let s of t.create){if(s.kind!==g.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${g[s.kind]}`);e.push(s.statement)}let n=[];for(let s of t.update){if(s.kind!==g.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${g[s.kind]}`);n.push(s.statement)}let r=mp(1,e),i=mp(2,n);return es([new Ct("rf"),new Ct("ctx")],[...r,...i],void 0,void 0,t.fnName)}function mp(t,e){return e.length===0?[]:[_p(new pe(R.BitwiseAnd,le("rf"),T(t)),e)]}function hU(t){if(t.root.fnName===null)throw new Error("AssertionError: host binding function is unnamed");let e=[];for(let s of t.root.create){if(s.kind!==g.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${g[s.kind]}`);e.push(s.statement)}let n=[];for(let s of t.root.update){if(s.kind!==g.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${g[s.kind]}`);n.push(s.statement)}if(e.length===0&&n.length===0)return null;let r=mp(1,e),i=mp(2,n);return es([new Ct("rf"),new Ct("ctx")],[...r,...i],void 0,void 0,t.root.fnName)}var PI=Rn.TemplateDefinitionBuilder,so=new Ga,oo="ng-template",mU="animate.";function ff(t){return t instanceof Jt}function gU(t){return ff(t)&&t.nodes.length===1&&t.nodes[0]instanceof Uf}function vU(t,e,n,r,i,s,o,a,l,u){let d=new rc(t,n,PI,r,i,s,o,a,l,u);return Si(d.root,e),d}function yU(t,e,n){let r=new np(t.componentName,n,PI,on.DomOnly);for(let i of t.properties??[]){let s=O.Property;i.name.startsWith("attr.")&&(i.name=i.name.substring(5),s=O.Attribute),i.isLegacyAnimation&&(s=O.LegacyAnimation),i.isAnimation&&(s=O.Animation);let o=e.calcPossibleSecurityContexts(t.componentSelector,i.name,s===O.Attribute).filter(a=>a!==xe.NONE);EU(r,i,s,o)}for(let[i,s]of Object.entries(t.attributes)??[]){let o=e.calcPossibleSecurityContexts(t.componentSelector,i,!0).filter(a=>a!==xe.NONE);CU(r,i,s,o)}for(let i of t.events??[])wU(r,i);return r}function EU(t,e,n,r){let i,s=e.expression.ast;s instanceof hc?i=new Ge(s.strings,s.expressions.map(o=>se(o,t,e.sourceSpan)),[]):i=se(s,t,e.sourceSpan),t.root.update.push(vo(t.root.xref,n,e.name,i,null,r,!1,!1,null,null,e.sourceSpan))}function CU(t,e,n,r){let i=vo(t.root.xref,O.Attribute,e,n,null,r,!0,!1,null,null,n.sourceSpan);t.root.update.push(i)}function wU(t,e){let n;if(e.type===Yt.Animation)n=oI(t.root.xref,new bt,e.name,null,lc(t.root,e.handler,e.handlerSpan),e.name.endsWith("enter")?"enter":"leave",e.targetOrPhase,!0,e.sourceSpan);else{let[r,i]=e.type!==Yt.LegacyAnimation?[null,e.targetOrPhase]:[e.targetOrPhase,null];n=SE(t.root.xref,new bt,e.name,null,lc(t.root,e.handler,e.handlerSpan),r,i,!0,e.sourceSpan)}t.root.create.push(n)}function Si(t,e){for(let n of e)if(n instanceof jr)_U(t,n);else if(n instanceof bn)SU(t,n);else if(n instanceof Fa)TU(t,n);else if(n instanceof Xs)LI(t,n,null);else if(n instanceof ka)FI(t,n,null);else if(n instanceof Bf)DU(t,n);else if(n instanceof Of)IU(t,n);else if(n instanceof mo)AU(t,n);else if(n instanceof MD)bU(t,n);else if(n instanceof La)NU(t,n);else if(n instanceof fE)RU(t,n);else if(!(n instanceof du))throw new Error(`Unsupported template node: ${n.constructor.name}`)}function _U(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof Jt||e.i18n instanceof ns))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=t.job.allocateXrefId(),[r,i]=mr(e.name),s=M2(i,n,pI(r),e.i18n instanceof ns?e.i18n:void 0,e.startSourceSpan,e.sourceSpan);t.create.push(s),PU(t,s,e),VI(s,e);let o=null;e.i18n instanceof Jt&&(o=t.job.allocateXrefId(),t.create.push(Ap(o,e.i18n,void 0,e.startSourceSpan))),Si(t,e.children);let a=k2(n,e.endSourceSpan??e.startSourceSpan);t.create.push(a);let l=e.inputs.find(u=>(u.name==="field"||u.name==="formField")&&u.type===he.Property);l&&t.create.push(Y2(l.sourceSpan)),o!==null&&I.insertBefore(xp(o,e.endSourceSpan??e.startSourceSpan),a)}function SU(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof Jt||e.i18n instanceof ns))throw Error(`Unhandled i18n metadata type for template: ${e.i18n.constructor.name}`);let n=t.job.allocateView(t.xref),r=e.tagName,i="";e.tagName&&([i,r]=mr(e.tagName));let s=e.i18n instanceof ns?e.i18n:void 0,o=pI(i),a=r===null?"":fL(r,o),l=kU(e)?dn.NgTemplate:dn.Structural,u=nI(n.xref,l,r,a,o,s,e.startSourceSpan,e.sourceSpan);t.create.push(u),LU(t,u,e,l),VI(u,e),Si(n,e.children);for(let{name:d,value:p}of e.variables)n.contextVariables.set(d,p!==""?p:"$implicit");if(l===dn.NgTemplate&&e.i18n instanceof Jt){let d=t.job.allocateXrefId();I.insertAfter(Ap(d,e.i18n,void 0,e.startSourceSpan),n.create.head),I.insertBefore(xp(d,e.endSourceSpan??e.startSourceSpan),n.create.tail)}}function TU(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof ns))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=null;e.children.some(s=>!(s instanceof Tp)&&(!(s instanceof Xs)||s.value.trim().length>0))&&(n=t.job.allocateView(t.xref),Si(n,e.children));let r=t.job.allocateXrefId(),i=U2(r,e.selector,e.i18n,n?.xref??null,e.sourceSpan);for(let s of e.attributes){let o=so.securityContext(e.name,s.name,!0);t.update.push(vo(i.xref,O.Attribute,s.name,T(s.value),null,o,!0,!1,null,yi(s.i18n),s.sourceSpan))}t.create.push(i)}function LI(t,e,n){t.create.push(sI(t.job.allocateXrefId(),e.value,n,e.sourceSpan))}function FI(t,e,n){let r=e.value;if(r instanceof un&&(r=r.ast),!(r instanceof hc))throw new Error(`AssertionError: expected Interpolation for BoundText node, got ${r.constructor.name}`);if(e.i18n!==void 0&&!(e.i18n instanceof Ei))throw Error(`Unhandled i18n metadata type for text interpolation: ${e.i18n?.constructor.name}`);let i=e.i18n instanceof Ei?e.i18n.children.filter(a=>a instanceof qu).map(a=>a.name):[];if(i.length>0&&i.length!==r.expressions.length)throw Error(`Unexpected number of i18n placeholders (${r.expressions.length}) for BoundText with ${r.expressions.length} expressions`);let s=t.job.allocateXrefId();t.create.push(sI(s,"",n,e.sourceSpan));let o=t.job.compatibility?null:e.sourceSpan;t.update.push(v2(s,new Ge(r.strings,r.expressions.map(a=>se(a,t.job,o)),i),e.sourceSpan))}function DU(t,e){let n=null,r=[];for(let i=0;i<e.branches.length;i++){let s=e.branches[i],o=t.job.allocateView(t.xref),a=gp(t,o.xref,s);s.expressionAlias!==null&&o.contextVariables.set(s.expressionAlias.name,cI);let l;if(s.i18n!==void 0){if(!(s.i18n instanceof rs))throw Error(`Unhandled i18n metadata type for if block: ${s.i18n?.constructor.name}`);l=s.i18n}let d=(i===0?rI:iI)(o.xref,dn.Block,a,"Conditional",Bt.HTML,l,s.startSourceSpan,s.sourceSpan);t.create.push(d),n===null&&(n=o.xref);let p=s.expression?se(s.expression,t.job,null):null,h=new Kf(p,d.xref,d.handle,s.expressionAlias);r.push(h),Si(o,s.children)}t.update.push(ZD(n,null,r,e.sourceSpan))}function IU(t,e){if(e.cases.length===0)return;let n=null,r=[];for(let i=0;i<e.cases.length;i++){let s=e.cases[i],o=t.job.allocateView(t.xref),a=gp(t,o.xref,s),l;if(s.i18n!==void 0){if(!(s.i18n instanceof rs))throw Error(`Unhandled i18n metadata type for switch block: ${s.i18n?.constructor.name}`);l=s.i18n}let d=(i===0?rI:iI)(o.xref,dn.Block,a,"Case",Bt.HTML,l,s.startSourceSpan,s.sourceSpan);t.create.push(d),n===null&&(n=o.xref);let p=s.expression?se(s.expression,t.job,e.startSourceSpan):null,h=new Kf(p,d.xref,d.handle);r.push(h),Si(o,s.children)}t.update.push(ZD(n,se(e.expression,t.job,null),r,e.sourceSpan))}function rf(t,e,n,r,i){if(n!==void 0&&!(n instanceof rs))throw Error("Unhandled i18n metadata type for defer block");if(r===void 0)return null;let s=t.job.allocateView(t.xref);Si(s,r);let o=nI(s.xref,dn.Block,null,`Defer${e}`,Bt.HTML,n,i,i);return t.create.push(o),o}function AU(t,e){let n=null;if(t.job.deferMeta.mode===0){if(!t.job.deferMeta.blocks.has(e))throw new Error("AssertionError: unable to find a dependency function for this deferred block");n=t.job.deferMeta.blocks.get(e)??null}let r=rf(t,"",e.i18n,e.children,e.sourceSpan),i=rf(t,"Loading",e.loading?.i18n,e.loading?.children,e.loading?.sourceSpan),s=rf(t,"Placeholder",e.placeholder?.i18n,e.placeholder?.children,e.placeholder?.sourceSpan),o=rf(t,"Error",e.error?.i18n,e.error?.children,e.error?.sourceSpan),a=t.job.allocateXrefId(),l=$2(a,r.xref,r.handle,n,t.job.allDeferrableDepsFn,e.sourceSpan);l.placeholderView=s?.xref??null,l.placeholderSlot=s?.handle??null,l.loadingSlot=i?.handle??null,l.errorSlot=o?.handle??null,l.placeholderMinimumTime=e.placeholder?.minimumTime??null,l.loadingMinimumTime=e.loading?.minimumTime??null,l.loadingAfterTime=e.loading?.afterTime??null,l.flags=xU(e),t.create.push(l);let u=[],d=[];Sv("hydrate",e.hydrateTriggers,u,d,t,a),Sv("none",e.triggers,u,d,t,a),Sv("prefetch",e.prefetchTriggers,u,d,t,a),u.some(h=>h.modifier==="none")||d.some(h=>h.modifier==="none")||u.push(Wi(a,{kind:Ae.Idle},"none",null)),t.create.push(u),t.update.push(d)}function xU(t){return Object.keys(t.hydrateTriggers).length>0?1:null}function Sv(t,e,n,r,i,s){if(e.idle!==void 0){let o=Wi(s,{kind:Ae.Idle},t,e.idle.sourceSpan);n.push(o)}if(e.immediate!==void 0){let o=Wi(s,{kind:Ae.Immediate},t,e.immediate.sourceSpan);n.push(o)}if(e.timer!==void 0){let o=Wi(s,{kind:Ae.Timer,delay:e.timer.delay},t,e.timer.sourceSpan);n.push(o)}if(e.hover!==void 0){let o=Wi(s,{kind:Ae.Hover,targetName:e.hover.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},t,e.hover.sourceSpan);n.push(o)}if(e.interaction!==void 0){let o=Wi(s,{kind:Ae.Interaction,targetName:e.interaction.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},t,e.interaction.sourceSpan);n.push(o)}if(e.viewport!==void 0){let o=Wi(s,{kind:Ae.Viewport,targetName:e.viewport.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null,options:e.viewport.options?se(e.viewport.options,i.job,e.viewport.sourceSpan):null},t,e.viewport.sourceSpan);n.push(o)}if(e.never!==void 0){let o=Wi(s,{kind:Ae.Never},t,e.never.sourceSpan);n.push(o)}if(e.when!==void 0){if(e.when.value instanceof hc)throw new Error("Unexpected interpolation in defer block when trigger");let o=I2(s,se(e.when.value,i.job,e.when.sourceSpan),t,e.when.sourceSpan);r.push(o)}}function bU(t,e){if(e.i18n instanceof Jt&&gU(e.i18n)){let n=t.job.allocateXrefId();t.create.push(G2(n,e.i18n,PD(e.i18n).name,null));for(let[r,i]of Object.entries(S(S({},e.vars),e.placeholders)))i instanceof ka?FI(t,i,r):LI(t,i,r);t.create.push(z2(n))}else throw Error(`Unhandled i18n metadata type for ICU: ${e.i18n?.constructor.name}`)}function NU(t,e){let n=t.job.allocateView(t.xref),r=`\u0275$index_${n.xref}`,i=`\u0275$count_${n.xref}`,s=new Set;n.contextVariables.set(e.item.name,e.item.value);for(let E of e.contextVariables)E.value==="$index"&&s.add(E.name),E.name==="$index"?n.contextVariables.set("$index",E.value).set(r,E.value):E.name==="$count"?n.contextVariables.set("$count",E.value).set(i,E.value):n.aliases.add({kind:Et.Alias,name:null,identifier:E.name,expression:MU(E,r,i)});let o=dt(e.trackBy.span,e.sourceSpan),a=se(e.trackBy,t.job,o);Si(n,e.children);let l=null,u=null;e.empty!==null&&(l=t.job.allocateView(t.xref),Si(l,e.empty.children),u=gp(t,l.xref,e.empty));let d={$index:s,$implicit:e.item.name};if(e.i18n!==void 0&&!(e.i18n instanceof rs))throw Error("AssertionError: Unhandled i18n metadata type or @for");if(e.empty?.i18n!==void 0&&!(e.empty.i18n instanceof rs))throw Error("AssertionError: Unhandled i18n metadata type or @empty");let p=e.i18n,h=e.empty?.i18n,m=gp(t,n.xref,e),v=R2(n.xref,l?.xref??null,m,a,d,u,p,h,e.startSourceSpan,e.sourceSpan);t.create.push(v);let C=se(e.expression,t.job,dt(e.expression.span,e.sourceSpan)),w=D2(v.xref,v.handle,C,e.sourceSpan);t.update.push(w)}function MU(t,e,n){switch(t.value){case"$index":return new Tt(e);case"$count":return new Tt(n);case"$first":return new Tt(e).identical(T(0));case"$last":return new Tt(e).identical(new Tt(n).minus(T(1)));case"$even":return new Tt(e).modulo(T(2)).identical(T(0));case"$odd":return new Tt(e).modulo(T(2)).notIdentical(T(0));default:throw new Error(`AssertionError: unknown @for loop variable ${t.value}`)}}function RU(t,e){let n=t.job.allocateXrefId();t.create.push(H2(n,e.name,e.sourceSpan)),t.update.push(x2(n,e.name,se(e.value,t.job,e.valueSpan),e.sourceSpan))}function se(t,e,n){if(t instanceof un)return se(t.ast,e,n);if(t instanceof Vr)return t.receiver instanceof zr?new Tt(t.name):new Mn(se(t.receiver,e,n),t.name,null,dt(t.span,n));if(t instanceof Ma){if(t.receiver instanceof zr)throw new Error("Unexpected ImplicitReceiver");return new fn(se(t.receiver,e,n),t.args.map(r=>se(r,e,n)),void 0,dt(t.span,n))}else{if(t instanceof ln)return T(t.value,void 0,dt(t.span,n));if(t instanceof Sa)switch(t.operator){case"+":return new uo(gu.Plus,se(t.expr,e,n),void 0,dt(t.span,n));case"-":return new uo(gu.Minus,se(t.expr,e,n),void 0,dt(t.span,n));default:throw new Error(`AssertionError: unknown unary operator ${t.operator}`)}else if(t instanceof zt){let r=cL.get(t.operation);if(r===void 0)throw new Error(`AssertionError: unknown binary operator ${t.operation}`);return new pe(r,se(t.left,e,n),se(t.right,e,n),void 0,dt(t.span,n))}else{if(t instanceof Su)return new os(e.root.xref);if(t instanceof po)return new wi(se(t.receiver,e,n),se(t.key,e,n),void 0,dt(t.span,n));if(t instanceof Na)throw new Error("AssertionError: Chain in unknown context");if(t instanceof ho){let r=t.keys.map((i,s)=>{let o=t.values[s];return new xa(i.key,se(o,e,n),i.quoted)});return new Gr(r,void 0,dt(t.span,n))}else{if(t instanceof Iu)return new pr(t.expressions.map(r=>se(r,e,n)));if(t instanceof Af)return new qr(se(t.condition,e,n),se(t.trueExp,e,n),se(t.falseExp,e,n),void 0,dt(t.span,n));if(t instanceof Nu)return se(t.expression,e,n);if(t instanceof xf)return new Eo(e.allocateXrefId(),new bt,t.name,[se(t.exp,e,n),...t.args.map(r=>se(r,e,n))]);if(t instanceof Du)return new $a(se(t.receiver,e,n),se(t.key,e,n),dt(t.span,n));if(t instanceof Tu)return new Ua(se(t.receiver,e,n),t.name);if(t instanceof bf)return new Co(se(t.receiver,e,n),t.args.map(r=>se(r,e,n)));if(t instanceof Gt)return new tc(dt(t.span,n));if(t instanceof Au)return bP(se(t.expression,e,n),dt(t.span,n));if(t instanceof xu)return pc(se(t.expression,e,n));if(t instanceof bu)return new yf(se(t.expression,e,n),void 0,dt(t.span,n));if(t instanceof Ru)return nD(t,e,n);if(t instanceof Mu)return new vu(se(t.tag,e,n),nD(t.template,e,n),void 0,dt(t.span,n));if(t instanceof ku)return new fr(se(t.expression,e,n),void 0,dt(t.span,n));if(t instanceof Mf)return new Aa(t.body,t.flags,n);throw new Error(`Unhandled expression type "${t.constructor.name}" in file "${n?.start.file.url}"`)}}}}function nD(t,e,n){return new Eu(t.elements.map(r=>new Ef(r.text,dt(r.span,n))),t.expressions.map(r=>se(r,e,n)),dt(t.span,n))}function Uy(t,e,n,r){let i;return e instanceof hc?i=new Ge(e.strings,e.expressions.map(s=>se(s,t,null)),Object.keys(yi(n)?.placeholders??{})):e instanceof Le?i=se(e,t,null):i=T(e),i}var OI=new Map([[he.Property,O.Property],[he.TwoWay,O.TwoWayProperty],[he.Attribute,O.Attribute],[he.Class,O.ClassName],[he.Style,O.StyleProperty],[he.LegacyAnimation,O.LegacyAnimation],[he.Animation,O.Animation]]);function kU(t){return mr(t.tagName??"")[1]===oo}function yi(t){if(t==null)return null;if(!(t instanceof Jt))throw Error(`Expected i18n meta to be a Message, but got: ${t.constructor.name}`);return t}function PU(t,e,n){let r=new Array,i=new Set;for(let s of n.attributes){let o=so.securityContext(n.name,s.name,!0);r.push(vo(e.xref,O.Attribute,s.name,Uy(t.job,s.value,s.i18n),null,o,!0,!1,null,yi(s.i18n),s.sourceSpan)),s.i18n&&i.add(s.name)}for(let s of n.inputs)i.has(s.name)&&console.error(`On component ${t.job.componentName}, the binding ${s.name} is both an i18n attribute and a property. You may want to remove the property binding. This will become a compilation error in future versions of Angular.`),r.push(vo(e.xref,OI.get(s.type),s.name,Uy(t.job,uc(s.value),s.i18n),s.unit,s.securityContext,!1,!1,null,yi(s.i18n)??null,s.sourceSpan));t.create.push(r.filter(s=>s?.kind===g.ExtractedAttribute)),t.update.push(r.filter(s=>s?.kind===g.Binding));for(let s of n.outputs){if(s.type===Yt.LegacyAnimation&&s.phase===null)throw Error("Animation listener should have a phase");s.type===Yt.TwoWay?t.create.push(aI(e.xref,e.handle,s.name,e.tag,BI(t,s.handler,s.handlerSpan),s.sourceSpan)):s.type===Yt.Animation?t.create.push(oI(e.xref,e.handle,s.name,e.tag,lc(t,s.handler,s.handlerSpan),s.name.endsWith("enter")?"enter":"leave",s.target,!1,s.sourceSpan)):t.create.push(SE(e.xref,e.handle,s.name,e.tag,lc(t,s.handler,s.handlerSpan),s.phase,s.target,!1,s.sourceSpan))}r.some(s=>s?.i18nMessage)!==null&&t.create.push(uI(t.job.allocateXrefId(),new bt,e.xref))}function LU(t,e,n,r){let i=new Array;for(let s of n.templateAttrs)if(s instanceof Pa){let o=so.securityContext(oo,s.name,!0);i.push(sf(t,e.xref,he.Attribute,s.name,s.value,null,o,!0,r,yi(s.i18n),s.sourceSpan))}else i.push(sf(t,e.xref,s.type,s.name,uc(s.value),s.unit,s.securityContext,!0,r,yi(s.i18n),s.sourceSpan));for(let s of n.attributes){let o=so.securityContext(oo,s.name,!0);i.push(sf(t,e.xref,he.Attribute,s.name,s.value,null,o,!1,r,yi(s.i18n),s.sourceSpan))}for(let s of n.inputs)i.push(sf(t,e.xref,s.type,s.name,uc(s.value),s.unit,s.securityContext,!1,r,yi(s.i18n),s.sourceSpan));t.create.push(i.filter(s=>s?.kind===g.ExtractedAttribute)),t.update.push(i.filter(s=>s?.kind===g.Binding));for(let s of n.outputs){if(s.type===Yt.LegacyAnimation&&s.phase===null)throw Error("Animation listener should have a phase");if(r===dn.NgTemplate&&(s.type===Yt.TwoWay?t.create.push(aI(e.xref,e.handle,s.name,e.tag,BI(t,s.handler,s.handlerSpan),s.sourceSpan)):t.create.push(SE(e.xref,e.handle,s.name,e.tag,lc(t,s.handler,s.handlerSpan),s.phase,s.target,!1,s.sourceSpan))),r===dn.Structural&&s.type!==Yt.LegacyAnimation){let o=so.securityContext(oo,s.name,!1);t.create.push(Sn(e.xref,O.Property,null,s.name,null,null,null,o))}}i.some(s=>s?.i18nMessage)!==null&&t.create.push(uI(t.job.allocateXrefId(),new bt,e.xref))}function sf(t,e,n,r,i,s,o,a,l,u,d){let p=typeof i=="string";if(l===dn.Structural){if(!a)switch(n){case he.Property:case he.Class:case he.Style:return Sn(e,O.Property,null,r,null,null,u,o);case he.TwoWay:return Sn(e,O.TwoWayProperty,null,r,null,null,u,o)}if(!p&&(n===he.Attribute||n===he.LegacyAnimation||n===he.Animation))return null}let h=OI.get(n);return l===dn.NgTemplate&&(n===he.Class||n===he.Style||n===he.Attribute&&!p)&&(h=O.Property),vo(e,h,r,Uy(t.job,i,u),s,o,p,a,l,u,d)}function lc(t,e,n){e=uc(e);let r=new Array,i=e instanceof Na?e.expressions:[e];if(i.length===0)throw new Error("Expected listener to have non-empty expression list.");let s=i.map(a=>se(a,t.job,n)),o=s.pop();return r.push(...s.map(a=>Qn(new Vt(a,a.sourceSpan)))),r.push(Qn(new It(o,o.sourceSpan))),r}function BI(t,e,n){e=uc(e);let r=new Array;if(e instanceof Na)if(e.expressions.length===1)e=e.expressions[0];else throw new Error("Expected two-way listener to have a single expression.");let i=se(e,t.job,n),s=new Tt("$event"),o=new Xf(i,s);return r.push(Qn(new Vt(o))),r.push(Qn(new It(s))),r}function uc(t){return t instanceof un?t.ast:t}function VI(t,e){FU(t.localRefs);for(let{name:n,value:r}of e.references)t.localRefs.push({name:n,target:r})}function FU(t){if(!Array.isArray(t))throw new Error("AssertionError: expected an array")}function dt(t,e){if(e===null)return null;let n=e.start.moveBy(t.start),r=e.start.moveBy(t.end),i=e.fullStart.moveBy(t.start);return new X(n,r,i)}function gp(t,e,n){let r=null;for(let i of n.children)if(!(i instanceof Tp||i instanceof fE)){if(r!==null)return null;if(i instanceof jr||i instanceof bn&&i.tagName!==null)r=i;else return null}if(r!==null){for(let s of r.attributes)if(!s.name.startsWith(mU)){let o=so.securityContext(oo,s.name,!0);t.update.push(vo(e,O.Attribute,s.name,T(s.value),null,o,!0,!1,null,yi(s.i18n),s.sourceSpan))}for(let s of r.inputs)if(s.type!==he.LegacyAnimation&&s.type!==he.Animation&&s.type!==he.Attribute){let o=so.securityContext(oo,s.name,!0);t.create.push(Sn(e,O.Property,null,s.name,null,null,null,o))}let i=r instanceof jr?r.name:r.tagName;return i===oo?null:i}return null}var OU=!1;function BU(){return OU}function vp(t,e){return _p(le(mE).bitwiseAnd(T(t),null),e)}function VU(t){return(t.descendants?1:0)|(t.static?2:0)|(t.emitDistinctChangesOnly?4:0)}function UU(t,e){if(Array.isArray(t.predicate)){let n=[];return t.predicate.forEach(r=>{let i=r.split(",").map(s=>T(s.trim()));n.push(...i)}),e.getConstLiteral(we(n),!0)}else switch(t.predicate.forwardRef){case 0:case 2:return t.predicate.expression;case 1:return B(y.resolveForwardRef).callFn([t.predicate.expression])}}function UI(t,e,n){let r=[];return n!==void 0&&r.push(...n),t.isSignal&&r.push(new Mn(le(Gu),t.propertyName)),r.push(UU(t,e),T(VU(t))),t.read&&r.push(t.read),r}var xE=Symbol("queryAdvancePlaceholder");function $I(t){let e=[],n=0,r=()=>{n>0&&(e.unshift(B(y.queryAdvance).callFn(n===1?[]:[T(n)]).toStmt()),n=0)};for(let i=t.length-1;i>=0;i--){let s=t[i];s===xE?n++:(r(),e.unshift(s))}return r(),e}function $U(t,e,n){let r=[],i=[],s=LD(u=>i.push(u),hE),o=null,a=null;t.forEach(u=>{let d=UI(u,e);if(u.isSignal?(o??=B(y.viewQuerySignal),o=o.callFn(d)):(a??=B(y.viewQuery),a=a.callFn(d)),u.isSignal){i.push(xE);return}let p=s(),h=B(y.loadQuery).callFn([]),m=B(y.queryRefresh).callFn([p.set(h)]),v=le(Gu).prop(u.propertyName).set(u.first?p.prop("first"):p);i.push(m.and(v).toStmt())}),o!==null&&r.push(new Vt(o)),a!==null&&r.push(new Vt(a));let l=n?`${n}_Query`:null;return es([new Ct(mE,uE),new Ct(Gu,null)],[vp(1,r),vp(2,$I(i))],In,null,l)}function HU(t,e,n){let r=[],i=[],s=LD(u=>i.push(u),hE),o=null,a=null;for(let u of t){let d=UI(u,e,[le("dirIndex")]);if(u.isSignal?(o??=B(y.contentQuerySignal),o=o.callFn(d)):(a??=B(y.contentQuery),a=a.callFn(d)),u.isSignal){i.push(xE);continue}let p=s(),h=B(y.loadQuery).callFn([]),m=B(y.queryRefresh).callFn([p.set(h)]),v=le(Gu).prop(u.propertyName).set(u.first?p.prop("first"):p);i.push(m.and(v).toStmt())}o!==null&&r.push(new Vt(o)),a!==null&&r.push(new Vt(a));let l=n?`${n}_ContentQueries`:null;return es([new Ct(mE,uE),new Ct(Gu,null),new Ct("dirIndex",null)],[vp(1,r),vp(2,$I(i))],In,null,l)}var $y=class extends hF{constructor(){super(ky)}parse(e,n,r){return super.parse(e,n,r)}},of=".",qU="attr",Tv="animate",GU="class",zU="style",jU="*",Dv="animate-",Hy=class{_exprParser;_schemaRegistry;errors;constructor(e,n,r){this._exprParser=e,this._schemaRegistry=n,this.errors=r}createBoundHostProperties(e,n){let r=[];for(let i of Object.keys(e)){let s=e[i];typeof s=="string"?this.parsePropertyBinding(i,s,!0,!1,n,n.start.offset,void 0,[],r,n):this._reportError(`Value of the host property binding "${i}" needs to be a string representing an expression but got "${s}" (${typeof s})`,n)}return r}createDirectiveHostEventAsts(e,n){let r=[];for(let i of Object.keys(e)){let s=e[i];typeof s=="string"?this.parseEvent(i,s,!1,n,n,[],r,n):this._reportError(`Value of the host listener "${i}" needs to be a string representing an expression but got "${s}" (${typeof s})`,n)}return r}parseInterpolation(e,n,r){let i=n.fullStart.offset;try{let s=this._exprParser.parseInterpolation(e,n,i,r);return s&&this.errors.push(...s.errors),s}catch(s){return this._reportError(`${s}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",n,i)}}parseInterpolationExpression(e,n){let r=n.start.offset;try{let i=this._exprParser.parseInterpolationExpression(e,n,r);return i&&this.errors.push(...i.errors),i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}parseInlineTemplateBinding(e,n,r,i,s,o,a,l){let u=r.start.offset+jU.length,d=this._parseTemplateBindings(e,n,r,u,i);for(let p of d){let h=zi(r,p.sourceSpan),m=p.key.source,v=zi(r,p.key.span);if(p instanceof Pu){let C=p.value?p.value.source:"$implicit",w=p.value?zi(r,p.value.span):void 0;a.push(new zv(m,C,h,v,w))}else if(p.value){let C=l?h:r,w=zi(r,p.value.ast.sourceSpan);this._parsePropertyAst(m,p.value,!1,C,v,w,s,o)}else s.push([m,""]),this.parseLiteralAttr(m,null,v,i,void 0,s,o,v)}}_parseTemplateBindings(e,n,r,i,s){try{let o=this._exprParser.parseTemplateBindings(e,n,r,i,s);return o.errors.forEach(a=>this.errors.push(a)),o.warnings.forEach(a=>{this._reportError(a,r,Qi.WARNING)}),o.templateBindings}catch(o){return this._reportError(`${o}`,r),[]}}parseLiteralAttr(e,n,r,i,s,o,a,l){Iv(e)?(e=e.substring(1),l!==void 0&&(l=zi(l,new An(l.start.offset+1,l.end.offset))),n&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',r,Qi.ERROR),this._parseLegacyAnimation(e,n,r,i,l,s,o,a)):a.push(new va(e,this._exprParser.wrapLiteralPrimitive(n,"",i),Fr.LITERAL_ATTR,r,l,s))}parsePropertyBinding(e,n,r,i,s,o,a,l,u,d){e.length===0&&this._reportError("Property name is missing in binding",s);let p=!1;e.startsWith(Dv)?(p=!0,e=e.substring(Dv.length),d!==void 0&&(d=zi(d,new An(d.start.offset+Dv.length,d.end.offset)))):Iv(e)&&(p=!0,e=e.substring(1),d!==void 0&&(d=zi(d,new An(d.start.offset+1,d.end.offset)))),p?this._parseLegacyAnimation(e,n,s,o,d,a,l,u):e.startsWith(`${Tv}${of}`)?this._parseAnimation(e,this.parseBinding(n,r,a||s,o),s,d,a,l,u):this._parsePropertyAst(e,this.parseBinding(n,r,a||s,o),i,s,d,a,l,u)}parsePropertyInterpolation(e,n,r,i,s,o,a,l){let u=this.parseInterpolation(n,i||r,l);return u?(this._parsePropertyAst(e,u,!1,r,a,i,s,o),!0):!1}_parsePropertyAst(e,n,r,i,s,o,a,l){a.push([e,n.source]),l.push(new va(e,n,r?Fr.TWO_WAY:Fr.DEFAULT,i,s,o))}_parseAnimation(e,n,r,i,s,o,a){o.push([e,n.source]),a.push(new va(e,n,Fr.ANIMATION,r,i,s))}_parseLegacyAnimation(e,n,r,i,s,o,a,l){e.length===0&&this._reportError("Animation trigger is missing",r);let u=this.parseBinding(n||"undefined",!1,o||r,i);a.push([e,u.source]),l.push(new va(e,u,Fr.LEGACY_ANIMATION,r,s,o))}parseBinding(e,n,r,i){try{let s=n?this._exprParser.parseSimpleBinding(e,r,i):this._exprParser.parseBinding(e,r,i);return s&&this.errors.push(...s.errors),s}catch(s){return this._reportError(`${s}`,r),this._exprParser.wrapLiteralPrimitive("ERROR",r,i)}}createBoundElementProperty(e,n,r=!1,i=!0){if(n.isLegacyAnimation)return new kf(n.name,he.LegacyAnimation,xe.NONE,n.expression,null,n.sourceSpan,n.keySpan,n.valueSpan);let s=null,o,a=null,l=n.name.split(of),u;if(l.length>1)if(l[0]==qU){a=l.slice(1).join(of),r||this._validatePropertyOrAttributeName(a,n.sourceSpan,!0),u=Av(this._schemaRegistry,e,a,!0);let d=a.indexOf(":");if(d>-1){let p=a.substring(0,d),h=a.substring(d+1);a=uf(p,h)}o=he.Attribute}else l[0]==GU?(a=l[1],o=he.Class,u=[xe.NONE]):l[0]==zU?(s=l.length>2?l[2]:null,a=l[1],o=he.Style,u=[xe.STYLE]):l[0]==Tv&&(a=n.name,o=he.Animation,u=[xe.NONE]);if(a===null){let d=this._schemaRegistry.getMappedPropName(n.name);a=i?d:n.name,u=Av(this._schemaRegistry,e,d,!1),o=n.type===Fr.TWO_WAY?he.TwoWay:he.Property,r||this._validatePropertyOrAttributeName(d,n.sourceSpan,!1)}return new kf(a,o,u[0],n.expression,s,n.sourceSpan,n.keySpan,n.valueSpan)}parseEvent(e,n,r,i,s,o,a,l){e.length===0&&this._reportError("Event name is missing in binding",i),Iv(e)?(e=e.slice(1),l!==void 0&&(l=zi(l,new An(l.start.offset+1,l.end.offset))),this._parseLegacyAnimationEvent(e,n,i,s,a,l)):this._parseRegularEvent(e,n,r,i,s,o,a,l)}calcPossibleSecurityContexts(e,n,r){let i=this._schemaRegistry.getMappedPropName(n);return Av(this._schemaRegistry,e,i,r)}parseEventListenerName(e){let[n,r]=VP(e,[null,e]);return{eventName:r,target:n}}parseLegacyAnimationEventName(e){let n=UP(e,[e,null]);return{eventName:n[0],phase:n[1]===null?null:n[1].toLowerCase()}}_parseLegacyAnimationEvent(e,n,r,i,s,o){let{eventName:a,phase:l}=this.parseLegacyAnimationEventName(e),u=this._parseAction(n,i);s.push(new Rf(a,l,Yt.LegacyAnimation,u,r,i,o)),a.length===0&&this._reportError("Animation event name is missing in binding",r),l?l!=="start"&&l!=="done"&&this._reportError(`The provided animation output phase value "${l}" for "@${a}" is not supported (use start or done)`,r):this._reportError(`The animation trigger output event (@${a}) is missing its phase value name (start or done are currently supported)`,r)}_parseRegularEvent(e,n,r,i,s,o,a,l){let{eventName:u,target:d}=this.parseEventListenerName(e),p=this.errors.length,h=this._parseAction(n,s),m=this.errors.length===p;o.push([e,h.source]),r&&m&&!this._isAllowedAssignmentEvent(h)&&this._reportError("Unsupported expression in a two-way binding",i);let v=Yt.Regular;r&&(v=Yt.TwoWay),e.startsWith(`${Tv}${of}`)&&(v=Yt.Animation),a.push(new Rf(u,d,v,h,i,s,l))}_parseAction(e,n){let r=n&&n.start?n.start.offset:0;try{let i=this._exprParser.parseAction(e,n,r);return i&&this.errors.push(...i.errors),!i||i.ast instanceof Gt?(this._reportError("Empty expressions are not allowed",n),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)):i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}_reportError(e,n,r=Qi.ERROR){this.errors.push(new z(n,e,r))}_validatePropertyOrAttributeName(e,n,r){let i=r?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);i.error&&this._reportError(i.msg,n,Qi.ERROR)}_isAllowedAssignmentEvent(e){return e instanceof un?this._isAllowedAssignmentEvent(e.ast):e instanceof Nu?this._isAllowedAssignmentEvent(e.expression):e instanceof Ma&&e.args.length===1&&e.receiver instanceof Vr&&e.receiver.name==="$any"&&e.receiver.receiver instanceof zr?this._isAllowedAssignmentEvent(e.args[0]):(e instanceof Vr||e instanceof po)&&!qy(e)}};function qy(t){return t instanceof Tu||t instanceof Du?!0:t instanceof ku?qy(t.expression):t instanceof Vr||t instanceof po||t instanceof Ma?qy(t.receiver):!1}function Iv(t){return t[0]=="@"}function Av(t,e,n,r){let i,s=o=>t.securityContext(o,n,r);return e===null?i=t.allKnownElementNames().map(s):(i=[],Da.parse(e).forEach(o=>{let a=o.element?[o.element]:t.allKnownElementNames(),l=new Set(o.notSelectors.filter(d=>d.isElementSelector()).map(d=>d.element)),u=a.filter(d=>!l.has(d));i.push(...u.map(s))})),i.length===0?[xe.NONE]:Array.from(new Set(i)).sort()}function zi(t,e){let n=e.start-t.start.offset,r=e.end-t.end.offset;return new X(t.start.moveBy(n),t.end.moveBy(r),t.fullStart.moveBy(n),t.details)}function WU(t){if(t==null||t.length===0||t[0]=="/")return!1;let e=t.match(YU);return e===null||e[1]=="package"||e[1]=="asset"}var YU=/^([^:/?#]+):/,JU="select",XU="link",QU="rel",KU="href",ZU="stylesheet",e$="style",t$="script",n$="ngNonBindable",r$="ngProjectAs";function HI(t){let e=null,n=null,r=null,i=!1,s="";t.attrs.forEach(l=>{let u=l.name.toLowerCase();u==JU?e=l.value:u==KU?n=l.value:u==QU?r=l.value:l.name==n$?i=!0:l.name==r$&&l.value.length>0&&(s=l.value)}),e=i$(e);let o=t.name.toLowerCase(),a=Dn.OTHER;return jv(o)?a=Dn.NG_CONTENT:o==e$?a=Dn.STYLE:o==t$?a=Dn.SCRIPT:o==XU&&r==ZU&&(a=Dn.STYLESHEET),new Gy(a,e,n,i,s)}var Dn=(function(t){return t[t.NG_CONTENT=0]="NG_CONTENT",t[t.STYLE=1]="STYLE",t[t.STYLESHEET=2]="STYLESHEET",t[t.SCRIPT=3]="SCRIPT",t[t.OTHER=4]="OTHER",t})(Dn||{}),Gy=class{type;selectAttr;hrefAttr;nonBindable;projectAs;constructor(e,n,r,i,s){this.type=e,this.selectAttr=n,this.hrefAttr=r,this.nonBindable=i,this.projectAs=s}};function i$(t){return t===null||t.length===0?"*":t}var s$=/^\s*([0-9A-Za-z_$]*)\s+of\s+([\S\s]*)/,o$=/^track\s+([\S\s]*)/,a$=/^(as\s+)(.*)/,bp=/^else[^\S\r\n]+if/,l$=/^let\s+([\S\s]*)/,u$=/^[$A-Z_][0-9A-Z_$]*$/i,rD=/(\s*)(\S+)(\s*)/,mu=new Set(["$index","$first","$last","$even","$odd","$count"]);function iD(t){return t==="empty"}function sD(t){return t==="else"||bp.test(t)}function c$(t,e,n,r){let i=g$(e),s=[],o=oD(t,i,r);o!==null&&s.push(new eo(o.expression,Oe(n,t.children,t.children),o.expressionAlias,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan,t.i18n));for(let p of e)if(bp.test(p.name)){let h=oD(p,i,r);if(h!==null){let m=Oe(n,p.children,p.children);s.push(new eo(h.expression,m,h.expressionAlias,p.sourceSpan,p.startSourceSpan,p.endSourceSpan,p.nameSpan,p.i18n))}}else if(p.name==="else"){let h=Oe(n,p.children,p.children);s.push(new eo(null,h,null,p.sourceSpan,p.startSourceSpan,p.endSourceSpan,p.nameSpan,p.i18n))}let a=s.length>0?s[0].startSourceSpan:t.startSourceSpan,l=s.length>0?s[s.length-1].endSourceSpan:t.endSourceSpan,u=t.sourceSpan,d=s[s.length-1];return d!==void 0&&(u=new X(a.start,d.sourceSpan.end)),{node:new Bf(s,u,t.startSourceSpan,l,t.nameSpan),errors:i}}function d$(t,e,n,r){let i=[],s=p$(t,i,r),o=null,a=null;for(let l of e)l.name==="empty"?a!==null?i.push(new z(l.sourceSpan,"@for loop can only have one @empty block")):l.parameters.length>0?i.push(new z(l.sourceSpan,"@empty block cannot have parameters")):a=new Uu(Oe(n,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n):i.push(new z(l.sourceSpan,`Unrecognized @for loop block "${l.name}"`));if(s!==null)if(s.trackBy===null)i.push(new z(t.startSourceSpan,'@for loop must have a "track" expression'));else{let l=a?.endSourceSpan??t.endSourceSpan,u=new X(t.sourceSpan.start,l?.end??t.sourceSpan.end);h$(s.trackBy.expression,s.trackBy.keywordSpan,i),o=new La(s.itemName,s.expression,s.trackBy.expression,s.trackBy.keywordSpan,s.context,Oe(n,t.children,t.children),a,u,t.sourceSpan,t.startSourceSpan,l,t.nameSpan,t.i18n)}return{node:o,errors:i}}function f$(t,e,n){let r=v$(t),i=t.parameters.length>0?cc(t.parameters[0],n):n.parseBinding("",!1,t.sourceSpan,0),s=[],o=[],a=null;for(let l of t.children){if(!(l instanceof zn))continue;if((l.name!=="case"||l.parameters.length===0)&&l.name!=="default"){o.push(new Vf(l.name,l.sourceSpan,l.nameSpan));continue}let u=l.name==="case"?cc(l.parameters[0],n):null,d=new Vu(u,Oe(e,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n);u===null?a=d:s.push(d)}return a!==null&&s.push(a),{node:new Of(i,s,o,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan),errors:r}}function p$(t,e,n){if(t.parameters.length===0)return e.push(new z(t.startSourceSpan,"@for loop does not have an expression")),null;let[r,...i]=t.parameters,s=y$(r,e)?.match(s$);if(!s||s[2].trim().length===0)return e.push(new z(r.sourceSpan,'Cannot parse expression. @for loop expression must match the pattern "<identifier> of <expression>"')),null;let[,o,a]=s;mu.has(o)&&e.push(new z(r.sourceSpan,`@for loop item name cannot be one of ${Array.from(mu).join(", ")}.`));let l=r.expression.split(" ")[0],u=new X(r.sourceSpan.start,r.sourceSpan.start.moveBy(l.length)),d={itemName:new ts(o,"$implicit",u,u),trackBy:null,expression:cc(r,n,a),context:Array.from(mu,p=>{let h=new X(t.startSourceSpan.end,t.startSourceSpan.end);return new ts(p,p,h,h)})};for(let p of i){let h=p.expression.match(l$);if(h!==null){let v=new X(p.sourceSpan.start.moveBy(h[0].length-h[1].length),p.sourceSpan.end);m$(p.sourceSpan,h[1],v,o,d.context,e);continue}let m=p.expression.match(o$);if(m!==null){if(d.trackBy!==null)e.push(new z(p.sourceSpan,'@for loop can only have one "track" expression'));else{let v=cc(p,n,m[1]);v.ast instanceof Gt&&e.push(new z(t.startSourceSpan,'@for loop must have a "track" expression'));let C=new X(p.sourceSpan.start,p.sourceSpan.start.moveBy(5));d.trackBy={expression:v,keywordSpan:C}}continue}e.push(new z(p.sourceSpan,`Unrecognized @for loop parameter "${p.expression}"`))}return d}function h$(t,e,n){let r=new zy;t.ast.visit(r),r.hasPipe&&n.push(new z(e,"Cannot use pipes in track expressions"))}function m$(t,e,n,r,i,s){let o=e.split(","),a=n.start;for(let l of o){let u=l.split("="),d=u.length===2?u[0].trim():"",p=u.length===2?u[1].trim():"";if(d.length===0||p.length===0)s.push(new z(t,'Invalid @for loop "let" parameter. Parameter should match the pattern "<name> = <variable name>"'));else if(!mu.has(p))s.push(new z(t,`Unknown "let" parameter variable "${p}". The allowed variables are: ${Array.from(mu).join(", ")}`));else if(d===r)s.push(new z(t,`Invalid @for loop "let" parameter. Variable cannot be called "${r}"`));else if(i.some(h=>h.name===d))s.push(new z(t,`Duplicate "let" parameter variable "${p}"`));else{let[,h,m]=u[0].match(rD)??[],v=h!==void 0&&u.length===2?new X(a.moveBy(h.length),a.moveBy(h.length+m.length)):n,C;if(u.length===2){let[,E,D]=u[1].match(rD)??[];C=E!==void 0?new X(a.moveBy(u[0].length+1+E.length),a.moveBy(u[0].length+1+E.length+D.length)):void 0}let w=new X(v.start,C?.end??v.end);i.push(new ts(d,p,w,v,C))}a=a.moveBy(l.length+1)}}function g$(t){let e=[],n=!1;for(let r=0;r<t.length;r++){let i=t[r];i.name==="else"?(n?e.push(new z(i.startSourceSpan,"Conditional can only have one @else block")):t.length>1&&r<t.length-1?e.push(new z(i.startSourceSpan,"@else block must be last inside the conditional")):i.parameters.length>0&&e.push(new z(i.startSourceSpan,"@else block cannot have parameters")),n=!0):bp.test(i.name)||e.push(new z(i.startSourceSpan,`Unrecognized conditional block @${i.name}`))}return e}function v$(t){let e=[],n=!1;if(t.parameters.length!==1)return e.push(new z(t.startSourceSpan,"@switch block must have exactly one parameter")),e;for(let r of t.children)if(!(r instanceof ic||r instanceof wo&&r.value.trim().length===0)){if(!(r instanceof zn)||r.name!=="case"&&r.name!=="default"){e.push(new z(r.sourceSpan,"@switch block can only contain @case and @default blocks"));continue}r.name==="default"?(n?e.push(new z(r.startSourceSpan,"@switch block can only have one @default block")):r.parameters.length>0&&e.push(new z(r.startSourceSpan,"@default block cannot have parameters")),n=!0):r.name==="case"&&r.parameters.length!==1&&e.push(new z(r.startSourceSpan,"@case block must have exactly one parameter"))}return e}function cc(t,e,n){let r,i;return typeof n=="string"?(r=Math.max(0,t.expression.lastIndexOf(n)),i=r+n.length):(r=0,i=t.expression.length),e.parseBinding(t.expression.slice(r,i),!1,t.sourceSpan,t.sourceSpan.start.offset+r)}function oD(t,e,n){if(t.parameters.length===0)return e.push(new z(t.startSourceSpan,"Conditional block does not have an expression")),null;let r=cc(t.parameters[0],n),i=null;for(let s=1;s<t.parameters.length;s++){let o=t.parameters[s],a=o.expression.match(a$);if(a===null)e.push(new z(o.sourceSpan,`Unrecognized conditional parameter "${o.expression}"`));else if(t.name!=="if"&&!bp.test(t.name))e.push(new z(o.sourceSpan,'"as" expression is only allowed on `@if` and `@else if` blocks'));else if(i!==null)e.push(new z(o.sourceSpan,'Conditional can only have one "as" expression'));else{let l=a[2].trim();if(u$.test(l)){let u=o.sourceSpan.start.moveBy(a[1].length),d=new X(u,u.moveBy(l.length));i=new ts(l,l,d,d)}else e.push(new z(o.sourceSpan,'"as" expression must be a valid JavaScript identifier'))}}return{expression:r,expressionAlias:i}}function y$(t,e){let n=t.expression,r=/^\s$/,i=0,s=0,o=n.length-1;for(let a=0;a<n.length;a++){let l=n[a];if(l==="(")s=a+1,i++;else{if(r.test(l))continue;break}}if(i===0)return n;for(let a=n.length-1;a>-1;a--){let l=n[a];if(l===")"){if(o=a,i--,i===0)break}else{if(r.test(l))continue;break}}return i!==0?(e.push(new z(t.sourceSpan,"Unclosed parentheses in expression")),null):n.slice(s,o)}var zy=class extends Ra{hasPipe=!1;visitPipe(){this.hasPipe=!0}},E$=/^\d+\.?\d*(ms|s)?$/,C$=/^\s$/,aD=new Map([[dr,jt],[Ur,vi],[xn,Dt]]),Wt=(function(t){return t.IDLE="idle",t.TIMER="timer",t.INTERACTION="interaction",t.IMMEDIATE="immediate",t.HOVER="hover",t.VIEWPORT="viewport",t.NEVER="never",t})(Wt||{});function w$({expression:t,sourceSpan:e},n,r){let i=t.indexOf("never"),s=new X(e.start.moveBy(i),e.start.moveBy(i+5)),o=bE(t,e),a=NE(t,e);i===-1?r.push(new z(e,'Could not find "never" keyword in expression')):ME("never",n,r,new Xv(s,e,o,null,a))}function xv({expression:t,sourceSpan:e},n,r,i){let s=t.indexOf("when"),o=new X(e.start.moveBy(s),e.start.moveBy(s+4)),a=bE(t,e),l=NE(t,e);if(s===-1)i.push(new z(e,'Could not find "when" keyword in expression'));else{let u=dc(t,s+1),d=n.parseBinding(t.slice(u),!1,e,e.start.offset+u);ME("when",r,i,new Pf(d,e,a,o,l))}}function bv({expression:t,sourceSpan:e},n,r,i,s){let o=t.indexOf("on"),a=new X(e.start.moveBy(o),e.start.moveBy(o+2)),l=bE(t,e),u=NE(t,e);if(o===-1)i.push(new z(e,'Could not find "on" keyword in expression'));else{let d=dc(t,o+1),p=t.startsWith("hydrate");new jy(t,n,d,e,r,i,p?b$:x$,p,l,a,u).parse()}}function bE(t,e){return t.startsWith("prefetch")?new X(e.start,e.start.moveBy(8)):null}function NE(t,e){return t.startsWith("hydrate")?new X(e.start,e.start.moveBy(7)):null}var jy=class{expression;bindingParser;start;span;triggers;errors;validator;isHydrationTrigger;prefetchSpan;onSourceSpan;hydrateSpan;index=0;tokens;constructor(e,n,r,i,s,o,a,l,u,d,p){this.expression=e,this.bindingParser=n,this.start=r,this.span=i,this.triggers=s,this.errors=o,this.validator=a,this.isHydrationTrigger=l,this.prefetchSpan=u,this.onSourceSpan=d,this.hydrateSpan=p,this.tokens=new ac().tokenize(e.slice(r))}parse(){for(;this.tokens.length>0&&this.index<this.tokens.length;){let e=this.token();if(!e.isIdentifier()){this.unexpectedToken(e);break}if(this.isFollowedByOrLast(cn))this.consumeTrigger(e,[]),this.advance();else if(this.isFollowedByOrLast(xn)){this.advance();let n=this.errors.length,r=this.consumeParameters();if(this.errors.length!==n)break;this.consumeTrigger(e,r),this.advance()}else this.index<this.tokens.length-1&&this.unexpectedToken(this.tokens[this.index+1]);this.advance()}}advance(){this.index++}isFollowedByOrLast(e){return this.index===this.tokens.length-1?!0:this.tokens[this.index+1].isCharacter(e)}token(){return this.tokens[Math.min(this.index,this.tokens.length-1)]}consumeTrigger(e,n){let r=this.span.start.moveBy(this.start+e.index-this.tokens[0].index),i=new X(r,r.moveBy(e.strValue.length)),s=r.moveBy(this.token().end-e.index),o=e.index===0,a=o?this.onSourceSpan:null,l=o?this.prefetchSpan:null,u=o?this.hydrateSpan:null,d=new X(o?this.span.start:r,s);try{switch(e.toString()){case Wt.IDLE:this.trackTrigger("idle",_$(n,i,d,l,a,u));break;case Wt.TIMER:this.trackTrigger("timer",S$(n,i,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case Wt.INTERACTION:this.trackTrigger("interaction",I$(n,i,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;case Wt.IMMEDIATE:this.trackTrigger("immediate",T$(n,i,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case Wt.HOVER:this.trackTrigger("hover",D$(n,i,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;case Wt.VIEWPORT:this.trackTrigger("viewport",A$(this.start,this.isHydrationTrigger,this.bindingParser,n,i,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;default:throw new Error(`Unrecognized trigger type "${e}"`)}}catch(p){this.error(e,p.message)}}consumeParameters(){let e=[];if(!this.token().isCharacter(xn))return this.unexpectedToken(this.token()),e;this.advance();let n=[],r=[];for(;this.index<this.tokens.length;){let i=this.token();if(i.isCharacter(Dt)&&n.length===0){r.length&&e.push({expression:this.tokenRangeText(r),start:r[0].index});break}if(i.type===j.Character&&aD.has(i.numValue)&&n.push(aD.get(i.numValue)),n.length>0&&i.isCharacter(n[n.length-1])&&n.pop(),n.length===0&&i.isCharacter(cn)&&r.length>0){e.push({expression:this.tokenRangeText(r),start:r[0].index}),this.advance(),r=[];continue}r.push(i),this.advance()}return(!this.token().isCharacter(Dt)||n.length>0)&&this.error(this.token(),"Unexpected end of expression"),this.index<this.tokens.length-1&&!this.tokens[this.index+1].isCharacter(cn)&&this.unexpectedToken(this.tokens[this.index+1]),e}tokenRangeText(e){return e.length===0?"":this.expression.slice(this.start+e[0].index,this.start+e[e.length-1].end)}trackTrigger(e,n){ME(e,this.triggers,this.errors,n)}error(e,n){let r=this.span.start.moveBy(this.start+e.index),i=r.moveBy(e.end-e.index);this.errors.push(new z(new X(r,i),n))}unexpectedToken(e){this.error(e,`Unexpected token "${e}"`)}};function ME(t,e,n,r){e[t]?n.push(new z(r.sourceSpan,`Duplicate "${t}" trigger is not allowed`)):e[t]=r}function _$(t,e,n,r,i,s){if(t.length>0)throw new Error(`"${Wt.IDLE}" trigger cannot have parameters`);return new Qv(e,n,r,i,s)}function S$(t,e,n,r,i,s){if(t.length!==1)throw new Error(`"${Wt.TIMER}" trigger must have exactly one parameter`);let o=yp(t[0].expression);if(o===null)throw new Error(`Could not parse time value of trigger "${Wt.TIMER}"`);return new Zv(o,e,n,r,i,s)}function T$(t,e,n,r,i,s){if(t.length>0)throw new Error(`"${Wt.IMMEDIATE}" trigger cannot have parameters`);return new Kv(e,n,r,i,s)}function D$(t,e,n,r,i,s,o){return o(Wt.HOVER,t),new Lf(t[0]?.expression??null,e,n,r,i,s)}function I$(t,e,n,r,i,s,o){return o(Wt.INTERACTION,t),new Ff(t[0]?.expression??null,e,n,r,i,s)}function A$(t,e,n,r,i,s,o,a,l,u){u(Wt.VIEWPORT,r);let d,p;if(r.length===0)d=p=null;else if(!r[0].expression.startsWith("{"))d=r[0].expression,p=null;else{let h=n.parseBinding(r[0].expression,!1,s,s.start.offset+t+r[0].start);if(h.ast instanceof ho){if(h.ast.keys.some(v=>v.key==="root"))throw new Error('The "root" option is not supported in the options parameter of the "viewport" trigger')}else throw new Error('Options parameter of the "viewport" trigger must be an object literal');let m=h.ast.keys.findIndex(v=>v.key==="trigger");if(m===-1)d=null,p=h.ast;else{let v=h.ast.values[m],C=(w,E)=>E!==m;if(!(v instanceof Vr)||!(v.receiver instanceof zr))throw new Error('"trigger" option of the "viewport" trigger must be an identifier');d=v.name,p=new ho(h.ast.span,h.ast.sourceSpan,h.ast.keys.filter(C),h.ast.values.filter(C))}}if(e&&d!==null)throw new Error('"viewport" hydration trigger cannot have a "trigger"');if(p){let h=Wy.findDynamicNode(p);if(h!==null)throw new Error(`Options of the "viewport" trigger must be an object literal containing only literal values, but "${h.constructor.name}" was found`)}return new Lu(d,p,i,s,o,a,l)}function x$(t,e){if(e.length>1)throw new Error(`"${t}" trigger can only have zero or one parameters`)}function b$(t,e){if(t===Wt.VIEWPORT){if(e.length>1)throw new Error(`Hydration trigger "${t}" cannot have more than one parameter`);return}if(e.length>0)throw new Error(`Hydration trigger "${t}" cannot have parameters`)}function dc(t,e=0){let n=!1;for(let r=e;r<t.length;r++)if(C$.test(t[r]))n=!0;else if(n)return r;return-1}function yp(t){let e=t.match(E$);if(!e)return null;let[n,r]=e;return parseFloat(n)*(r==="s"?1e3:1)}var Wy=class t extends Ra{dynamicNode=null;static findDynamicNode(e){let n=new t;return n.visit(e),n.dynamicNode}visit(e){!(e instanceof un)&&!(e instanceof ln)&&!(e instanceof Iu)&&!(e instanceof ho)?this.dynamicNode=e:super.visit(e)}},N$=/^prefetch\s+when\s/,M$=/^prefetch\s+on\s/,R$=/^hydrate\s+when\s/,k$=/^hydrate\s+on\s/,P$=/^hydrate\s+never(\s*)$/,qI=/^minimum\s/,L$=/^after\s/,F$=/^when\s/,O$=/^on\s/;function Yy(t){return t==="placeholder"||t==="loading"||t==="error"}function B$(t,e,n,r){let i=[],{placeholder:s,loading:o,error:a}=V$(e,i,n),{triggers:l,prefetchTriggers:u,hydrateTriggers:d}=q$(t,r,i),p=t.endSourceSpan,h=t.sourceSpan.end;if(e.length>0){let C=e[e.length-1];p=C.endSourceSpan,h=C.sourceSpan.end}let m=new X(t.sourceSpan.start,h);return{node:new mo(Oe(n,t.children,t.children),l,u,d,s,o,a,t.nameSpan,m,t.sourceSpan,t.startSourceSpan,p,t.i18n),errors:i}}function V$(t,e,n){let r=null,i=null,s=null;for(let o of t)try{if(!Yy(o.name)){e.push(new z(o.startSourceSpan,`Unrecognized block "@${o.name}"`));break}switch(o.name){case"placeholder":r!==null?e.push(new z(o.startSourceSpan,"@defer block can only have one @placeholder block")):r=U$(o,n);break;case"loading":i!==null?e.push(new z(o.startSourceSpan,"@defer block can only have one @loading block")):i=$$(o,n);break;case"error":s!==null?e.push(new z(o.startSourceSpan,"@defer block can only have one @error block")):s=H$(o,n);break}}catch(a){e.push(new z(o.startSourceSpan,a.message))}return{placeholder:r,loading:i,error:s}}function U$(t,e){let n=null;for(let r of t.parameters)if(qI.test(r.expression)){if(n!=null)throw new Error('@placeholder block can only have one "minimum" parameter');let i=yp(r.expression.slice(dc(r.expression)));if(i===null)throw new Error('Could not parse time value of parameter "minimum"');n=i}else throw new Error(`Unrecognized parameter in @placeholder block: "${r.expression}"`);return new Fu(Oe(e,t.children,t.children),n,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function $$(t,e){let n=null,r=null;for(let i of t.parameters)if(L$.test(i.expression)){if(n!=null)throw new Error('@loading block can only have one "after" parameter');let s=yp(i.expression.slice(dc(i.expression)));if(s===null)throw new Error('Could not parse time value of parameter "after"');n=s}else if(qI.test(i.expression)){if(r!=null)throw new Error('@loading block can only have one "minimum" parameter');let s=yp(i.expression.slice(dc(i.expression)));if(s===null)throw new Error('Could not parse time value of parameter "minimum"');r=s}else throw new Error(`Unrecognized parameter in @loading block: "${i.expression}"`);return new Ou(Oe(e,t.children,t.children),n,r,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function H$(t,e){if(t.parameters.length>0)throw new Error("@error block cannot have parameters");return new Bu(Oe(e,t.children,t.children),t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function q$(t,e,n,r){let i={},s={},o={};for(let a of t.parameters)F$.test(a.expression)?xv(a,e,i,n):O$.test(a.expression)?bv(a,e,i,n):N$.test(a.expression)?xv(a,e,s,n):M$.test(a.expression)?bv(a,e,s,n):R$.test(a.expression)?xv(a,e,o,n):k$.test(a.expression)?bv(a,e,o,n):P$.test(a.expression)?w$(a,o,n):n.push(new z(a.sourceSpan,"Unrecognized trigger"));return o.never&&Object.keys(o).length>1&&n.push(new z(t.startSourceSpan,"Cannot specify additional `hydrate` triggers if `hydrate never` is present")),{triggers:i,prefetchTriggers:s,hydrateTriggers:o}}var G$=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,lD=1,uD=2,cD=3,dD=4,fD=5,z$=6,ru=7,ji={BANANA_BOX:{start:"[(",end:")]"},PROPERTY:{start:"[",end:"]"},EVENT:{start:"(",end:")"}},Nv="*",j$=new Set(["link","style","script","ng-template","ng-container","ng-content"]),W$=new Set(["ngProjectAs","ngNonBindable"]);function Y$(t,e,n){let r=new Jy(e,n),i=Oe(r,t,t),s=e.errors.concat(r.errors),o={nodes:i,errors:s,styleUrls:r.styleUrls,styles:r.styles,ngContentSelectors:r.ngContentSelectors};return n.collectCommentNodes&&(o.commentNodes=r.commentNodes),o}var Jy=class{bindingParser;options;errors=[];styles=[];styleUrls=[];ngContentSelectors=[];commentNodes=[];inI18nBlock=!1;processedNodes=new Set;constructor(e,n){this.bindingParser=e,this.options=n}visitElement(e){let n=ff(e.i18n);n&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);let r=HI(e);if(r.type===Dn.SCRIPT)return null;if(r.type===Dn.STYLE){let E=J$(e);return E!==null&&this.styles.push(E),null}else if(r.type===Dn.STYLESHEET&&WU(r.hrefAttr))return this.styleUrls.push(r.hrefAttr),null;let i=a1(e.name),{attributes:s,boundEvents:o,references:a,variables:l,templateVariables:u,elementHasInlineTemplate:d,parsedProperties:p,templateParsedProperties:h,i18nAttrsMeta:m}=this.prepareAttributes(e.attrs,i),v=this.extractDirectives(e),C;r.nonBindable?C=Oe(pD,e.children).flat(1/0):C=Oe(this,e.children,e.children);let w;if(r.type===Dn.NG_CONTENT){let E=r.selectAttr,D=e.attrs.map(M=>this.visitAttribute(M));w=new Fa(E,D,C,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n),this.ngContentSelectors.push(E)}else if(i){let E=this.categorizePropertyAttributes(e.name,p,m);w=new bn(e.name,s,E.bound,o,v,[],C,a,l,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{let E=this.categorizePropertyAttributes(e.name,p,m);if(e.name==="ng-container")for(let D of E.bound)D.type===he.Attribute&&this.reportError("Attribute bindings are not supported on ng-container. Use property bindings instead.",D.sourceSpan);w=new jr(e.name,s,E.bound,o,v,C,a,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n)}return d&&(w=this.wrapInTemplate(w,h,u,m,i,n)),n&&(this.inI18nBlock=!1),w}visitAttribute(e){return new Pa(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this.processedNodes.has(e)?null:this._visitTextWithInterpolation(e.value,e.sourceSpan,e.tokens,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!ff(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);let n=e.i18n,r={},i={};return Object.keys(n.placeholders).forEach(s=>{let o=n.placeholders[s];if(s.startsWith(d1)){let a=s.trim(),l=this.bindingParser.parseInterpolationExpression(o.text,o.sourceSpan);r[a]=new ka(l,o.sourceSpan)}else i[s]=this._visitTextWithInterpolation(o.text,o.sourceSpan,null)}),new MD(r,i,e.sourceSpan,n)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new Tp(e.value||"",e.sourceSpan)),null}visitLetDeclaration(e,n){let r=this.bindingParser.parseBinding(e.value,!1,e.valueSpan,e.valueSpan.start.offset);return r.errors.length===0&&r.ast instanceof Gt&&this.reportError("@let declaration value cannot be empty",e.valueSpan),new fE(e.name,r,e.sourceSpan,e.nameSpan,e.valueSpan)}visitComponent(e){let n=ff(e.i18n);if(n&&(this.inI18nBlock&&this.reportError("Cannot mark a component as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0),e.tagName!==null&&j$.has(e.tagName))return this.reportError(`Tag name "${e.tagName}" cannot be used as a component tag`,e.startSourceSpan),null;let{attributes:r,boundEvents:i,references:s,templateVariables:o,elementHasInlineTemplate:a,parsedProperties:l,templateParsedProperties:u,i18nAttrsMeta:d}=this.prepareAttributes(e.attrs,!1);this.validateSelectorlessReferences(s);let p=this.extractDirectives(e),h;e.attrs.find(C=>C.name==="ngNonBindable")?h=Oe(pD,e.children).flat(1/0):h=Oe(this,e.children,e.children);let m=this.categorizePropertyAttributes(e.tagName,l,d),v=new du(e.componentName,e.tagName,e.fullName,r,m.bound,i,p,h,s,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return a&&(v=this.wrapInTemplate(v,u,o,d,!1,n)),n&&(this.inI18nBlock=!1),v}visitDirective(){return null}visitBlockParameter(){return null}visitBlock(e,n){let r=Array.isArray(n)?n.indexOf(e):-1;if(r===-1)throw new Error("Visitor invoked incorrectly. Expecting visitBlock to be invoked siblings array as its context");if(this.processedNodes.has(e))return null;let i=null;switch(e.name){case"defer":i=B$(e,this.findConnectedBlocks(r,n,Yy),this,this.bindingParser);break;case"switch":i=f$(e,this,this.bindingParser);break;case"for":i=d$(e,this.findConnectedBlocks(r,n,iD),this,this.bindingParser);break;case"if":i=c$(e,this.findConnectedBlocks(r,n,sD),this,this.bindingParser);break;default:let s;Yy(e.name)?(s=`@${e.name} block can only be used after an @defer block.`,this.processedNodes.add(e)):iD(e.name)?(s=`@${e.name} block can only be used after an @for block.`,this.processedNodes.add(e)):sD(e.name)?(s=`@${e.name} block can only be used after an @if or @else if block.`,this.processedNodes.add(e)):s=`Unrecognized block @${e.name}.`,i={node:new Vf(e.name,e.sourceSpan,e.nameSpan),errors:[new z(e.sourceSpan,s)]};break}return this.errors.push(...i.errors),i.node}findConnectedBlocks(e,n,r){let i=[];for(let s=e+1;s<n.length;s++){let o=n[s];if(!(o instanceof ic)){if(o instanceof wo&&o.value.trim().length===0){this.processedNodes.add(o);continue}if(!(o instanceof zn)||!r(o.name))break;i.push(o),this.processedNodes.add(o)}}return i}categorizePropertyAttributes(e,n,r){let i=[],s=[];return n.forEach(o=>{let a=r[o.name];if(o.isLiteral)s.push(new Pa(o.name,o.expression.source||"",o.sourceSpan,o.keySpan,o.valueSpan,a));else{let l=this.bindingParser.createBoundElementProperty(e,o,!0,!1);i.push(Yv.fromBoundElementProperty(l,a))}}),{bound:i,literal:s}}prepareAttributes(e,n){let r=[],i=[],s=[],o=[],a=[],l={},u=[],d=[],p=!1;for(let h of e){let m=!1,v=hD(h.name),C=!1;if(h.i18n&&(l[h.name]=h.i18n),v.startsWith(Nv)){p&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",h.sourceSpan),C=!0,p=!0;let w=h.value,E=v.substring(Nv.length),D=[],M=h.valueSpan?h.valueSpan.fullStart.offset:h.sourceSpan.fullStart.offset+h.name.length;this.bindingParser.parseInlineTemplateBinding(E,w,h.sourceSpan,M,[],u,D,!0),d.push(...D.map(x=>new ts(x.name,x.value,x.sourceSpan,x.keySpan,x.valueSpan)))}else m=this.parseAttribute(n,h,[],r,i,s,o);!m&&!C&&a.push(this.visitAttribute(h))}return{attributes:a,boundEvents:i,references:o,variables:s,templateVariables:d,elementHasInlineTemplate:p,parsedProperties:r,templateParsedProperties:u,i18nAttrsMeta:l}}parseAttribute(e,n,r,i,s,o,a){let l=hD(n.name),u=n.value,d=n.sourceSpan,p=n.valueSpan?n.valueSpan.fullStart.offset:d.fullStart.offset;function h(E,D,M){let x=n.name.length-l.length,U=E.start.moveBy(D.length+x),ee=U.moveBy(M.length);return new X(U,ee,U,M)}let m=l.match(G$);if(m){if(m[lD]!=null){let E=m[ru],D=h(d,m[lD],E);this.bindingParser.parsePropertyBinding(E,u,!1,!1,d,p,n.valueSpan,r,i,D)}else if(m[uD])if(e){let E=m[ru],D=h(d,m[uD],E);this.parseVariable(E,u,d,D,n.valueSpan,o)}else this.reportError('"let-" is only supported on ng-template elements.',d);else if(m[cD]){let E=m[ru],D=h(d,m[cD],E);this.parseReference(E,u,d,D,n.valueSpan,a)}else if(m[dD]){let E=[],D=m[ru],M=h(d,m[dD],D);this.bindingParser.parseEvent(D,u,!1,d,n.valueSpan||d,r,E,M),Mv(E,s)}else if(m[fD]){let E=m[ru],D=h(d,m[fD],E);this.bindingParser.parsePropertyBinding(E,u,!1,!0,d,p,n.valueSpan,r,i,D),this.parseAssignmentEvent(E,u,d,n.valueSpan,r,s,D,p)}else if(m[z$]){let E=h(d,"",l);this.bindingParser.parseLiteralAttr(l,u,d,p,n.valueSpan,r,i,E)}return!0}let v=null;if(l.startsWith(ji.BANANA_BOX.start)?v=ji.BANANA_BOX:l.startsWith(ji.PROPERTY.start)?v=ji.PROPERTY:l.startsWith(ji.EVENT.start)&&(v=ji.EVENT),v!==null&&l.endsWith(v.end)&&l.length>v.start.length+v.end.length){let E=l.substring(v.start.length,l.length-v.end.length),D=h(d,v.start,E);if(v.start===ji.BANANA_BOX.start)this.bindingParser.parsePropertyBinding(E,u,!1,!0,d,p,n.valueSpan,r,i,D),this.parseAssignmentEvent(E,u,d,n.valueSpan,r,s,D,p);else if(v.start===ji.PROPERTY.start)this.bindingParser.parsePropertyBinding(E,u,!1,!1,d,p,n.valueSpan,r,i,D);else{let M=[];this.bindingParser.parseEvent(E,u,!1,d,n.valueSpan||d,r,M,D),Mv(M,s)}return!0}let C=h(d,"",l);return this.bindingParser.parsePropertyInterpolation(l,u,d,n.valueSpan,r,i,C,n.valueTokens??null)}extractDirectives(e){let n=e instanceof an?e.tagName:e.name,r=[],i=new Set;for(let s of e.directives){let o=!1;for(let m of s.attrs)m.name.startsWith(Nv)?(o=!0,this.reportError(`Shorthand template syntax "${m.name}" is not supported inside a directive context`,m.sourceSpan)):W$.has(m.name)&&(o=!0,this.reportError(`Attribute "${m.name}" is not supported in a directive context`,m.sourceSpan));if(!o&&i.has(s.name)&&(o=!0,this.reportError(`Cannot apply directive "${s.name}" multiple times on the same element`,s.sourceSpan)),o)continue;let{attributes:a,parsedProperties:l,boundEvents:u,references:d,i18nAttrsMeta:p}=this.prepareAttributes(s.attrs,!1);this.validateSelectorlessReferences(d);let{bound:h}=this.categorizePropertyAttributes(n,l,p);for(let m of h)m.type!==he.Property&&m.type!==he.TwoWay&&(o=!0,this.reportError("Binding is not supported in a directive context",m.sourceSpan));o||(i.add(s.name),r.push(new ND(s.name,a,h,u,d,s.sourceSpan,s.startSourceSpan,s.endSourceSpan,void 0)))}return r}filterAnimationAttributes(e){return e.filter(n=>!n.name.startsWith("animate."))}filterAnimationInputs(e){return e.filter(n=>n.type!==he.Animation)}wrapInTemplate(e,n,r,i,s,o){let a=this.categorizePropertyAttributes("ng-template",n,i),l=[];a.literal.forEach(h=>l.push(h)),a.bound.forEach(h=>l.push(h));let u={attributes:[],inputs:[],outputs:[]};(e instanceof jr||e instanceof du)&&(u.attributes.push(...this.filterAnimationAttributes(e.attributes)),u.inputs.push(...this.filterAnimationInputs(e.inputs)),u.outputs.push(...e.outputs));let d=s&&o?void 0:e.i18n,p;return e instanceof du?p=e.tagName:e instanceof bn?p=null:p=e.name,new bn(p,u.attributes,u.inputs,u.outputs,[],l,[e],[],r,!1,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,d)}_visitTextWithInterpolation(e,n,r,i){let s=EI(e),o=this.bindingParser.parseInterpolation(s,n,r);return o?new ka(o,n,i):new Xs(s,n)}parseVariable(e,n,r,i,s,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',r):e.length===0&&this.reportError("Variable does not have a name",r),o.push(new ts(e,n,r,i,s))}parseReference(e,n,r,i,s,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',r):e.length===0?this.reportError("Reference does not have a name",r):o.some(a=>a.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,r),o.push(new $u(e,n,r,i,s))}parseAssignmentEvent(e,n,r,i,s,o,a,l){let u=[];this.bindingParser.parseEvent(`${e}Change`,n,!0,r,i||r,s,u,a),Mv(u,o)}validateSelectorlessReferences(e){if(e.length===0)return;let n=new Set;for(let r of e)r.value.length>0?this.reportError("Cannot specify a value for a local reference in this context",r.valueSpan||r.sourceSpan):n.has(r.name)?this.reportError("Duplicate reference names are not allowed",r.sourceSpan):n.add(r.name)}reportError(e,n,r=Qi.ERROR){this.errors.push(new z(n,e,r))}},Xy=class{visitElement(e){let n=HI(e);if(n.type===Dn.SCRIPT||n.type===Dn.STYLE||n.type===Dn.STYLESHEET)return null;let r=Oe(this,e.children,null);return new jr(e.name,Oe(this,e.attrs),[],[],[],r,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid)}visitComment(e){return null}visitAttribute(e){return new Pa(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new Xs(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}visitBlock(e,n){let r=[new Xs(e.startSourceSpan.toString(),e.startSourceSpan),...Oe(this,e.children)];return e.endSourceSpan!==null&&r.push(new Xs(e.endSourceSpan.toString(),e.endSourceSpan)),r}visitBlockParameter(e,n){return null}visitLetDeclaration(e,n){return new Xs(`@let ${e.name} = ${e.value};`,e.sourceSpan)}visitComponent(e,n){let r=Oe(this,e.children,null);return new jr(e.fullName,Oe(this,e.attrs),[],[],[],r,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,!1)}visitDirective(e,n){return null}},pD=new Xy;function hD(t){return/^data-/i.test(t)?t.substring(5):t}function Mv(t,e){e.push(...t.map(n=>Jv.fromParsedEvent(n)))}function J$(t){return t.children.length!==1||!(t.children[0]instanceof wo)?null:t.children[0].value}var X$=[" ",`
`,"\r","	"];function Q$(t,e,n={}){let{preserveWhitespaces:r,enableI18nLegacyMessageIdFormat:i}=n,s=n.enableSelectorless??!1,o=Ep(s),l=new $y().parse(t,e,G(S({leadingTriviaChars:X$},n),{tokenizeExpansionForms:!0,tokenizeBlocks:n.enableBlockSyntax??!0,tokenizeLet:n.enableLetSyntax??!0,selectorlessEnabled:s}));if(!n.alwaysAttemptHtmlToR3AstConversion&&l.errors&&l.errors.length>0){let x={preserveWhitespaces:r,errors:l.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(x.commentNodes=[]),x}let u=l.rootNodes,d=!(n.preserveSignificantWhitespace??!0),p=new cp(!r,i,n.preserveSignificantWhitespace,d),h=p.visitAllWithErrors(u);if(!n.alwaysAttemptHtmlToR3AstConversion&&h.errors&&h.errors.length>0){let x={preserveWhitespaces:r,errors:h.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(x.commentNodes=[]),x}u=h.rootNodes,r||(u=Oe(new lp(!0,void 0,!1),u),p.hasI18nMeta&&(u=Oe(new cp(!1,void 0,!0,d),u)));let{nodes:m,errors:v,styleUrls:C,styles:w,ngContentSelectors:E,commentNodes:D}=Y$(u,o,{collectCommentNodes:!!n.collectCommentNodes});v.push(...l.errors,...h.errors);let M={preserveWhitespaces:r,errors:v.length>0?v:null,nodes:m,styleUrls:C,styles:w,ngContentSelectors:E};return n.collectCommentNodes&&(M.commentNodes=D),M}var K$=new Ga;function Ep(t=!1){return new Hy(new up(new ac,t),K$,[])}var GI="%COMP%",Z$=`_nghost-${GI}`,eH=`_ngcontent-${GI}`;function zI(t,e,n){let r=new is,i=aE(t.selector);return r.set("type",t.type.value),i.length>0&&r.set("selectors",ya(i)),t.queries.length>0&&r.set("contentQueries",HU(t.queries,e,t.name)),t.viewQueries.length&&r.set("viewQuery",$U(t.viewQueries,e,t.name)),r.set("hostBindings",lH(t.host,t.typeSourceSpan,n,e,t.selector||"",t.name,r)),r.set("inputs",W0(t.inputs,!0)),r.set("outputs",W0(t.outputs)),t.exportAs!==null&&r.set("exportAs",we(t.exportAs.map(s=>T(s)))),t.isStandalone===!1&&r.set("standalone",T(!1)),t.isSignal&&r.set("signals",T(!0)),r}function jI(t,e){let n=[],r=e.providers,i=e.viewProviders;if(r||i){let s=[r||new pr([])];i&&s.push(i),n.push(B(y.ProvidersFeature).callFn(s))}if(e.hostDirectives?.length&&n.push(B(y.HostDirectivesFeature).callFn([pH(e.hostDirectives)])),e.usesInheritance&&n.push(B(y.InheritDefinitionFeature)),e.lifecycle.usesOnChanges&&n.push(B(y.NgOnChangesFeature)),"externalStyles"in e&&e.externalStyles?.length){let s=e.externalStyles.map(o=>T(o));n.push(B(y.ExternalStylesFeature).callFn([we(s)]))}n.length&&t.set("features",we(n))}function tH(t,e,n){let r=zI(t,e,n);jI(r,t);let i=B(y.defineDirective).callFn([r.toLiteralMap()],void 0,!0),s=aH(t);return{expression:i,type:s,statements:[]}}function nH(t,e,n){let r=zI(t,e,n);jI(r,t);let i=t.selector&&Da.parse(t.selector),s=i&&i[0];if(s){let v=s.getAttrs();v.length&&r.set("attrs",e.getConstLiteral(we(v.map(C=>C!=null?T(C):T(void 0))),!0))}let o=t.name,a=null;if(t.defer.mode===1&&t.defer.dependenciesFn!==null){let v=`${o}_DeferFn`;e.statements.push(new rt(v,t.defer.dependenciesFn,void 0,yt.Final)),a=le(v)}let l=t.isStandalone&&!t.hasDirectiveDependencies?on.DomOnly:on.Full,u=vU(t.name,t.template.nodes,e,l,t.relativeContextFilePath,t.i18nUseExternalIds,t.defer,a,t.relativeTemplatePath,BU());MI(u,P.Tmpl);let d=pU(u,e);if(u.contentSelectors!==null&&r.set("ngContentSelectors",u.contentSelectors),r.set("decls",T(u.root.decls)),r.set("vars",T(u.root.vars)),u.consts.length>0&&(u.constsInitializers.length>0?r.set("consts",hr([],[...u.constsInitializers,new It(we(u.consts))])):r.set("consts",we(u.consts))),r.set("template",d),t.declarationListEmitMode!==3&&t.declarations.length>0)r.set("dependencies",iH(we(t.declarations.map(v=>v.type)),t.declarationListEmitMode));else if(t.declarationListEmitMode===3){let v=[t.type.value];t.rawImports&&v.push(t.rawImports),r.set("dependencies",B(y.getComponentDepsFactory).callFn(v))}t.encapsulation===null&&(t.encapsulation=Gs.Emulated);let p=!!t.externalStyles?.length;if(t.styles&&t.styles.length){let C=(t.encapsulation==Gs.Emulated?fH(t.styles,eH,Z$):t.styles).reduce((w,E)=>(E.trim().length>0&&w.push(e.getConstLiteral(T(E))),w),[]);C.length>0&&(p=!0,r.set("styles",we(C)))}!p&&t.encapsulation===Gs.Emulated&&(t.encapsulation=Gs.None),t.encapsulation!==Gs.Emulated&&r.set("encapsulation",T(t.encapsulation)),t.animations!==null&&r.set("data",Xt([{key:"animation",value:t.animations,quoted:!1}])),t.changeDetection!==null&&(typeof t.changeDetection=="number"&&t.changeDetection!==oE.Default?r.set("changeDetection",T(t.changeDetection)):typeof t.changeDetection=="object"&&r.set("changeDetection",t.changeDetection));let h=B(y.defineComponent).callFn([r.toLiteralMap()],void 0,!0),m=rH(t);return{expression:h,type:m,statements:[]}}function rH(t){let e=WI(t);return e.push(Ky(t.template.ngContentSelectors)),e.push(At(T(t.isStandalone))),e.push(YI(t)),t.isSignal&&e.push(At(T(t.isSignal))),At(B(y.ComponentDeclaration,e))}function iH(t,e){switch(e){case 0:return t;case 1:return hr([],t);case 2:let n=t.prop("map").callFn([B(y.resolveForwardRef)]);return hr([],n);case 3:throw new Error("Unsupported with an array of pre-resolved dependencies")}}function sH(t){return At(T(t))}function Qy(t){let e=Object.keys(t).map(n=>{let r=Array.isArray(t[n])?t[n][0]:t[n];return{key:n,value:T(r),quoted:!0}});return Xt(e)}function Ky(t){return t.length>0?At(we(t.map(e=>T(e)))):Hr}function WI(t){let e=t.selector!==null?t.selector.replace(/\n/g,""):null;return[Sp(t.type.type,t.typeArgumentCount),e!==null?sH(e):Hr,t.exportAs!==null?Ky(t.exportAs):Hr,At(oH(t)),At(Qy(t.outputs)),Ky(t.queries.map(n=>n.propertyName))]}function oH(t){return Xt(Object.keys(t.inputs).map(e=>{let n=t.inputs[e],r=[{key:"alias",value:T(n.bindingPropertyName),quoted:!0},{key:"required",value:T(n.required),quoted:!0}];return n.isSignal&&r.push({key:"isSignal",value:T(n.isSignal),quoted:!0}),{key:e,value:Xt(r),quoted:!0}}))}function aH(t){let e=WI(t);return e.push(Hr),e.push(At(T(t.isStandalone))),e.push(YI(t)),t.isSignal&&e.push(At(T(t.isSignal))),At(B(y.DirectiveDeclaration,e))}function lH(t,e,n,r,i,s,o){let a=n.createBoundHostProperties(t.properties,e),l=n.createDirectiveHostEventAsts(t.listeners,e);t.specialAttributes.styleAttr&&(t.attributes.style=T(t.specialAttributes.styleAttr)),t.specialAttributes.classAttr&&(t.attributes.class=T(t.specialAttributes.classAttr));let u=yU({componentName:s,componentSelector:i,properties:a,events:l,attributes:t.attributes},n,r);MI(u,P.Host),o.set("hostAttrs",u.root.attributes);let d=u.root.vars;return d!==null&&d>0&&o.set("hostVars",T(d)),hU(u)}var uH=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function cH(t){let e={},n={},r={},i={};for(let s of Object.keys(t)){let o=t[s],a=s.match(uH);if(a===null)switch(s){case"class":if(typeof o!="string")throw new Error("Class binding must be string");i.classAttr=o;break;case"style":if(typeof o!="string")throw new Error("Style binding must be string");i.styleAttr=o;break;default:typeof o=="string"?e[s]=T(o):e[s]=o}else if(a[1]!=null){if(typeof o!="string")throw new Error("Property binding must be string");r[a[1]]=o}else if(a[2]!=null){if(typeof o!="string")throw new Error("Event binding must be string");n[a[2]]=o}}return{attributes:e,listeners:n,properties:r,specialAttributes:i}}function dH(t,e){let n=Ep();return n.createDirectiveHostEventAsts(t.listeners,e),n.createBoundHostProperties(t.properties,e),n.errors}function fH(t,e,n){let r=new ly;return t.map(i=>r.shimCssText(i,e,n))}function YI(t){return t.hostDirectives?.length?At(we(t.hostDirectives.map(e=>Xt([{key:"directive",value:pc(e.directive.type),quoted:!1},{key:"inputs",value:Qy(e.inputs||{}),quoted:!1},{key:"outputs",value:Qy(e.outputs||{}),quoted:!1}])))):Hr}function pH(t){let e=[],n=!1;for(let r of t){if(!r.inputs&&!r.outputs)e.push(r.directive.type);else{let i=[{key:"directive",value:r.directive.type,quoted:!1}];if(r.inputs){let s=mD(r.inputs);s&&i.push({key:"inputs",value:s,quoted:!1})}if(r.outputs){let s=mD(r.outputs);s&&i.push({key:"outputs",value:s,quoted:!1})}e.push(Xt(i))}r.isForwardReference&&(n=!0)}return n?new Zi([],[new It(we(e))]):we(e)}function mD(t){let e=[];for(let n in t)t.hasOwnProperty(n)&&e.push(T(n),T(t[n]));return e.length>0?we(e):null}var Zy=class extends Ra{visit(e){e instanceof un?this.visit(e.ast):e.visit(this)}visitElement(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitTemplate(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.templateAttrs),this.visitAllTemplateNodes(e.variables),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitContent(e){this.visitAllTemplateNodes(e.children)}visitBoundAttribute(e){this.visit(e.value)}visitBoundEvent(e){this.visit(e.handler)}visitBoundText(e){this.visit(e.value)}visitIcu(e){Object.keys(e.vars).forEach(n=>this.visit(e.vars[n])),Object.keys(e.placeholders).forEach(n=>this.visit(e.placeholders[n]))}visitDeferredBlock(e){e.visitAll(this)}visitDeferredTrigger(e){e instanceof Pf?this.visit(e.value):e instanceof Lu&&e.options!==null&&this.visit(e.options)}visitDeferredBlockPlaceholder(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockError(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockLoading(e){this.visitAllTemplateNodes(e.children)}visitSwitchBlock(e){this.visit(e.expression),this.visitAllTemplateNodes(e.cases)}visitSwitchBlockCase(e){e.expression&&this.visit(e.expression),this.visitAllTemplateNodes(e.children)}visitForLoopBlock(e){e.item.visit(this),this.visitAllTemplateNodes(e.contextVariables),this.visit(e.expression),this.visitAllTemplateNodes(e.children),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.visitAllTemplateNodes(e.children)}visitIfBlock(e){this.visitAllTemplateNodes(e.branches)}visitIfBlockBranch(e){e.expression&&this.visit(e.expression),e.expressionAlias?.visit(this),this.visitAllTemplateNodes(e.children)}visitLetDeclaration(e){this.visit(e.value)}visitComponent(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitDirective(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.references)}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitText(e){}visitUnknownBlock(e){}visitAllTemplateNodes(e){for(let n of e)this.visit(n)}};var eE=class{directiveMatcher;constructor(e){this.directiveMatcher=e}bind(e){if(!e.template&&!e.host)throw new Error("Empty bound targets are not supported");let n=new Map,r=[],i=new Set,s=new Map,o=new Map,a=new Map,l=new Map,u=new Map,d=new Map,p=new Set,h=new Set,m=[];if(e.template){let v=Cp.apply(e.template);hH(v,a),tE.apply(e.template,this.directiveMatcher,n,r,i,s,o),wp.applyWithScope(e.template,v,l,u,d,p,h,m)}return e.host&&(n.set(e.host.node,e.host.directives),wp.applyWithScope(e.host.node,Cp.apply(e.host.node),l,u,d,p,h,m)),new nE(e,n,r,i,s,o,l,u,d,a,p,h,m)}},Cp=class t{parentScope;rootNode;namedEntities=new Map;elementLikeInScope=new Set;childScopes=new Map;isDeferred;constructor(e,n){this.parentScope=e,this.rootNode=n,this.isDeferred=e!==null&&e.isDeferred?!0:n instanceof mo}static newRootScope(){return new t(null,null)}static apply(e){let n=t.newRootScope();return n.ingest(e),n}ingest(e){e instanceof bn?(e.variables.forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof eo?(e.expressionAlias!==null&&this.visitVariable(e.expressionAlias),e.children.forEach(n=>n.visit(this))):e instanceof La?(this.visitVariable(e.item),e.contextVariables.forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof Vu||e instanceof Uu||e instanceof mo||e instanceof Bu||e instanceof Fu||e instanceof Ou||e instanceof Fa?e.children.forEach(n=>n.visit(this)):e instanceof Hu||e.forEach(n=>n.visit(this))}visitElement(e){this.visitElementLike(e)}visitTemplate(e){e.directives.forEach(n=>n.visit(this)),e.references.forEach(n=>this.visitReference(n)),this.ingestScopedNode(e)}visitVariable(e){this.maybeDeclare(e)}visitReference(e){this.maybeDeclare(e)}visitDeferredBlock(e){this.ingestScopedNode(e),e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.cases.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){this.ingestScopedNode(e)}visitForLoopBlock(e){this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){this.maybeDeclare(e)}visitComponent(e){this.visitElementLike(e)}visitDirective(e){e.references.forEach(n=>this.visitReference(n))}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundText(e){}visitText(e){}visitTextAttribute(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitElementLike(e){e.directives.forEach(n=>n.visit(this)),e.references.forEach(n=>this.visitReference(n)),e.children.forEach(n=>n.visit(this)),this.elementLikeInScope.add(e)}maybeDeclare(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}lookup(e){return this.namedEntities.has(e)?this.namedEntities.get(e):this.parentScope!==null?this.parentScope.lookup(e):null}getChildScope(e){let n=this.childScopes.get(e);if(n===void 0)throw new Error(`Assertion error: child scope for ${e} not found`);return n}ingestScopedNode(e){let n=new t(this,e);n.ingest(e),this.childScopes.set(e,n)}},tE=class t{directiveMatcher;directives;eagerDirectives;missingDirectives;bindings;references;isInDeferBlock=!1;constructor(e,n,r,i,s,o){this.directiveMatcher=e,this.directives=n,this.eagerDirectives=r,this.missingDirectives=i,this.bindings=s,this.references=o}static apply(e,n,r,i,s,o,a){new t(n,r,i,s,o,a).ingest(e)}ingest(e){e.forEach(n=>n.visit(this))}visitElement(e){this.visitElementOrTemplate(e)}visitTemplate(e){this.visitElementOrTemplate(e)}visitDeferredBlock(e){let n=this.isInDeferBlock;this.isInDeferBlock=!0,e.children.forEach(r=>r.visit(this)),this.isInDeferBlock=n,e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockError(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockLoading(e){e.children.forEach(n=>n.visit(this))}visitSwitchBlock(e){e.cases.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){e.children.forEach(n=>n.visit(this))}visitForLoopBlock(e){e.item.visit(this),e.contextVariables.forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this)),e.empty?.visit(this)}visitForLoopBlockEmpty(e){e.children.forEach(n=>n.visit(this))}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){e.expressionAlias?.visit(this),e.children.forEach(n=>n.visit(this))}visitContent(e){e.children.forEach(n=>n.visit(this))}visitComponent(e){if(this.directiveMatcher instanceof hf){let n=this.directiveMatcher.match(e.componentName);n.length>0?this.trackSelectorlessMatchesAndDirectives(e,n):this.missingDirectives.add(e.componentName)}e.directives.forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this))}visitDirective(e){if(this.directiveMatcher instanceof hf){let n=this.directiveMatcher.match(e.name);n.length>0?this.trackSelectorlessMatchesAndDirectives(e,n):this.missingDirectives.add(e.name)}}visitElementOrTemplate(e){if(this.directiveMatcher instanceof pf){let n=[],r=h1(e);this.directiveMatcher.match(r,(i,s)=>n.push(...s)),this.trackSelectorBasedBindingsAndDirectives(e,n)}else e.references.forEach(n=>{n.value.trim()===""&&this.references.set(n,e)});e.directives.forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this))}trackMatchedDirectives(e,n){n.length>0&&(this.directives.set(e,n),this.isInDeferBlock||this.eagerDirectives.push(...n))}trackSelectorlessMatchesAndDirectives(e,n){if(n.length===0)return;this.trackMatchedDirectives(e,n);let r=(i,s,o)=>{i[o].hasBindingPropertyName(s.name)&&this.bindings.set(s,i)};for(let i of n)e.inputs.forEach(s=>r(i,s,"inputs")),e.attributes.forEach(s=>r(i,s,"inputs")),e.outputs.forEach(s=>r(i,s,"outputs"));e.references.forEach(i=>this.references.set(i,{directive:n[0],node:e}))}trackSelectorBasedBindingsAndDirectives(e,n){this.trackMatchedDirectives(e,n),e.references.forEach(i=>{let s=null;if(i.value.trim()==="")s=n.find(o=>o.isComponent)||null;else if(s=n.find(o=>o.exportAs!==null&&o.exportAs.some(a=>a===i.value))||null,s===null)return;s!==null?this.references.set(i,{directive:s,node:e}):this.references.set(i,e)});let r=(i,s)=>{let o=n.find(l=>l[s].hasBindingPropertyName(i.name)),a=o!==void 0?o:e;this.bindings.set(i,a)};e.inputs.forEach(i=>r(i,"inputs")),e.attributes.forEach(i=>r(i,"inputs")),e instanceof bn&&e.templateAttrs.forEach(i=>r(i,"inputs")),e.outputs.forEach(i=>r(i,"outputs"))}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundAttributeOrEvent(e){}visitText(e){}visitBoundText(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitLetDeclaration(e){}},wp=class t extends Zy{bindings;symbols;usedPipes;eagerPipes;deferBlocks;nestingLevel;scope;rootNode;level;visitNode=e=>e.visit(this);constructor(e,n,r,i,s,o,a,l,u){super(),this.bindings=e,this.symbols=n,this.usedPipes=r,this.eagerPipes=i,this.deferBlocks=s,this.nestingLevel=o,this.scope=a,this.rootNode=l,this.level=u}static applyWithScope(e,n,r,i,s,o,a,l){let u=e instanceof bn?e:null;new t(r,i,o,a,l,s,n,u,0).ingest(e)}ingest(e){if(e instanceof bn)e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof eo)e.expressionAlias!==null&&this.visitNode(e.expressionAlias),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof La)this.visitNode(e.item),e.contextVariables.forEach(n=>this.visitNode(n)),e.trackBy.visit(this),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof mo){if(this.scope.rootNode!==e)throw new Error(`Assertion error: resolved incorrect scope for deferred block ${e}`);this.deferBlocks.push([e,this.scope]),e.children.forEach(n=>n.visit(this)),this.nestingLevel.set(e,this.level)}else e instanceof Vu||e instanceof Uu||e instanceof Bu||e instanceof Fu||e instanceof Ou||e instanceof Fa?(e.children.forEach(n=>n.visit(this)),this.nestingLevel.set(e,this.level)):e instanceof Hu?this.nestingLevel.set(e,0):e.forEach(this.visitNode)}visitTemplate(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.directives.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode),this.ingestScopedNode(e)}visitVariable(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitReference(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitDeferredBlock(e){this.ingestScopedNode(e),e.triggers.when?.value.visit(this),e.prefetchTriggers.when?.value.visit(this),e.hydrateTriggers.when?.value.visit(this),e.hydrateTriggers.never?.visit(this),e.placeholder&&this.visitNode(e.placeholder),e.loading&&this.visitNode(e.loading),e.error&&this.visitNode(e.error)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlockCase(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitForLoopBlock(e){e.expression.visit(this),this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlockBranch(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){super.visitLetDeclaration(e),this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitPipe(e,n){return this.usedPipes.add(e.name),this.scope.isDeferred||this.eagerPipes.add(e.name),super.visitPipe(e,n)}visitPropertyRead(e,n){return this.maybeMap(e,e.name),super.visitPropertyRead(e,n)}visitSafePropertyRead(e,n){return this.maybeMap(e,e.name),super.visitSafePropertyRead(e,n)}ingestScopedNode(e){let n=this.scope.getChildScope(e);new t(this.bindings,this.symbols,this.usedPipes,this.eagerPipes,this.deferBlocks,this.nestingLevel,n,e,this.level+1).ingest(e)}maybeMap(e,n){if(!(e.receiver instanceof zr))return;let r=this.scope.lookup(n);r!==null&&this.bindings.set(e,r)}},nE=class{target;directives;eagerDirectives;missingDirectives;bindings;references;exprTargets;symbols;nestingLevel;scopedNodeEntities;usedPipes;eagerPipes;deferredBlocks;deferredScopes;constructor(e,n,r,i,s,o,a,l,u,d,p,h,m){this.target=e,this.directives=n,this.eagerDirectives=r,this.missingDirectives=i,this.bindings=s,this.references=o,this.exprTargets=a,this.symbols=l,this.nestingLevel=u,this.scopedNodeEntities=d,this.usedPipes=p,this.eagerPipes=h,this.deferredBlocks=m.map(v=>v[0]),this.deferredScopes=new Map(m)}getEntitiesInScope(e){return this.scopedNodeEntities.get(e)??new Set}getDirectivesOfNode(e){return this.directives.get(e)||null}getReferenceTarget(e){return this.references.get(e)||null}getConsumerOfBinding(e){return this.bindings.get(e)||null}getExpressionTarget(e){return this.exprTargets.get(e)||null}getDefinitionNodeOfSymbol(e){return this.symbols.get(e)||null}getNestingLevel(e){return this.nestingLevel.get(e)||0}getUsedDirectives(){let e=new Set;return this.directives.forEach(n=>n.forEach(r=>e.add(r))),Array.from(e.values())}getEagerlyUsedDirectives(){let e=new Set(this.eagerDirectives);return Array.from(e.values())}getUsedPipes(){return Array.from(this.usedPipes)}getEagerlyUsedPipes(){return Array.from(this.eagerPipes)}getDeferBlocks(){return this.deferredBlocks}getDeferredTriggerTarget(e,n){if(!(n instanceof Ff)&&!(n instanceof Lu)&&!(n instanceof Lf))return null;let r=n.reference;if(r===null){let s=null;if(e.placeholder!==null){for(let o of e.placeholder.children)if(!(o instanceof Tp)){if(s!==null)return null;o instanceof jr&&(s=o)}}return s}let i=this.findEntityInScope(e,r);if(i instanceof $u&&this.getDefinitionNodeOfSymbol(i)!==e){let s=this.getReferenceTarget(i);if(s!==null)return this.referenceTargetToElement(s)}if(e.placeholder!==null){let s=this.findEntityInScope(e.placeholder,r),o=s instanceof $u?this.getReferenceTarget(s):null;if(o!==null)return this.referenceTargetToElement(o)}return null}isDeferred(e){for(let n of this.deferredBlocks){if(!this.deferredScopes.has(n))continue;let r=[this.deferredScopes.get(n)];for(;r.length>0;){let i=r.pop();if(i.elementLikeInScope.has(e))return!0;r.push(...i.childScopes.values())}}return!1}referencedDirectiveExists(e){return!this.missingDirectives.has(e)}findEntityInScope(e,n){let r=this.getEntitiesInScope(e);for(let i of r)if(i.name===n)return i;return null}referenceTargetToElement(e){return e instanceof jr?e:e instanceof bn||e.node instanceof du||e.node instanceof ND||e.node instanceof Hu?null:this.referenceTargetToElement(e.node)}};function hH(t,e){let n=new Map;function r(s){if(n.has(s.rootNode))return n.get(s.rootNode);let o=s.namedEntities,a;return s.parentScope!==null?a=new Map([...r(s.parentScope),...o]):a=new Map(o),n.set(s.rootNode,a),a}let i=[t];for(;i.length>0;){let s=i.pop();for(let o of s.childScopes.values())i.push(o);r(s)}for(let[s,o]of n)e.set(s,new Set(o.values()))}var rE=class{},iE=class{jitEvaluator;FactoryTarget=mi;ResourceLoader=rE;elementSchemaRegistry=new Ga;constructor(e=new sy){this.jitEvaluator=e}compilePipe(e,n,r){let i={name:r.name,type:ft(r.type),typeArgumentCount:0,deps:null,pipeName:r.pipeName,pure:r.pure,isStandalone:r.isStandalone},s=iT(i);return this.jitExpression(s.expression,e,n,[])}compilePipeDeclaration(e,n,r){let i=MH(r),s=iT(i);return this.jitExpression(s.expression,e,n,[])}compileInjectable(e,n,r){let{expression:i,statements:s}=Y0({name:r.name,type:ft(r.type),typeArgumentCount:r.typeArgumentCount,providedIn:wD(r.providedIn),useClass:ma(r,"useClass"),useFactory:CD(r,"useFactory"),useValue:ma(r,"useValue"),useExisting:ma(r,"useExisting"),deps:r.deps?.map(KI)},!0);return this.jitExpression(i,e,n,s)}compileInjectableDeclaration(e,n,r){let{expression:i,statements:s}=Y0({name:r.type.name,type:ft(r.type),typeArgumentCount:0,providedIn:wD(r.providedIn),useClass:ma(r,"useClass"),useFactory:CD(r,"useFactory"),useValue:ma(r,"useValue"),useExisting:ma(r,"useExisting"),deps:r.deps?.map(_D)},!0);return this.jitExpression(i,e,n,s)}compileInjector(e,n,r){let i={name:r.name,type:ft(r.type),providers:r.providers&&r.providers.length>0?new ce(r.providers):null,imports:r.imports.map(o=>new ce(o))},s=rT(i);return this.jitExpression(s.expression,e,n,[])}compileInjectorDeclaration(e,n,r){let i=RH(r),s=rT(i);return this.jitExpression(s.expression,e,n,[])}compileNgModule(e,n,r){let i={kind:Ki.Global,type:ft(r.type),bootstrap:r.bootstrap.map(ft),declarations:r.declarations.map(ft),publicDeclarationTypes:null,imports:r.imports.map(ft),includeImportTypes:!0,exports:r.exports.map(ft),selectorScopeMode:zf.Inline,containsForwardDecls:!1,schemas:r.schemas?r.schemas.map(ft):null,id:r.id?new ce(r.id):null},s=P1(i);return this.jitExpression(s.expression,e,n,[])}compileNgModuleDeclaration(e,n,r){let i=L1(r);return this.jitExpression(i,e,n,[])}compileDirective(e,n,r){let i=yD(r);return this.compileDirectiveFromMeta(e,n,i)}compileDirectiveDeclaration(e,n,r){let i=this.createParseSourceSpan("Directive",r.type.name,n),s=XI(r,i);return this.compileDirectiveFromMeta(e,n,s)}compileDirectiveFromMeta(e,n,r){let i=new Tf,s=Ep(),o=tH(r,i,s);return this.jitExpression(o.expression,e,n,i.statements)}compileComponent(e,n,r){let{template:i,defer:s}=QI(r.template,r.name,n,r.preserveWhitespaces,void 0),o=G(S(S({},r),yD(r)),{selector:r.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:i,declarations:r.declarations.map(yH),declarationListEmitMode:0,defer:s,styles:[...r.styles,...i.styles],encapsulation:r.encapsulation,changeDetection:r.changeDetection??null,animations:r.animations!=null?new ce(r.animations):null,viewProviders:r.viewProviders!=null?new ce(r.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null}),a=`ng:///${r.name}.js`;return this.compileComponentFromMeta(e,a,o)}compileComponentDeclaration(e,n,r){let i=this.createParseSourceSpan("Component",r.type.name,n),s=vH(r,i,n);return this.compileComponentFromMeta(e,n,s)}compileComponentFromMeta(e,n,r){let i=new Tf,s=Ep(),o=nH(r,i,s);return this.jitExpression(o.expression,e,n,i.statements)}compileFactory(e,n,r){let i=zs({name:r.name,type:ft(r.type),typeArgumentCount:r.typeArgumentCount,deps:wH(r.deps),target:r.target});return this.jitExpression(i.expression,e,n,i.statements)}compileFactoryDeclaration(e,n,r){let i=zs({name:r.type.name,type:ft(r.type),typeArgumentCount:0,deps:Array.isArray(r.deps)?r.deps.map(_D):r.deps,target:r.target});return this.jitExpression(i.expression,e,n,i.statements)}createParseSourceSpan(e,n,r){return A1(e,n,r)}jitExpression(e,n,r,i){let s=[...i,new rt("$def",e,void 0,yt.Exported)];return this.jitEvaluator.evaluateStatements(r,s,new ay(n),!0).$def}};function gD(t){return G(S({},t),{isSignal:t.isSignal,predicate:JI(t.predicate),read:t.read?new ce(t.read):null,static:t.static,emitDistinctChangesOnly:t.emitDistinctChangesOnly})}function vD(t){return{propertyName:t.propertyName,first:t.first??!1,predicate:JI(t.predicate),descendants:t.descendants??!1,read:t.read?new ce(t.read):null,static:t.static??!1,emitDistinctChangesOnly:t.emitDistinctChangesOnly??!0,isSignal:!!t.isSignal}}function JI(t){return Array.isArray(t)?t:dE(new ce(t),1)}function yD(t){let e=NH(t.inputs||[]),n=kv(t.outputs||[]),r=t.propMetadata,i={},s={};for(let a in r)r.hasOwnProperty(a)&&r[a].forEach(l=>{IH(l)?i[a]={bindingPropertyName:l.alias||a,classPropertyName:a,required:l.required||!1,isSignal:!!l.isSignal,transformFunction:l.transform!=null?new ce(l.transform):null}:AH(l)&&(s[a]=l.alias||a)});let o=t.hostDirectives?.length?t.hostDirectives.map(a=>typeof a=="function"?{directive:ft(a),inputs:null,outputs:null,isForwardReference:!1}:{directive:ft(a.directive),isForwardReference:!1,inputs:a.inputs?kv(a.inputs):null,outputs:a.outputs?kv(a.outputs):null}):null;return G(S({},t),{typeArgumentCount:0,typeSourceSpan:t.typeSourceSpan,type:ft(t.type),deps:null,host:S({},SH(t.propMetadata,t.typeSourceSpan,t.host)),inputs:S(S({},e),i),outputs:S(S({},n),s),queries:t.queries.map(gD),providers:t.providers!=null?new ce(t.providers):null,viewQueries:t.viewQueries.map(gD),hostDirectives:o})}function XI(t,e){let n=t.hostDirectives?.length?t.hostDirectives.map(r=>({directive:ft(r.directive),isForwardReference:!1,inputs:r.inputs?ED(r.inputs):null,outputs:r.outputs?ED(r.outputs):null})):null;return{name:t.type.name,type:ft(t.type),typeSourceSpan:e,selector:t.selector??null,inputs:t.inputs?xH(t.inputs):{},outputs:t.outputs??{},host:mH(t.host),queries:(t.queries??[]).map(vD),viewQueries:(t.viewQueries??[]).map(vD),providers:t.providers!==void 0?new ce(t.providers):null,exportAs:t.exportAs??null,usesInheritance:t.usesInheritance??!1,lifecycle:{usesOnChanges:t.usesOnChanges??!1},deps:null,typeArgumentCount:0,isStandalone:t.isStandalone??bD(t.version),isSignal:t.isSignal??!1,hostDirectives:n}}function mH(t={}){return{attributes:gH(t.attributes??{}),listeners:t.listeners??{},properties:t.properties??{},specialAttributes:{classAttr:t.classAttribute,styleAttr:t.styleAttribute}}}function ED(t){let e=null;for(let n=1;n<t.length;n+=2)e=e||{},e[t[n-1]]=t[n];return e}function gH(t){let e={};for(let n of Object.keys(t))e[n]=new ce(t[n]);return e}function vH(t,e,n){let{template:r,defer:i}=QI(t.template,t.type.name,n,t.preserveWhitespaces??!1,t.deferBlockDependencies),s=[];if(t.dependencies)for(let a of t.dependencies)switch(a.kind){case"directive":case"component":s.push(Rv(a));break;case"pipe":s.push(CH(a));break}else(t.components||t.directives||t.pipes)&&(t.components&&s.push(...t.components.map(a=>Rv(a,!0))),t.directives&&s.push(...t.directives.map(a=>Rv(a))),t.pipes&&s.push(...EH(t.pipes)));let o=s.some(({kind:a})=>a===Ba.Directive||a===Ba.NgModule);return G(S({},XI(t,e)),{template:r,styles:t.styles??[],declarations:s,viewProviders:t.viewProviders!==void 0?new ce(t.viewProviders):null,animations:t.animations!==void 0?new ce(t.animations):null,defer:i,changeDetection:t.changeDetection??oE.Default,encapsulation:t.encapsulation??Gs.Emulated,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null,hasDirectiveDependencies:o})}function yH(t){return G(S({},t),{type:new ce(t.type)})}function Rv(t,e=null){return{kind:Ba.Directive,isComponent:e||t.kind==="component",selector:t.selector,type:new ce(t.type),inputs:t.inputs??[],outputs:t.outputs??[],exportAs:t.exportAs??null}}function EH(t){return t?Object.keys(t).map(e=>({kind:Ba.Pipe,name:e,type:new ce(t[e])})):[]}function CH(t){return{kind:Ba.Pipe,name:t.name,type:new ce(t.type)}}function QI(t,e,n,r,i){let s=Q$(t,n,{preserveWhitespaces:r});if(s.errors!==null){let l=s.errors.map(u=>u.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${e}: ${l}`)}let a=new eE(null).bind({template:s.nodes});return{template:s,defer:_H(a,i)}}function ma(t,e){if(t.hasOwnProperty(e))return dE(new ce(t[e]),0)}function CD(t,e){if(t.hasOwnProperty(e))return new ce(t[e])}function wD(t){let e=typeof t=="function"?new ce(t):new xt(t??null);return dE(e,0)}function wH(t){return t==null?null:t.map(KI)}function KI(t){let e=t.attribute!=null,n=t.token===null?null:new ce(t.token),r=e?new ce(t.attribute):n;return ZI(r,e,t.host,t.optional,t.self,t.skipSelf)}function _D(t){let e=t.attribute??!1,n=t.token===null?null:new ce(t.token);return ZI(n,e,t.host??!1,t.optional??!1,t.self??!1,t.skipSelf??!1)}function ZI(t,e,n,r,i,s){let o=e?T("unknown"):null;return{token:t,attributeNameType:o,host:n,optional:r,self:i,skipSelf:s}}function _H(t,e){let n=t.getDeferBlocks(),r=new Map;for(let i=0;i<n.length;i++){let s=e?.[i];r.set(n[i],s?new ce(s):null)}return{mode:0,blocks:r}}function SH(t,e,n){let r=cH(n||{}),i=dH(r,e);if(i.length)throw new Error(i.map(s=>s.msg).join(`
`));for(let s in t)t.hasOwnProperty(s)&&t[s].forEach(o=>{TH(o)?r.properties[o.hostPropertyName||s]=XP("this",s):DH(o)&&(r.listeners[o.eventName||s]=`${s}(${(o.args||[]).join(",")})`)});return r}function TH(t){return t.ngMetadataName==="HostBinding"}function DH(t){return t.ngMetadataName==="HostListener"}function IH(t){return t.ngMetadataName==="Input"}function AH(t){return t.ngMetadataName==="Output"}function xH(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return typeof r=="string"||Array.isArray(r)?e[n]=bH(r):e[n]={bindingPropertyName:r.publicName,classPropertyName:n,transformFunction:r.transformFunction!==null?new ce(r.transformFunction):null,required:r.isRequired,isSignal:r.isSignal},e},{})}function bH(t){return typeof t=="string"?{bindingPropertyName:t,classPropertyName:t,transformFunction:null,required:!1,isSignal:!1}:{bindingPropertyName:t[0],classPropertyName:t[1],transformFunction:t[2]?new ce(t[2]):null,required:!1,isSignal:!1}}function NH(t){return t.reduce((e,n)=>{if(typeof n=="string"){let[r,i]=eA(n);e[i]={bindingPropertyName:r,classPropertyName:i,required:!1,isSignal:!1,transformFunction:null}}else e[n.name]={bindingPropertyName:n.alias||n.name,classPropertyName:n.name,required:n.required||!1,isSignal:!1,transformFunction:n.transform!=null?new ce(n.transform):null};return e},{})}function kv(t){return t.reduce((e,n)=>{let[r,i]=eA(n);return e[i]=r,e},{})}function eA(t){let[e,n]=t.split(":",2).map(r=>r.trim());return[n??e,e]}function MH(t){return{name:t.type.name,type:ft(t.type),typeArgumentCount:0,pipeName:t.name,deps:null,pure:t.pure??!0,isStandalone:t.isStandalone??bD(t.version)}}function RH(t){return{name:t.type.name,type:ft(t.type),providers:t.providers!==void 0&&t.providers.length>0?new ce(t.providers):null,imports:t.imports!==void 0?t.imports.map(e=>new ce(e)):[]}}function kH(t){let e=t.ng||(t.ng={});e.\u0275compilerFacade=new iE}var sE=class{closedByParent=!1;implicitNamespacePrefix=null;isVoid=!1;ignoreFirstLf=!1;canSelfClose=!0;preventNamespaceInheritance=!1;requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return Or.PARSABLE_DATA}},UQ=new sE;var $Q=new Vv("21.0.8");kH(cu);var Ut=null,Np=!1,LE=1,PH=null,Nt=Symbol("SIGNAL");function Y(t){let e=Ut;return Ut=t,e}function Rp(){return Ut}var Xa={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function vc(t){if(Np)throw new Error("");if(Ut===null)return;Ut.consumerOnSignalRead(t);let e=Ut.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=Ut.recomputing;if(r&&(n=e!==void 0?e.nextProducer:Ut.producers,n!==void 0&&n.producer===t)){Ut.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===Ut&&(!r||FH(i,Ut)))return;let s=Ka(Ut),o={producer:t,consumer:Ut,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};Ut.producersTail=o,e!==void 0?e.nextProducer=o:Ut.producers=o,s&&iA(t,o)}function tA(){LE++}function FE(t){if(!(Ka(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===LE)){if(!t.producerMustRecompute(t)&&!Ec(t)){PE(t);return}t.producerRecomputeValue(t),PE(t)}}function OE(t){if(t.consumers===void 0)return;let e=Np;Np=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||LH(r)}}finally{Np=e}}function BE(){return Ut?.consumerAllowSignalWrites!==!1}function LH(t){t.dirty=!0,OE(t),t.consumerMarkedDirty?.(t)}function PE(t){t.dirty=!1,t.lastCleanEpoch=LE}function Qa(t){return t&&nA(t),Y(t)}function nA(t){t.producersTail=void 0,t.recomputing=!0}function yc(t,e){Y(e),t&&rA(t)}function rA(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Ka(t))do n=VE(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Ec(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(FE(n),r!==n.version))return!0}return!1}function So(t){if(Ka(t)){let e=t.producers;for(;e!==void 0;)e=VE(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function iA(t,e){let n=t.consumersTail,r=Ka(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)iA(i.producer,i)}function VE(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Ka(e)){let s=e.producers;for(;s!==void 0;)s=VE(s)}return n}function Ka(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function UE(t){PH?.(t)}function FH(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function $E(t,e){return Object.is(t,e)}function Cc(t,e){let n=Object.create(OH);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(FE(n),vc(n),n.value===Mp)throw n.error;return n.value};return r[Nt]=n,UE(n),r}var RE=Symbol("UNSET"),kE=Symbol("COMPUTING"),Mp=Symbol("ERRORED"),OH=G(S({},Xa),{value:RE,dirty:!0,error:null,equal:$E,kind:"computed",producerMustRecompute(t){return t.value===RE||t.value===kE},producerRecomputeValue(t){if(t.value===kE)throw new Error("");let e=t.value;t.value=kE;let n=Qa(t),r,i=!1;try{r=t.computation(),Y(null),i=e!==RE&&e!==Mp&&r!==Mp&&t.equal(e,r)}catch(s){r=Mp,t.error=s}finally{yc(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function BH(){throw new Error}var sA=BH;function oA(t){sA(t)}function HE(t){sA=t}var VH=null;function qE(t,e){let n=Object.create(kp);n.value=t,e!==void 0&&(n.equal=e);let r=()=>aA(n);return r[Nt]=n,UE(n),[r,o=>wc(n,o),o=>lA(n,o)]}function aA(t){return vc(t),t.value}function wc(t,e){BE()||oA(t),t.equal(t.value,e)||(t.value=e,UH(t))}function lA(t,e){BE()||oA(t),wc(t,e(t.value))}var kp=G(S({},Xa),{equal:$E,value:void 0,kind:"signal"});function UH(t){t.version++,tA(),OE(t),VH?.(t)}function GE(t){let e=Y(null);try{return t()}finally{Y(e)}}var zE=G(S({},Xa),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function jE(t){if(t.dirty=!1,t.version>0&&!Ec(t))return;t.version++;let e=Qa(t);try{t.cleanup(),t.fn()}finally{yc(t,e)}}function ue(t){return typeof t=="function"}function Za(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Pp=Za(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function _c(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Mt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ue(r))try{r()}catch(s){e=s instanceof Pp?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{uA(s)}catch(o){e=e??[],o instanceof Pp?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Pp(e)}}add(e){var n;if(e&&e!==this)if(this.closed)uA(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&_c(n,e)}remove(e){let{_finalizers:n}=this;n&&_c(n,e),e instanceof t&&e._removeParent(this)}};Mt.EMPTY=(()=>{let t=new Mt;return t.closed=!0,t})();var WE=Mt.EMPTY;function Lp(t){return t instanceof Mt||t&&"closed"in t&&ue(t.remove)&&ue(t.add)&&ue(t.unsubscribe)}function uA(t){ue(t)?t():t.unsubscribe()}var gr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var el={setTimeout(t,e,...n){let{delegate:r}=el;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=el;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Fp(t){el.setTimeout(()=>{let{onUnhandledError:e}=gr;if(e)e(t);else throw t})}function Sc(){}var cA=YE("C",void 0,void 0);function dA(t){return YE("E",void 0,t)}function fA(t){return YE("N",t,void 0)}function YE(t,e,n){return{kind:t,value:e,error:n}}var To=null;function tl(t){if(gr.useDeprecatedSynchronousErrorHandling){let e=!To;if(e&&(To={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=To;if(To=null,n)throw r}}else t()}function pA(t){gr.useDeprecatedSynchronousErrorHandling&&To&&(To.errorThrown=!0,To.error=t)}var Do=class extends Mt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Lp(e)&&e.add(this)):this.destination=qH}static create(e,n,r){return new nl(e,n,r)}next(e){this.isStopped?XE(fA(e),this):this._next(e)}error(e){this.isStopped?XE(dA(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?XE(cA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$H=Function.prototype.bind;function JE(t,e){return $H.call(t,e)}var QE=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Op(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Op(r)}else Op(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Op(n)}}},nl=class extends Do{constructor(e,n,r){super();let i;if(ue(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&gr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&JE(e.next,s),error:e.error&&JE(e.error,s),complete:e.complete&&JE(e.complete,s)}):i=e}this.destination=new QE(i)}};function Op(t){gr.useDeprecatedSynchronousErrorHandling?pA(t):Fp(t)}function HH(t){throw t}function XE(t,e){let{onStoppedNotification:n}=gr;n&&el.setTimeout(()=>n(t,e))}var qH={closed:!0,next:Sc,error:HH,complete:Sc};var rl=typeof Symbol=="function"&&Symbol.observable||"@@observable";function vr(t){return t}function KE(...t){return ZE(t)}function ZE(t){return t.length===0?vr:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ve=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=zH(n)?n:new nl(n,r,i);return tl(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=hA(r),new r((i,s)=>{let o=new nl({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[rl](){return this}pipe(...n){return ZE(n)(this)}toPromise(n){return n=hA(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function hA(t){var e;return(e=t??gr.Promise)!==null&&e!==void 0?e:Promise}function GH(t){return t&&ue(t.next)&&ue(t.error)&&ue(t.complete)}function zH(t){return t&&t instanceof Do||GH(t)&&Lp(t)}function jH(t){return ue(t?.lift)}function Ne(t){return e=>{if(jH(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Me(t,e,n,r,i){return new eC(t,e,n,r,i)}var eC=class extends Do{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var mA=Za(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var it=(()=>{class t extends ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Bp(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new mA}next(n){tl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){tl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){tl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?WE:(this.currentObservers=null,s.push(n),new Mt(()=>{this.currentObservers=null,_c(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ve;return n.source=this,n}}return t.create=(e,n)=>new Bp(e,n),t})(),Bp=class extends it{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:WE}};var Rt=class extends it{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var hn=new ve(t=>t.complete());function gA(t){return t&&ue(t.schedule)}function vA(t){return t[t.length-1]}function Vp(t){return ue(vA(t))?t.pop():void 0}function fs(t){return gA(vA(t))?t.pop():void 0}function EA(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(p){o(p)}}function l(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function yA(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Io(t){return this instanceof Io?(this.v=t,this):new Io(t)}function CA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(v){return Promise.resolve(v).then(m,p)}}function a(m,v){r[m]&&(i[m]=function(C){return new Promise(function(w,E){s.push([m,C,w,E])>1||l(m,C)})},v&&(i[m]=v(i[m])))}function l(m,v){try{u(r[m](v))}catch(C){h(s[0][3],C)}}function u(m){m.value instanceof Io?Promise.resolve(m.value.v).then(d,p):h(s[0][2],m)}function d(m){l("next",m)}function p(m){l("throw",m)}function h(m,v){m(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function wA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof yA=="function"?yA(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}var Up=t=>t&&typeof t.length=="number"&&typeof t!="function";function $p(t){return ue(t?.then)}function Hp(t){return ue(t[rl])}function qp(t){return Symbol.asyncIterator&&ue(t?.[Symbol.asyncIterator])}function Gp(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function WH(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var zp=WH();function jp(t){return ue(t?.[zp])}function Wp(t){return CA(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Io(n.read());if(i)return yield Io(void 0);yield yield Io(r)}}finally{n.releaseLock()}})}function Yp(t){return ue(t?.getReader)}function st(t){if(t instanceof ve)return t;if(t!=null){if(Hp(t))return YH(t);if(Up(t))return JH(t);if($p(t))return XH(t);if(qp(t))return _A(t);if(jp(t))return QH(t);if(Yp(t))return KH(t)}throw Gp(t)}function YH(t){return new ve(e=>{let n=t[rl]();if(ue(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function JH(t){return new ve(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function XH(t){return new ve(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Fp)})}function QH(t){return new ve(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function _A(t){return new ve(e=>{ZH(t,e).catch(n=>e.error(n))})}function KH(t){return _A(Wp(t))}function ZH(t,e){var n,r,i,s;return EA(this,void 0,void 0,function*(){try{for(n=wA(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function mn(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Jp(t,e=0){return Ne((n,r)=>{n.subscribe(Me(r,i=>mn(r,t,()=>r.next(i),e),()=>mn(r,t,()=>r.complete(),e),i=>mn(r,t,()=>r.error(i),e)))})}function Xp(t,e=0){return Ne((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function SA(t,e){return st(t).pipe(Xp(e),Jp(e))}function TA(t,e){return st(t).pipe(Xp(e),Jp(e))}function DA(t,e){return new ve(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function IA(t,e){return new ve(n=>{let r;return mn(n,e,()=>{r=t[zp](),mn(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ue(r?.return)&&r.return()})}function Qp(t,e){if(!t)throw new Error("Iterable cannot be null");return new ve(n=>{mn(n,e,()=>{let r=t[Symbol.asyncIterator]();mn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function AA(t,e){return Qp(Wp(t),e)}function xA(t,e){if(t!=null){if(Hp(t))return SA(t,e);if(Up(t))return DA(t,e);if($p(t))return TA(t,e);if(qp(t))return Qp(t,e);if(jp(t))return IA(t,e);if(Yp(t))return AA(t,e)}throw Gp(t)}function ot(t,e){return e?xA(t,e):st(t)}function de(...t){let e=fs(t);return ot(t,e)}function tC(t,e){let n=ue(t)?t:()=>t,r=i=>i.error(n());return new ve(e?i=>e.schedule(r,0,i):r)}function Kp(t){return!!t&&(t instanceof ve||ue(t.lift)&&ue(t.subscribe))}var Ao=Za(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function De(t,e){return Ne((n,r)=>{let i=0;n.subscribe(Me(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:e8}=Array;function t8(t,e){return e8(e)?t(...e):t(e)}function Zp(t){return De(e=>t8(t,e))}var{isArray:n8}=Array,{getPrototypeOf:r8,prototype:i8,keys:s8}=Object;function eh(t){if(t.length===1){let e=t[0];if(n8(e))return{args:e,keys:null};if(o8(e)){let n=s8(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function o8(t){return t&&typeof t=="object"&&r8(t)===i8}function th(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function nh(...t){let e=fs(t),n=Vp(t),{args:r,keys:i}=eh(t);if(r.length===0)return ot([],e);let s=new ve(a8(r,e,i?o=>th(i,o):vr));return n?s.pipe(Zp(n)):s}function a8(t,e,n=vr){return r=>{bA(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)bA(e,()=>{let u=ot(t[l],e),d=!1;u.subscribe(Me(r,p=>{s[l]=p,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function bA(t,e,n){t?mn(n,t,e):e()}function NA(t,e,n,r,i,s,o,a){let l=[],u=0,d=0,p=!1,h=()=>{p&&!l.length&&!u&&e.complete()},m=C=>u<r?v(C):l.push(C),v=C=>{s&&e.next(C),u++;let w=!1;st(n(C,d++)).subscribe(Me(e,E=>{i?.(E),s?m(E):e.next(E)},()=>{w=!0},void 0,()=>{if(w)try{for(u--;l.length&&u<r;){let E=l.shift();o?mn(e,o,()=>v(E)):v(E)}h()}catch(E){e.error(E)}}))};return t.subscribe(Me(e,m,()=>{p=!0,h()})),()=>{a?.()}}function Kt(t,e,n=1/0){return ue(e)?Kt((r,i)=>De((s,o)=>e(r,s,i,o))(st(t(r,i))),n):(typeof e=="number"&&(n=e),Ne((r,i)=>NA(r,i,t,n)))}function MA(t=1/0){return Kt(vr,t)}function RA(){return MA(1)}function il(...t){return RA()(ot(t,fs(t)))}function Tc(t){return new ve(e=>{st(t()).subscribe(e)})}function nC(...t){let e=Vp(t),{args:n,keys:r}=eh(t),i=new ve(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,u=o;for(let d=0;d<o;d++){let p=!1;st(n[d]).subscribe(Me(s,h=>{p||(p=!0,u--),a[d]=h},()=>l--,void 0,()=>{(!l||!p)&&(u||s.next(r?th(r,a):a),s.complete())}))}});return e?i.pipe(Zp(e)):i}function Zn(t,e){return Ne((n,r)=>{let i=0;n.subscribe(Me(r,s=>t.call(e,s,i++)&&r.next(s)))})}function ps(t){return Ne((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Me(n,void 0,void 0,o=>{s=st(t(o,ps(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function sl(t,e){return ue(e)?Kt(t,e,1):Kt(t,1)}function rC(t){return Ne((e,n)=>{let r=!1;e.subscribe(Me(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Di(t){return t<=0?()=>hn:Ne((e,n)=>{let r=0;e.subscribe(Me(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function kA(t=l8){return Ne((e,n)=>{let r=!1;e.subscribe(Me(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function l8(){return new Ao}function Dc(t){return Ne((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ii(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Zn((i,s)=>t(i,s,r)):vr,Di(1),n?rC(e):kA(()=>new Ao))}function rh(t){return t<=0?()=>hn:Ne((e,n)=>{let r=[];e.subscribe(Me(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function iC(...t){let e=fs(t);return Ne((n,r)=>{(e?il(t,n,e):il(t,n)).subscribe(r)})}function Pn(t,e){return Ne((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(Me(r,l=>{i?.unsubscribe();let u=0,d=s++;st(t(l,d)).subscribe(i=Me(r,p=>r.next(e?e(l,p,d,u++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ic(t){return Ne((e,n)=>{st(t).subscribe(Me(n,()=>n.complete(),Sc)),!n.closed&&e.subscribe(n)})}function Zt(t,e,n){let r=ue(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ne((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Me(s,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),s.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):vr}var sC;function ih(){return sC}function Xr(t){let e=sC;return sC=t,e}var PA=Symbol("NotFound");function ol(t){return t===PA||t?.name==="\u0275NotFound"}var dh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,n){super(gs(e,n)),this.code=e}};function u8(t){return`NG0${Math.abs(t)}`}function gs(t,e){return`${u8(t)}${e?": "+e:""}`}var kc=globalThis;function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("")}function VA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function xi(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(xi).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function yC(t,e){return t?e?`${t} ${e}`:t:e||""}var c8=Re({__forward_ref__:Re});function yr(t){return t.__forward_ref__=yr,t.toString=function(){return xi(this())},t}function kt(t){return EC(t)?t():t}function EC(t){return typeof t=="function"&&t.hasOwnProperty(c8)&&t.__forward_ref__===yr}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Pc(t){return d8(t,fh)}function CC(t){return Pc(t)!==null}function d8(t,e){return t.hasOwnProperty(e)&&t[e]||null}function f8(t){let e=t?.[fh]??null;return e||null}function aC(t){return t&&t.hasOwnProperty(oh)?t[oh]:null}var fh=Re({\u0275prov:Re}),oh=Re({\u0275inj:Re}),q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function wC(t){return t&&!!t.\u0275providers}var _C=Re({\u0275cmp:Re}),SC=Re({\u0275dir:Re}),TC=Re({\u0275pipe:Re}),DC=Re({\u0275mod:Re}),xc=Re({\u0275fac:Re}),ko=Re({__NG_ELEMENT_ID__:Re}),LA=Re({__NG_ENV_ID__:Re});function IC(t){return ph(t,"@NgModule"),t[DC]||null}function Ni(t){return ph(t,"@Component"),t[_C]||null}function AC(t){return ph(t,"@Directive"),t[SC]||null}function UA(t){return ph(t,"@Pipe"),t[TC]||null}function ph(t,e){if(t==null)throw new V(-919,!1)}function Lc(t){return typeof t=="string"?t:t==null?"":String(t)}function $A(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Lc(t)}var HA=Re({ngErrorCode:Re}),p8=Re({ngErrorMessage:Re}),h8=Re({ngTokenPath:Re});function xC(t,e){return qA("",-200,e)}function hh(t,e){throw new V(-201,!1)}function qA(t,e,n){let r=new V(e,t);return r[HA]=e,r[p8]=t,n&&(r[h8]=n),r}function m8(t){return t[HA]}var lC;function GA(){return lC}function Ln(t){let e=lC;return lC=t,e}function bC(t,e,n){let r=Pc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;hh(t,"")}var g8={},xo=g8,v8="__NG_DI_FLAG__",uC=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=bo(n)||0;try{return this.injector.get(e,r&8?null:xo,r)}catch(i){if(ol(i))return i;throw i}}};function y8(t,e=0){let n=ih();if(n===void 0)throw new V(-203,!1);if(n===null)return bC(t,void 0,e);{let r=E8(e),i=n.retrieve(t,r);if(ol(i)){if(r.optional)return null;throw i}return i}}function Q(t,e=0){return(GA()||y8)(kt(t),e)}function b(t,e){return Q(t,bo(e))}function bo(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function E8(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function cC(t){let e=[];for(let n=0;n<t.length;n++){let r=kt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,s=0;for(let o=0;o<r.length;o++){let a=r[o],l=C8(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(Q(i,s))}else e.push(Q(r))}return e}function C8(t){return t[v8]}function No(t,e){let n=t.hasOwnProperty(xc);return n?t[xc]:null}function zA(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function jA(t){return t.flat(Number.POSITIVE_INFINITY)}function mh(t,e){t.forEach(n=>Array.isArray(n)?mh(n,e):e(n))}function NC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Fc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function WA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function YA(t,e,n){let r=ll(t,e);return r>=0?t[r|1]=n:(r=~r,WA(t,r,e,n)),r}function gh(t,e){let n=ll(t,e);if(n>=0)return t[n|1]}function ll(t,e){return w8(t,e,1)}function w8(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var vs={},gn=[],ul=new q(""),MC=new q("",-1),RC=new q(""),bc=class{get(e,n=xo){if(n===xo){let i=qA("",-201);throw i.name="\u0275NotFound",i}return n}};function ys(t){return{\u0275providers:t}}function JA(...t){return{\u0275providers:kC(!0,t),\u0275fromNgModule:!0}}function kC(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return mh(e,o=>{let a=o;ah(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&XA(i,s),n}function XA(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];PC(i,s=>{e(s,r)})}}function ah(t,e,n,r){if(t=kt(t),!t)return!1;let i=null,s=aC(t),o=!s&&Ni(t);if(!s&&!o){let l=t.ngModule;if(s=aC(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of l)ah(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{mh(s.imports,d=>{ah(d,e,n,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&XA(u,e)}if(!a){let u=No(i)||(()=>new i);e({provide:i,useFactory:u,deps:gn},i),e({provide:RC,useValue:i,multi:!0},i),e({provide:ul,useValue:()=>Q(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let u=t;PC(l,d=>{e(d,u)})}}else return!1;return i!==t&&t.providers!==void 0}function PC(t,e){for(let n of t)wC(n)&&(n=n.\u0275providers),Array.isArray(n)?PC(n,e):e(n)}var _8=Re({provide:String,useValue:Re});function QA(t){return t!==null&&typeof t=="object"&&_8 in t}function S8(t){return!!(t&&t.useExisting)}function T8(t){return!!(t&&t.useFactory)}function Mo(t){return typeof t=="function"}function KA(t){return!!t.useClass}var Oc=new q(""),sh={},FA={},oC;function Bc(){return oC===void 0&&(oC=new bc),oC}var Ze=class{},Ro=class extends Ze{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,fC(e,o=>this.processProvider(o)),this.records.set(MC,al(void 0,this)),i.has("environment")&&this.records.set(Ze,al(void 0,this));let s=this.records.get(Oc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(RC,gn,{self:!0}))}retrieve(e,n){let r=bo(n)||0;try{return this.get(e,xo,r)}catch(i){if(ol(i))return i;throw i}}destroy(){Ac(this),this._destroyed=!0;let e=Y(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Y(e)}}onDestroy(e){return Ac(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ac(this);let n=Xr(this),r=Ln(void 0),i;try{return e()}finally{Xr(n),Ln(r)}}get(e,n=xo,r){if(Ac(this),e.hasOwnProperty(LA))return e[LA](this);let i=bo(r),s,o=Xr(this),a=Ln(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let d=b8(e)&&Pc(e);d&&this.injectableDefInScope(d)?u=al(dC(e),sh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let l=i&2?Bc():this.parent;return n=i&8&&n===xo?null:n,l.get(e,n)}catch(l){let u=m8(l);throw u===-200||u===-201?new V(u,null):l}finally{Ln(a),Xr(o)}}resolveInjectorInitializers(){let e=Y(null),n=Xr(this),r=Ln(void 0),i;try{let s=this.get(ul,gn,{self:!0});for(let o of s)o()}finally{Xr(n),Ln(r),Y(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(xi(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=kt(e);let n=Mo(e)?e:kt(e&&e.provide),r=I8(e);if(!Mo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=al(void 0,sh,!0),i.factory=()=>cC(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=Y(null);try{if(n.value===FA)throw xC(xi(e));return n.value===sh&&(n.value=FA,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&x8(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Y(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=kt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function dC(t){let e=Pc(t),n=e!==null?e.factory:No(t);if(n!==null)return n;if(t instanceof q)throw new V(204,!1);if(t instanceof Function)return D8(t);throw new V(204,!1)}function D8(t){if(t.length>0)throw new V(204,!1);let n=f8(t);return n!==null?()=>n.factory(t):()=>new t}function I8(t){if(QA(t))return al(void 0,t.useValue);{let e=LC(t);return al(e,sh)}}function LC(t,e,n){let r;if(Mo(t)){let i=kt(t);return No(i)||dC(i)}else if(QA(t))r=()=>kt(t.useValue);else if(T8(t))r=()=>t.useFactory(...cC(t.deps||[]));else if(S8(t))r=(i,s)=>Q(kt(t.useExisting),s!==void 0&&s&8?8:void 0);else{let i=kt(t&&(t.useClass||t.provide));if(A8(t))r=()=>new i(...cC(t.deps));else return No(i)||dC(i)}return r}function Ac(t){if(t.destroyed)throw new V(205,!1)}function al(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function A8(t){return!!t.deps}function x8(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function b8(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function fC(t,e){for(let n of t)Array.isArray(n)?fC(n,e):n&&wC(n)?fC(n.\u0275providers,e):e(n)}function Pt(t,e){let n;t instanceof Ro?(Ac(t),n=t):n=new uC(t);let r,i=Xr(n),s=Ln(void 0);try{return e()}finally{Xr(i),Ln(s)}}function ZA(){return GA()!==void 0||ih()!=null}var Er=0,Z=1,ne=2,ht=3,tr=4,nr=5,cl=6,dl=7,et=8,Mi=9,Kr=10,ze=11,fl=12,FC=13,Po=14,Fn=15,Es=16,Lo=17,Zr=18,Ri=19,OC=20,Ai=21,vh=22,hs=23,On=24,Fo=25,Oo=26,Lt=27,ex=1,BC=6,Cs=7,Vc=8,Bo=9,Xe=10;function ei(t){return Array.isArray(t)&&typeof t[ex]=="object"}function Cr(t){return Array.isArray(t)&&t[ex]===!0}function VC(t){return(t.flags&4)!==0}function ws(t){return t.componentOffset>-1}function yh(t){return(t.flags&1)===1}function ti(t){return!!t.template}function pl(t){return(t[ne]&512)!==0}function Vo(t){return(t[ne]&256)===256}var UC="svg",tx="math";function rr(t){for(;Array.isArray(t);)t=t[Er];return t}function $C(t,e){return rr(e[t])}function wr(t,e){return rr(e[t.index])}function Uc(t,e){return t.data[e]}function ir(t,e){let n=e[t];return ei(n)?n:n[Er]}function Eh(t){return(t[ne]&128)===128}function nx(t){return Cr(t[ht])}function ni(t,e){return e==null?null:t[e]}function HC(t){t[Lo]=0}function qC(t){t[ne]&1024||(t[ne]|=1024,Eh(t)&&Uo(t))}function rx(t,e){for(;t>0;)e=e[Po],t--;return e}function $c(t){return!!(t[ne]&9216||t[On]?.dirty)}function Ch(t){t[Kr].changeDetectionScheduler?.notify(8),t[ne]&64&&(t[ne]|=1024),$c(t)&&Uo(t)}function Uo(t){t[Kr].changeDetectionScheduler?.notify(0);let e=ms(t);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!Eh(e)));)e=ms(e)}function GC(t,e){if(Vo(t))throw new V(911,!1);t[Ai]===null&&(t[Ai]=[]),t[Ai].push(e)}function ix(t,e){if(t[Ai]===null)return;let n=t[Ai].indexOf(e);n!==-1&&t[Ai].splice(n,1)}function ms(t){let e=t[ht];return Cr(e)?e[ht]:e}function zC(t){return t[dl]??=[]}function jC(t){return t.cleanup??=[]}function sx(t,e,n,r){let i=zC(e);i.push(n),t.firstCreatePass&&jC(t).push(r,i.length-1)}var fe={lFrame:wx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var pC=!1;function ox(){return fe.lFrame.elementDepthCount}function ax(){fe.lFrame.elementDepthCount++}function WC(){fe.lFrame.elementDepthCount--}function lx(){return fe.bindingsEnabled}function ux(){return fe.skipHydrationRootTNode!==null}function YC(t){return fe.skipHydrationRootTNode===t}function JC(){fe.skipHydrationRootTNode=null}function ge(){return fe.lFrame.lView}function $t(){return fe.lFrame.tView}function yn(t){return fe.lFrame.contextLView=t,t[et]}function En(t){return fe.lFrame.contextLView=null,t}function Ht(){let t=XC();for(;t!==null&&t.type===64;)t=t.parent;return t}function XC(){return fe.lFrame.currentTNode}function cx(){let t=fe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function hl(t,e){let n=fe.lFrame;n.currentTNode=t,n.isParent=e}function QC(){return fe.lFrame.isParent}function dx(){fe.lFrame.isParent=!1}function KC(){return pC}function Nc(t){let e=pC;return pC=t,e}function fx(){let t=fe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function px(t){return fe.lFrame.bindingIndex=t}function $o(){return fe.lFrame.bindingIndex++}function hx(t){let e=fe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function mx(){return fe.lFrame.inI18n}function gx(t,e){let n=fe.lFrame;n.bindingIndex=n.bindingRootIndex=t,wh(e)}function vx(){return fe.lFrame.currentDirectiveIndex}function wh(t){fe.lFrame.currentDirectiveIndex=t}function yx(t){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Ex(){return fe.lFrame.currentQueryIndex}function _h(t){fe.lFrame.currentQueryIndex=t}function N8(t){let e=t[Z];return e.type===2?e.declTNode:e.type===1?t[nr]:null}function ZC(t,e,n){if(n&4){let i=e,s=t;for(;i=i.parent,i===null&&!(n&1);)if(i=N8(s),i===null||(s=s[Po],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=fe.lFrame=Cx();return r.currentTNode=e,r.lView=t,!0}function Sh(t){let e=Cx(),n=t[Z];fe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Cx(){let t=fe.lFrame,e=t===null?null:t.child;return e===null?wx(t):e}function wx(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function _x(){let t=fe.lFrame;return fe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ew=_x;function Th(){let t=_x();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Sx(t){return(fe.lFrame.contextLView=rx(t,fe.lFrame.contextLView))[et]}function _s(){return fe.lFrame.selectedIndex}function Ss(t){fe.lFrame.selectedIndex=t}function Dh(){let t=fe.lFrame;return Uc(t.tView,t.selectedIndex)}function Ft(){fe.lFrame.currentNamespace=UC}function tn(){M8()}function M8(){fe.lFrame.currentNamespace=null}function Tx(){return fe.lFrame.currentNamespace}var Dx=!0;function Ih(){return Dx}function Ah(t){Dx=t}function hC(t,e=null,n=null,r){let i=tw(t,e,n,r);return i.resolveInjectorInitializers(),i}function tw(t,e=null,n=null,r,i=new Set){let s=[n||gn,JA(t)];return r=r||(typeof t=="object"?void 0:xi(t)),new Ro(s,e||Bc(),r||null,i)}var vn=class t{static THROW_IF_NOT_FOUND=xo;static NULL=new bc;static create(e,n){if(Array.isArray(e))return hC({name:""},n,e,"");{let r=e.name??"";return hC({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:t,providedIn:"any",factory:()=>Q(MC)});static __NG_ELEMENT_ID__=-1},lt=new q(""),Bn=(()=>{class t{static __NG_ELEMENT_ID__=R8;static __NG_ENV_ID__=n=>n}return t})(),lh=class extends Bn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Vo(this._lView)}onDestroy(e){let n=this._lView;return GC(n,e),()=>ix(n,e)}};function R8(){return new lh(ge())}var Ix=!1,ki=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Rt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ve(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),mC=class extends it{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ZA()&&(this.destroyRef=b(Bn,{optional:!0})??void 0,this.pendingTasks=b(ki,{optional:!0})??void 0)}emit(e){let n=Y(null);try{super.next(e)}finally{Y(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Mt&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},at=mC;function uh(...t){}function nw(t){let e,n;function r(){t=uh;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function rw(t){return queueMicrotask(()=>t()),()=>{t=uh}}var iw="isAngularZone",Mc=iw+"_ID",k8=0,en=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new at(!1);onMicrotaskEmpty=new at(!1);onStable=new at(!1);onError=new at(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=Ix}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,F8(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(iw)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new V(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,P8,uh,uh);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},P8={};function sw(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function L8(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){nw(()=>{t.callbackScheduled=!1,gC(t),t.isCheckStableRunning=!0,sw(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),gC(t)}function F8(t){let e=()=>{L8(t)},n=k8++;t._inner=t._inner.fork({name:"angular",properties:{[iw]:!0,[Mc]:n,[Mc+n]:!0},onInvokeTask:(r,i,s,o,a,l)=>{if(O8(l))return r.invokeTask(s,o,a,l);try{return OA(t),r.invokeTask(s,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),BA(t)}},onInvoke:(r,i,s,o,a,l,u)=>{try{return OA(t),r.invoke(s,o,a,l,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!B8(l)&&e(),BA(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,gC(t),sw(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function gC(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function OA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function BA(t){t._nesting--,sw(t)}var Rc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new at;onMicrotaskEmpty=new at;onStable=new at;onError=new at;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function O8(t){return Ax(t,"__ignore_ng_zone__")}function B8(t){return Ax(t,"__scheduler_tick__")}function Ax(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var er=class{_console=console;handleError(e){this._console.error("ERROR",e)}},_r=new q("",{factory:()=>{let t=b(en),e=b(Ze),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(er),n.handleError(r))})}}}),xx={provide:ul,useValue:()=>{let t=b(er,{optional:!0})},multi:!0};function Ue(t,e){let[n,r,i]=qE(t,e?.equal),s=n,o=s[Nt];return s.set=r,s.update=i,s.asReadonly=ow.bind(s),s}function ow(){let t=this[Nt];if(t.readonlyFn===void 0){let e=()=>this();e[Nt]=t,t.readonlyFn=e}return t.readonlyFn}var Hc=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=V8}return t})();function V8(){return new Hc(ge(),Ht())}var bi=class{},qc=new q("",{factory:()=>!0});var aw=new q(""),Gc=(()=>{class t{internalPendingTasks=b(ki);scheduler=b(bi);errorHandler=b(_r);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),xh=(()=>{class t{static \u0275prov=H({token:t,providedIn:"root",factory:()=>new vC})}return t})(),vC=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},ch=class{[Nt];constructor(e){this[Nt]=e}destroy(){this[Nt].destroy()}};function ri(t,e){let n=e?.injector??b(vn),r=e?.manualCleanup!==!0?n.get(Bn):null,i,s=n.get(Hc,null,{optional:!0}),o=n.get(bi);return s!==null?(i=H8(s.view,o,t),r instanceof lh&&r._lView===s.view&&(r=null)):i=q8(t,n.get(xh),o),i.injector=n,r!==null&&(i.onDestroyFns=[r.onDestroy(()=>i.destroy())]),new ch(i)}var bx=G(S({},zE),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let t=Nc(!1);try{jE(this)}finally{Nc(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=Y(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],Y(t)}}}),U8=G(S({},bx),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(So(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.scheduler.remove(this)}}),$8=G(S({},bx),{consumerMarkedDirty(){this.view[ne]|=8192,Uo(this.view),this.notifier.notify(13)},destroy(){if(So(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.view[hs]?.delete(this)}});function H8(t,e,n){let r=Object.create($8);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=Nx(r,n),t[hs]??=new Set,t[hs].add(r),r.consumerMarkedDirty(r),r}function q8(t,e,n){let r=Object.create(U8);return r.fn=Nx(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function Nx(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}function mt(t){return GE(t)}function Zc(t){return{toString:t}.toString()}function X8(t){return typeof t=="function"}function ob(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Lh=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},Ds=(()=>{let t=()=>ab;return t.ngInherit=!0,t})();function ab(t){return t.type.prototype.ngOnChanges&&(t.setInput=K8),Q8}function Q8(){let t=ub(this),e=t?.current;if(e){let n=t.previous;if(n===vs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function K8(t,e,n,r,i){let s=this.declaredInputs[r],o=ub(t)||Z8(t,{previous:vs,current:null}),a=o.current||(o.current={}),l=o.previous,u=l[s];a[s]=new Lh(u&&u.currentValue,n,l===vs),ob(t,e,i,n)}var lb="__ngSimpleChanges__";function ub(t){return t[lb]||null}function Z8(t,e){return t[lb]=e}var Mx=[];var ke=function(t,e=null,n){for(let r=0;r<Mx.length;r++){let i=Mx[r];i(t,e,n)}},_e=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(_e||{});function e3(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=ab(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function t3(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function Mh(t,e,n){cb(t,e,3,n)}function Rh(t,e,n,r){(t[ne]&3)===n&&cb(t,e,n,r)}function lw(t,e){let n=t[ne];(n&3)===e&&(n&=16383,n+=1,t[ne]=n)}function cb(t,e,n,r){let i=r!==void 0?t[Lo]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Lo]+=65536),(a<s||s==-1)&&(n3(t,n,e,l),t[Lo]=(t[Lo]&4294901760)+l+2),l++}function Rx(t,e){ke(_e.LifecycleHookStart,t,e);let n=Y(null);try{e.call(t)}finally{Y(n),ke(_e.LifecycleHookEnd,t,e)}}function n3(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[ne]>>14<t[Lo]>>16&&(t[ne]&3)===e&&(t[ne]+=16384,Rx(a,s)):Rx(a,s)}var gl=-1,qo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function r3(t){return(t.flags&8)!==0}function i3(t){return(t.flags&16)!==0}function s3(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];o3(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function db(t){return t===3||t===4||t===6}function o3(t){return t.charCodeAt(0)===64}function vl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?kx(t,n,i,null,e[++r]):kx(t,n,i,null,null))}}return t}function kx(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){i!==null&&(t[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i)}function fb(t){return t!==gl}function Fh(t){return t&32767}function a3(t){return t>>16}function Oh(t,e){let n=a3(t),r=e;for(;n>0;)r=r[Po],n--;return r}var Ew=!0;function Px(t){let e=Ew;return Ew=t,e}var l3=256,pb=l3-1,hb=5,u3=0,ii={};function c3(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ko)&&(r=n[ko]),r==null&&(r=n[ko]=u3++);let i=r&pb,s=1<<i;e.data[t+(i>>hb)]|=s}function Bh(t,e){let n=mb(t,e);if(n!==-1)return n;let r=e[Z];r.firstCreatePass&&(t.injectorIndex=e.length,uw(r.data,t),uw(e,null),uw(r.blueprint,null));let i=jw(t,e),s=t.injectorIndex;if(fb(i)){let o=Fh(i),a=Oh(i,e),l=a[Z].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function uw(t,e){t.push(0,0,0,0,0,0,0,0,e)}function mb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function jw(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Cb(i),r===null)return gl;if(n++,i=i[Po],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return gl}function Cw(t,e,n){c3(t,e,n)}function d3(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(db(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function gb(t,e,n){if(n&8||t!==void 0)return t;hh(e,"NodeInjector")}function vb(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Mi],s=Ln(void 0);try{return i?i.get(e,r,n&8):bC(e,r,n&8)}finally{Ln(s)}}return gb(r,e,n)}function yb(t,e,n,r=0,i){if(t!==null){if(e[ne]&2048&&!(r&2)){let o=m3(t,e,n,r,ii);if(o!==ii)return o}let s=Eb(t,e,n,r,ii);if(s!==ii)return s}return vb(e,n,r,i)}function Eb(t,e,n,r,i){let s=p3(n);if(typeof s=="function"){if(!ZC(e,t,r))return r&1?gb(i,n,r):vb(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&8))hh(n);else return o}finally{ew()}}else if(typeof s=="number"){let o=null,a=mb(t,e),l=gl,u=r&1?e[Fn][nr]:null;for((a===-1||r&4)&&(l=a===-1?jw(t,e):e[a+8],l===gl||!Fx(r,!1)?a=-1:(o=e[Z],a=Fh(l),e=Oh(l,e)));a!==-1;){let d=e[Z];if(Lx(s,a,d.data)){let p=f3(a,e,n,o,r,u);if(p!==ii)return p}l=e[a+8],l!==gl&&Fx(r,e[Z].data[a+8]===u)&&Lx(s,a,e)?(o=d,a=Fh(l),e=Oh(l,e)):a=-1}}return i}function f3(t,e,n,r,i,s){let o=e[Z],a=o.data[t+8],l=r==null?ws(a)&&Ew:r!=o&&(a.type&3)!==0,u=i&1&&s===a,d=kh(a,o,n,l,u);return d!==null?Wc(e,o,d,a,i):ii}function kh(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,u=t.directiveEnd,d=s>>20,p=r?a:a+d,h=i?a+d:u;for(let m=p;m<h;m++){let v=o[m];if(m<l&&n===v||m>=l&&v.type===n)return m}if(i){let m=o[l];if(m&&ti(m)&&m.type===n)return l}return null}function Wc(t,e,n,r,i){let s=t[n],o=e.data;if(s instanceof qo){let a=s;if(a.resolving){let m=$A(o[n]);throw xC(m)}let l=Px(a.canSeeViewProviders);a.resolving=!0;let u=o[n].type||o[n],d,p=a.injectImpl?Ln(a.injectImpl):null,h=ZC(t,r,0);try{s=t[n]=a.factory(void 0,i,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&e3(n,o[n],e)}finally{p!==null&&Ln(p),Px(l),a.resolving=!1,ew()}}return s}function p3(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ko)?t[ko]:void 0;return typeof e=="number"?e>=0?e&pb:h3:e}function Lx(t,e,n){let r=1<<t;return!!(n[e+(t>>hb)]&r)}function Fx(t,e){return!(t&2)&&!(t&1&&e)}var Ho=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return yb(this._tNode,this._lView,e,bo(r),n)}};function h3(){return new Ho(Ht(),ge())}function si(t){return Zc(()=>{let e=t.prototype.constructor,n=e[xc]||ww(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[xc]||ww(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ww(t){return EC(t)?()=>{let e=ww(kt(t));return e&&e()}:No(t)}function m3(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[ne]&2048&&!pl(o);){let a=Eb(s,o,n,r|2,ii);if(a!==ii)return a;let l=s.parent;if(!l){let u=o[OC];if(u){let d=u.get(n,ii,r);if(d!==ii)return d}l=Cb(o),o=o[Po]}s=l}return i}function Cb(t){let e=t[Z],n=e.type;return n===2?e.declTNode:n===1?t[nr]:null}function ed(t){return d3(Ht(),t)}function g3(){return _l(Ht(),ge())}function _l(t,e){return new Vn(wr(t,e))}var Vn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=g3}return t})();function v3(t){return t instanceof Vn?t.nativeElement:t}function y3(){return this._results[Symbol.iterator]()}var Vh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new it}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=jA(e);(this._changesDetected=!zA(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=y3};function wb(t){return(t.flags&128)===128}var Ww=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Ww||{}),_b=new Map,E3=0;function C3(){return E3++}function w3(t){_b.set(t[Ri],t)}function _w(t){_b.delete(t[Ri])}var Ox="__ngContext__";function yl(t,e){ei(e)?(t[Ox]=e[Ri],w3(e)):t[Ox]=e}function Sb(t){return Db(t[fl])}function Tb(t){return Db(t[tr])}function Db(t){for(;t!==null&&!Cr(t);)t=t[tr];return t}var _3;function Yw(t){_3=t}var Zh=new q("",{factory:()=>S3}),S3="ng";var em=new q(""),td=new q("",{providedIn:"platform",factory:()=>"unknown"});var tm=new q("",{factory:()=>b(lt).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Ib="r";var Ab="di";var xb=!1,bb=new q("",{factory:()=>xb});var T3=(t,e,n,r)=>{};function D3(t,e,n,r){T3(t,e,n,r)}function Jw(t){return(t.flags&32)===32}var I3=()=>null;function Nb(t,e,n=!1){return I3(t,e,n)}function Mb(t,e){let n=t.contentQueries;if(n!==null){let r=Y(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];_h(s),a.contentQueries(2,e[o],o)}}}finally{Y(r)}}}function Sw(t,e,n){_h(0);let r=Y(null);try{e(t,n)}finally{Y(r)}}function Rb(t,e,n){if(VC(e)){let r=Y(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{Y(r)}}}var Tr=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(Tr||{});var bh;function A3(){if(bh===void 0&&(bh=null,kc.trustedTypes))try{bh=kc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return bh}function Bx(t){return A3()?.createScriptURL(t)||t}var Uh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dh})`}};function nm(t){return t instanceof Uh?t.changingThisBreaksApplicationSecurity:t}function Xw(t,e){let n=kb(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${dh})`)}return n===e}function kb(t){return t instanceof Uh&&t.getTypeName()||null}var x3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Pb(t){return t=String(t),t.match(x3)?t:"unsafe:"+t}function b3(t,e){return t.createText(e)}function N3(t,e,n){t.setValue(e,n)}function Lb(t,e,n){return t.createElement(e,n)}function $h(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Fb(t,e,n){t.appendChild(e,n)}function Vx(t,e,n,r,i){r!==null?$h(t,e,n,r,i):Fb(t,e,n)}function Ob(t,e,n,r){t.removeChild(null,e,n,r)}function M3(t,e,n){t.setAttribute(e,"style",n)}function R3(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Bb(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&s3(t,e,r),i!==null&&R3(t,e,i),s!==null&&M3(t,e,s)}var rm=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(rm||{});function Is(t){let e=Ub();return e?e.sanitize(rm.URL,t)||"":Xw(t,"URL")?nm(t):Pb(Lc(t))}function Vb(t){let e=Ub();if(e)return Bx(e.sanitize(rm.RESOURCE_URL,t)||"");if(Xw(t,"ResourceURL"))return Bx(nm(t));throw new V(904,!1)}var k3=new Set(["embed","frame","iframe","media","script"]),P3=new Set(["base","link","script"]);function L3(t,e){return e==="src"&&k3.has(t)||e==="href"&&P3.has(t)||e==="xlink:href"&&t==="script"?Vb:Is}function Qw(t,e,n){return L3(e,n)(t)}function Ub(){let t=ge();return t&&t[Kr].sanitizer}function $b(t){return t instanceof Function?t():t}function F3(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}var Hb="ng-template";function O3(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&F3(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Kw(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Kw(t){return t.type===4&&t.value!==Hb}function B3(t,e,n){let r=t.type===4&&!n?Hb:t.value;return e===r}function V3(t,e,n){let r=4,i=t.attrs,s=i!==null?H3(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Sr(r)&&!Sr(l))return!1;if(o&&Sr(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!B3(t,l,n)||l===""&&e.length===1){if(Sr(r))return!1;o=!0}}else if(r&8){if(i===null||!O3(t,i,l,n)){if(Sr(r))return!1;o=!0}}else{let u=e[++a],d=U3(l,i,Kw(t),n);if(d===-1){if(Sr(r))return!1;o=!0;continue}if(u!==""){let p;if(d>s?p="":p=i[d+1].toLowerCase(),r&2&&u!==p){if(Sr(r))return!1;o=!0}}}}return Sr(r)||o}function Sr(t){return(t&1)===0}function U3(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return q3(e,t)}function $3(t,e,n=!1){for(let r=0;r<e.length;r++)if(V3(t,e[r],n))return!0;return!1}function H3(t){for(let e=0;e<t.length;e++){let n=t[e];if(db(n))return e}return t.length}function q3(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Ux(t,e){return t?":not("+e.trim()+")":e}function G3(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Sr(o)&&(e+=Ux(s,i),i=""),r=o,s=s||!Sr(r);n++}return i!==""&&(e+=Ux(s,i)),e}function z3(t){return t.map(G3).join(",")}function j3(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Sr(i))break;i=s}r++}return n.length&&e.push(1,...n),e}var oi={};function Zw(t,e,n,r,i,s,o,a,l,u,d){let p=Lt+r,h=p+i,m=W3(p,h),v=typeof u=="function"?u():u;return m[Z]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:d}}function W3(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:oi);return n}function Y3(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Zw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function e_(t,e,n,r,i,s,o,a,l,u,d){let p=e.blueprint.slice();return p[Er]=i,p[ne]=r|4|128|8|64|1024,(u!==null||t&&t[ne]&2048)&&(p[ne]|=2048),HC(p),p[ht]=p[Po]=t,p[et]=n,p[Kr]=o||t&&t[Kr],p[ze]=a||t&&t[ze],p[Mi]=l||t&&t[Mi]||null,p[nr]=s,p[Ri]=C3(),p[cl]=d,p[OC]=u,p[Fn]=e.type==2?t[Fn]:p,p}function J3(t,e,n){let r=wr(e,t),i=Y3(n),s=t[Kr].rendererFactory,o=t_(t,e_(t,i,null,qb(n),r,e,null,s.createRenderer(r,n),null,null,null));return t[e.index]=o}function qb(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Gb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function t_(t,e){return t[fl]?t[FC][tr]=e:t[fl]=e,t[FC]=e,e}function J(t=1){zb($t(),ge(),_s()+t,!1)}function zb(t,e,n,r){if(!r)if((e[ne]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Mh(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Rh(e,s,0,n)}Ss(n)}var im=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(im||{});function Tw(t,e,n,r){let i=Y(null);try{let[s,o,a]=t.inputs[n],l=null;(o&im.SignalBased)!==0&&(l=e[s][Nt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,s):ob(e,l,s,r)}finally{Y(i)}}var Pi=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Pi||{}),X3;function n_(t,e){return X3(t,e)}var Go=new Set,sm=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(sm||{}),Li=new q(""),$x=new Set;function Fi(t){$x.has(t)||($x.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var r_=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),jb=[0,1,2,3],Wb=(()=>{class t{ngZone=b(en);scheduler=b(bi);errorHandler=b(er,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){b(Li,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ke(_e.AfterRenderHooksStart),this.executing=!0;for(let r of jb)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ke(_e.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Fo]??=[]).push(n),Uo(r),r[ne]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(sm.AFTER_NEXT_RENDER,n):n()}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),Hh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,s,o=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Fo];e&&(this.view[Fo]=e.filter(n=>n!==this))}};function om(t,e){let n=e?.injector??b(vn);return Fi("NgAfterNextRender"),K3(t,n,e,!0)}function Q3(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function K3(t,e,n,r){let i=e.get(r_);i.impl??=e.get(Wb);let s=e.get(Li,null,{optional:!0}),o=n?.manualCleanup!==!0?e.get(Bn):null,a=e.get(Hc,null,{optional:!0}),l=new Hh(i.impl,Q3(t),a?.view,r,o,s?.snapshot(null));return i.impl.register(l),l}var Yb=new q("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:b(Ze)})});function Jb(t,e,n){let r=t.get(Yb);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function Z3(t,e){let n=t.get(Yb);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function eq(t,e){for(let[n,r]of e)Jb(t,r.animateFns)}function Hx(t,e,n,r){let i=t?.[Oo]?.enter;e!==null&&i&&i.has(n.index)&&eq(r,i)}function ml(t,e,n,r,i,s,o,a){if(i!=null){let l,u=!1;Cr(i)?l=i:ei(i)&&(u=!0,i=i[Er]);let d=rr(i);t===0&&r!==null?(Hx(a,r,s,n),o==null?Fb(e,r,d):$h(e,r,d,o||null,!0)):t===1&&r!==null?(Hx(a,r,s,n),$h(e,r,d,o||null,!0)):t===2?qx(a,s,n,p=>{Ob(e,d,u,p)}):t===3&&qx(a,s,n,()=>{e.destroyNode(d)}),l!=null&&pq(e,t,n,l,s,r,o)}}function tq(t,e){Xb(t,e),e[Er]=null,e[nr]=null}function nq(t,e,n,r,i,s){r[Er]=i,r[nr]=e,lm(t,r,n,1,i,s)}function Xb(t,e){e[Kr].changeDetectionScheduler?.notify(9),lm(t,e,e[ze],2,null,null)}function rq(t){let e=t[fl];if(!e)return cw(t[Z],t);for(;e;){let n=null;if(ei(e))n=e[fl];else{let r=e[Xe];r&&(n=r)}if(!n){for(;e&&!e[tr]&&e!==t;)ei(e)&&cw(e[Z],e),e=e[ht];e===null&&(e=t),ei(e)&&cw(e[Z],e),n=e&&e[tr]}e=n}}function i_(t,e){let n=t[Bo],r=n.indexOf(e);n.splice(r,1)}function am(t,e){if(Vo(e))return;let n=e[ze];n.destroyNode&&lm(t,e,n,3,null,null),rq(e)}function cw(t,e){if(Vo(e))return;let n=Y(null);try{e[ne]&=-129,e[ne]|=256,e[On]&&So(e[On]),oq(t,e),sq(t,e),e[Z].type===1&&e[ze].destroy();let r=e[Es];if(r!==null&&Cr(e[ht])){r!==e[ht]&&i_(r,e);let i=e[Zr];i!==null&&i.detachView(t)}_w(e)}finally{Y(n)}}function qx(t,e,n,r){let i=t?.[Oo];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Go.add(t[Ri]),Jb(n,()=>{if(i.leave&&i.leave.has(e.index)){let o=i.leave.get(e.index),a=[];if(o){for(let l=0;l<o.animateFns.length;l++){let u=o.animateFns[l],{promise:d}=u();a.push(d)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),iq(t,r)}else t&&Go.delete(t[Ri]),r(!1)},i)}function iq(t,e){let n=t[Oo]?.running;if(n){n.then(()=>{t[Oo].running=void 0,Go.delete(t[Ri]),e(!0)});return}e(!1)}function sq(t,e){let n=t.cleanup,r=e[dl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[n[o+1]];n[o].call(a)}r!==null&&(e[dl]=null);let i=e[Ai];if(i!==null){e[Ai]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[hs];if(s!==null){e[hs]=null;for(let o of s)o.destroy()}}function oq(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof qo)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];ke(_e.LifecycleHookStart,a,l);try{l.call(a)}finally{ke(_e.LifecycleHookEnd,a,l)}}else{ke(_e.LifecycleHookStart,i,s);try{s.call(i)}finally{ke(_e.LifecycleHookEnd,i,s)}}}}}function aq(t,e,n){return lq(t,e.parent,n)}function lq(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Er];if(ws(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Tr.None||i===Tr.Emulated)return null}return wr(r,n)}function uq(t,e,n){return dq(t,e,n)}function cq(t,e,n){return t.type&40?wr(t,n):null}var dq=cq,Gx;function s_(t,e,n,r){let i=aq(t,r,e),s=e[ze],o=r.parent||e[nr],a=uq(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Vx(s,i,n[l],a,!1);else Vx(s,i,n,a,!1);Gx!==void 0&&Gx(s,r,e,n,i)}function zc(t,e){if(e!==null){let n=e.type;if(n&3)return wr(e,t);if(n&4)return Dw(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return zc(t,r);{let i=t[e.index];return Cr(i)?Dw(-1,i):rr(i)}}else{if(n&128)return zc(t,e.next);if(n&32)return n_(e,t)()||rr(t[e.index]);{let r=Qb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ms(t[Fn]);return zc(i,r)}else return zc(t,e.next)}}}return null}function Qb(t,e){if(e!==null){let r=t[Fn][nr],i=e.projection;return r.projection[i]}return null}function Dw(t,e){let n=Xe+t+1;if(n<e.length){let r=e[n],i=r[Z].firstChild;if(i!==null)return zc(r,i)}return e[Cs]}function o_(t,e,n,r,i,s,o){for(;n!=null;){let a=r[Mi];if(n.type===128){n=n.next;continue}let l=r[n.index],u=n.type;if(o&&e===0&&(l&&yl(rr(l),r),n.flags|=2),!Jw(n))if(u&8)o_(t,e,n.child,r,i,s,!1),ml(e,t,a,i,l,n,s,r);else if(u&32){let d=n_(n,r),p;for(;p=d();)ml(e,t,a,i,p,n,s,r);ml(e,t,a,i,l,n,s,r)}else u&16?fq(t,e,r,n,i,s):ml(e,t,a,i,l,n,s,r);n=o?n.projectionNext:n.next}}function lm(t,e,n,r,i,s){o_(n,r,t.firstChild,e,i,s,!1)}function fq(t,e,n,r,i,s){let o=n[Fn],l=o[nr].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let d=l[u];ml(e,t,n[Mi],i,d,r,s,n)}else{let u=l,d=o[ht];wb(r)&&(u.flags|=128),o_(t,e,u,d,i,s,!0)}}function pq(t,e,n,r,i,s,o){let a=r[Cs],l=rr(r);a!==l&&ml(e,t,n,s,a,i,o);for(let u=Xe;u<r.length;u++){let d=r[u];lm(d[Z],d,t,e,s,a)}}function hq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Pi.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Pi.Important),t.setStyle(n,r,i,s))}}function Kb(t,e,n,r,i){let s=_s(),o=r&2;try{Ss(-1),o&&e.length>Lt&&zb(t,e,Lt,!1);let a=o?_e.TemplateUpdateStart:_e.TemplateCreateStart;ke(a,i,n),n(r,i)}finally{Ss(s);let a=o?_e.TemplateUpdateEnd:_e.TemplateCreateEnd;ke(a,i,n)}}function Zb(t,e,n){wq(t,e,n),(n.flags&64)===64&&_q(t,e,n)}function a_(t,e,n=wr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function mq(t,e,n,r){let s=r.get(bb,xb)||n===Tr.ShadowDom||n===Tr.ExperimentalIsolatedShadowDom,o=t.selectRootElement(e,s);return gq(o),o}function gq(t){vq(t)}var vq=()=>null;function yq(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function eN(t,e,n,r,i,s){let o=e[Z];if(l_(t,o,e,n,r)){ws(t)&&Cq(e,t.index);return}t.type&3&&(n=yq(n)),Eq(t,e,n,r,i,s)}function Eq(t,e,n,r,i,s){if(t.type&3){let o=wr(t,e);r=s!=null?s(r,t.value||"",n):r,i.setProperty(o,n,r)}else t.type&12}function Cq(t,e){let n=ir(e,t);n[ne]&16||(n[ne]|=64)}function wq(t,e,n){let r=n.directiveStart,i=n.directiveEnd;ws(n)&&J3(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Bh(n,e);let s=n.initialInputs;for(let o=r;o<i;o++){let a=t.data[o],l=Wc(e,t,o,n);if(yl(l,e),s!==null&&Aq(e,o-r,l,a,n,s),ti(a)){let u=ir(n.index,e);u[et]=Wc(e,t,o,n)}}}function _q(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=vx();try{Ss(s);for(let a=r;a<i;a++){let l=t.data[a],u=e[a];wh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Sq(l,u)}}finally{Ss(-1),wh(o)}}function Sq(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Tq(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];$3(e,s.selectors,!1)&&(r??=[],ti(s)?r.unshift(s):r.push(s))}return r}function Dq(t,e,n,r,i,s){let o=wr(t,e);Iq(e[ze],o,s,t.value,n,r,i)}function Iq(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Lc(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function Aq(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let l=o[a],u=o[a+1];Tw(r,n,l,u)}}function tN(t,e,n,r,i){let s=Lt+n,o=e[Z],a=i(o,e,t,r,n);e[s]=a,hl(t,!0);let l=t.type===2;return l?(Bb(e[ze],a,t),(ox()===0||yh(t))&&yl(a,e),ax()):yl(a,e),Ih()&&(!l||!Jw(t))&&s_(o,e,a,t),t}function nN(t){let e=t;return QC()?dx():(e=e.parent,hl(e,!1)),e}function xq(t,e){let n=t[Mi];if(!n)return;let r;try{r=n.get(_r,null)}catch{r=null}r?.(e)}function l_(t,e,n,r,i){let s=t.inputs?.[r],o=t.hostDirectiveInputs?.[r],a=!1;if(o)for(let l=0;l<o.length;l+=2){let u=o[l],d=o[l+1],p=e.data[u];Tw(p,n[u],d,i),a=!0}if(s)for(let l of s){let u=n[l],d=e.data[l];Tw(d,u,r,i),a=!0}return a}function bq(t,e){let n=ir(e,t),r=n[Z];Nq(r,n);let i=n[Er];i!==null&&n[cl]===null&&(n[cl]=Nb(i,n[Mi])),ke(_e.ComponentStart);try{u_(r,n,n[et])}finally{ke(_e.ComponentEnd,n[et])}}function Nq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function u_(t,e,n){Sh(e);try{let r=t.viewQuery;r!==null&&Sw(1,r,n);let i=t.template;i!==null&&Kb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Zr]?.finishViewCreation(t),t.staticContentQueries&&Mb(t,e),t.staticViewQueries&&Sw(2,t.viewQuery,n);let s=t.components;s!==null&&Mq(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,Th()}}function Mq(t,e){for(let n=0;n<e.length;n++)bq(t,e[n])}function um(t,e,n,r){let i=Y(null);try{let s=e.tView,a=t[ne]&4096?4096:16,l=e_(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];l[Es]=u;let d=t[Zr];return d!==null&&(l[Zr]=d.createEmbeddedView(s)),u_(s,l,n),l}finally{Y(i)}}function Yc(t,e){return!e||e.firstChild===null||wb(t)}function Jc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(rr(s)),Cr(s)&&rN(s,r);let o=n.type;if(o&8)Jc(t,e,n.child,r);else if(o&32){let a=n_(n,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=Qb(e,n);if(Array.isArray(a))r.push(...a);else{let l=ms(e[Fn]);Jc(l[Z],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function rN(t,e){for(let n=Xe;n<t.length;n++){let r=t[n],i=r[Z].firstChild;i!==null&&Jc(r[Z],r,i,e)}t[Cs]!==t[Er]&&e.push(t[Cs])}function iN(t){if(t[Fo]!==null){for(let e of t[Fo])e.impl.addSequence(e);t[Fo].length=0}}var sN=[];function Rq(t){return t[On]??kq(t)}function kq(t){let e=sN.pop()??Object.create(Lq);return e.lView=t,e}function Pq(t){t.lView[On]!==t&&(t.lView=null,sN.push(t))}var Lq=G(S({},Xa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Uo(t.lView)},consumerOnSignalRead(){this.lView[On]=this}});function Fq(t){let e=t[On]??Object.create(Oq);return e.lView=t,e}var Oq=G(S({},Xa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ms(t.lView);for(;e&&!oN(e[Z]);)e=ms(e);e&&qC(e)},consumerOnSignalRead(){this.lView[On]=this}});function oN(t){return t.type!==2}function aN(t){if(t[hs]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[hs])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[ne]&8192)}}var Bq=100;function lN(t,e=0){let r=t[Kr].rendererFactory,i=!1;i||r.begin?.();try{Vq(t,e)}finally{i||r.end?.()}}function Vq(t,e){let n=KC();try{Nc(!0),Iw(t,e);let r=0;for(;$c(t);){if(r===Bq)throw new V(103,!1);r++,Iw(t,1)}}finally{Nc(n)}}function Uq(t,e,n,r){if(Vo(e))return;let i=e[ne],s=!1,o=!1;Sh(e);let a=!0,l=null,u=null;s||(oN(t)?(u=Rq(e),l=Qa(u)):Rp()===null?(a=!1,u=Fq(e),l=Qa(u)):e[On]&&(So(e[On]),e[On]=null));try{HC(e),px(t.bindingStartIndex),n!==null&&Kb(t,e,n,2,r);let d=(i&3)===3;if(!s)if(d){let m=t.preOrderCheckHooks;m!==null&&Mh(e,m,null)}else{let m=t.preOrderHooks;m!==null&&Rh(e,m,0,null),lw(e,0)}if(o||$q(e),aN(e),uN(e,0),t.contentQueries!==null&&Mb(t,e),!s)if(d){let m=t.contentCheckHooks;m!==null&&Mh(e,m)}else{let m=t.contentHooks;m!==null&&Rh(e,m,1),lw(e,1)}qq(t,e);let p=t.components;p!==null&&dN(e,p,0);let h=t.viewQuery;if(h!==null&&Sw(2,h,r),!s)if(d){let m=t.viewCheckHooks;m!==null&&Mh(e,m)}else{let m=t.viewHooks;m!==null&&Rh(e,m,2),lw(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[vh]){for(let m of e[vh])m();e[vh]=null}s||(iN(e),e[ne]&=-73)}catch(d){throw s||Uo(e),d}finally{u!==null&&(yc(u,l),a&&Pq(u)),Th()}}function uN(t,e){for(let n=Sb(t);n!==null;n=Tb(n))for(let r=Xe;r<n.length;r++){let i=n[r];cN(i,e)}}function $q(t){for(let e=Sb(t);e!==null;e=Tb(e)){if(!(e[ne]&2))continue;let n=e[Bo];for(let r=0;r<n.length;r++){let i=n[r];qC(i)}}}function Hq(t,e,n){ke(_e.ComponentStart);let r=ir(e,t);try{cN(r,n)}finally{ke(_e.ComponentEnd,r[et])}}function cN(t,e){Eh(t)&&Iw(t,e)}function Iw(t,e){let r=t[Z],i=t[ne],s=t[On],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Ec(s)),o||=!1,s&&(s.dirty=!1),t[ne]&=-9217,o)Uq(r,t,r.template,t[et]);else if(i&8192){let a=Y(null);try{aN(t),uN(t,1);let l=r.components;l!==null&&dN(t,l,1),iN(t)}finally{Y(a)}}}function dN(t,e,n){for(let r=0;r<e.length;r++)Hq(t,e[r],n)}function qq(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ss(~i);else{let s=i,o=n[++r],a=n[++r];gx(o,s);let l=e[s];ke(_e.HostBindingsUpdateStart,l);try{a(2,l)}finally{ke(_e.HostBindingsUpdateEnd,l)}}}}finally{Ss(-1)}}function c_(t,e){let n=KC()?64:1088;for(t[Kr].changeDetectionScheduler?.notify(e);t;){t[ne]|=n;let r=ms(t);if(pl(t)&&!r)return t;t=r}return null}function fN(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function pN(t,e){let n=Xe+e;if(n<t.length)return t[n]}function cm(t,e,n,r=!0){let i=e[Z];if(Gq(i,e,t,n),r){let o=Dw(n,t),a=e[ze],l=a.parentNode(t[Cs]);l!==null&&nq(i,t[nr],a,e,l,o)}let s=e[cl];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function hN(t,e){let n=Xc(t,e);return n!==void 0&&am(n[Z],n),n}function Xc(t,e){if(t.length<=Xe)return;let n=Xe+e,r=t[n];if(r){let i=r[Es];i!==null&&i!==t&&i_(i,r),e>0&&(t[n-1][tr]=r[tr]);let s=Fc(t,Xe+e);tq(r[Z],r);let o=s[Zr];o!==null&&o.detachView(s[Z]),r[ht]=null,r[tr]=null,r[ne]&=-129}return r}function Gq(t,e,n,r){let i=Xe+r,s=n.length;r>0&&(n[i-1][tr]=e),r<s-Xe?(e[tr]=n[i],NC(n,Xe+r,e)):(n.push(e),e[tr]=null),e[ht]=n;let o=e[Es];o!==null&&n!==o&&mN(o,e);let a=e[Zr];a!==null&&a.insertView(t),Ch(e),e[ne]|=128}function mN(t,e){let n=t[Bo],r=e[ht];if(ei(r))t[ne]|=2;else{let i=r[ht][Fn];e[Fn]!==i&&(t[ne]|=2)}n===null?t[Bo]=[e]:n.push(e)}var Ts=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[Z];return Jc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[et]}set context(e){this._lView[et]=e}get destroyed(){return Vo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ht];if(Cr(e)){let n=e[Vc],r=n?n.indexOf(this):-1;r>-1&&(Xc(e,r),Fc(n,r))}this._attachedToViewContainer=!1}am(this._lView[Z],this._lView)}onDestroy(e){GC(this._lView,e)}markForCheck(){c_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){Ch(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,lN(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=pl(this._lView),n=this._lView[Es];n!==null&&!e&&i_(n,this._lView),Xb(this._lView[Z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let n=pl(this._lView),r=this._lView[Es];r!==null&&!n&&mN(r,this._lView),Ch(this._lView)}};var El=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=zq;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let s=um(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Ts(s)}}return t})();function zq(){return d_(Ht(),ge())}function d_(t,e){return t.type&4?new El(e,t,_l(t,e)):null}function dm(t,e,n,r,i){let s=t.data[e];if(s===null)s=jq(t,e,n,r,i),mx()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=cx();s.injectorIndex=o===null?-1:o.injectorIndex}return hl(s,!0),s}function jq(t,e,n,r,i){let s=XC(),o=QC(),a=o?s:s&&s.parent,l=t.data[e]=Yq(t,a,n,e,r,i);return Wq(t,l,s,o),l}function Wq(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Yq(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return ux()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Jq(t){let e=t[BC]??[],r=t[ht][ze],i=[];for(let s of e)s.data[Ab]!==void 0?i.push(s):Xq(s,r);t[BC]=i}function Xq(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Ib];for(;n<i;){let s=r.nextSibling;Ob(e,r,!1),r=s,n++}}}var Qq=()=>null,Kq=()=>null;function Aw(t,e){return Qq(t,e)}function gN(t,e,n){return Kq(t,e,n)}var vN=class{},fm=class{},xw=class{resolveComponentFactory(e){throw new V(917,!1)}},nd=class{static NULL=new xw},zo=class{},Oi=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Zq()}return t})();function Zq(){let t=ge(),e=Ht(),n=ir(e.index,t);return(ei(n)?n:t)[ze]}var yN=(()=>{class t{static \u0275prov=H({token:t,providedIn:"root",factory:()=>null})}return t})();var Ph={},bw=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Ph,r);return i!==Ph||n===Ph?i:this.parentInjector.get(e,n,r)}};function qh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=yC(i,a);else if(s==2){let l=a,u=e[++o];r=yC(r,l+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ce(t,e=0){let n=ge();if(n===null)return Q(t,e);let r=Ht();return yb(r,n,kt(t),e)}function eG(t,e,n,r,i){let s=r===null?null:{"":-1},o=i(t,n);if(o!==null){let a=o,l=null,u=null;for(let d of o)if(d.resolveHostDirectives!==null){[a,l,u]=d.resolveHostDirectives(o);break}rG(t,e,n,a,s,l,u)}s!==null&&r!==null&&tG(n,r,s)}function tG(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new V(-301,!1);r.push(e[i],s)}}function nG(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function rG(t,e,n,r,i,s,o){let a=r.length,l=null;for(let h=0;h<a;h++){let m=r[h];l===null&&ti(m)&&(l=m,nG(t,n,h)),Cw(Bh(n,e),t,m.type)}uG(n,t.data.length,a),l?.viewProvidersResolver&&l.viewProvidersResolver(l);for(let h=0;h<a;h++){let m=r[h];m.providersResolver&&m.providersResolver(m)}let u=!1,d=!1,p=Gb(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let m=r[h];if(n.mergedAttrs=vl(n.mergedAttrs,m.hostAttrs),sG(t,n,e,p,m),lG(p,m,i),o!==null&&o.has(m)){let[C,w]=o.get(m);n.directiveToIndex.set(m.type,[p,C+n.directiveStart,w+n.directiveStart])}else(s===null||!s.has(m))&&n.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let v=m.type.prototype;!u&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!d&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),d=!0),p++}iG(t,n,s)}function iG(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))zx(0,e,i,r),zx(1,e,i,r),Wx(e,r,!1);else{let s=n.get(i);jx(0,e,s,r),jx(1,e,s,r),Wx(e,r,!0)}}}function zx(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;t===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),EN(e,s)}}function jx(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),EN(e,o)}}function EN(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Wx(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:s}=t;if(r===null||!n&&i===null||n&&s===null||Kw(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let u=i[l];for(let d of u)if(d===e){o??=[],o.push(l,r[a+1]);break}}else if(n&&s.hasOwnProperty(l)){let u=s[l];for(let d=0;d<u.length;d+=2)if(u[d]===e){o??=[],o.push(u[d+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(o)}function sG(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=No(i.type,!0)),o=new qo(s,ti(i),Ce,null);t.blueprint[r]=o,n[r]=o,oG(t,e,r,Gb(t,n,i.hostVars,oi),i)}function oG(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;aG(o)!=a&&o.push(a),o.push(n,r,s)}}function aG(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function lG(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ti(e)&&(n[""]=t)}}function uG(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function CN(t,e,n,r,i,s,o,a){let l=e[Z],u=l.consts,d=ni(u,o),p=dm(l,t,n,r,d);return s&&eG(l,e,p,ni(u,a),i),p.mergedAttrs=vl(p.mergedAttrs,p.attrs),p.attrs!==null&&qh(p,p.attrs,!1),p.mergedAttrs!==null&&qh(p,p.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,p),p}function wN(t,e){t3(t,e),VC(e)&&t.queries.elementEnd(e)}function cG(t,e,n,r,i,s){let o=e.consts,a=ni(o,i),l=dm(e,t,n,r,a);if(l.mergedAttrs=vl(l.mergedAttrs,l.attrs),s!=null){let u=ni(o,s);l.localNames=[];for(let d=0;d<u.length;d+=2)l.localNames.push(u[d],-1)}return l.attrs!==null&&qh(l,l.attrs,!1),l.mergedAttrs!==null&&qh(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function dG(t,e,n){return t[e]=n}function As(t,e,n){if(n===oi)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function dw(t,e,n){return function r(i){let s=ws(t)?ir(t.index,e):e;c_(s,5);let o=e[et],a=Yx(e,o,n,i),l=r.__ngNextListenerFn__;for(;l;)a=Yx(e,o,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function Yx(t,e,n,r){let i=Y(null);try{return ke(_e.OutputStart,e,n),n(r)!==!1}catch(s){return xq(t,s),!1}finally{ke(_e.OutputEnd,e,n),Y(i)}}function fG(t,e,n,r,i,s,o,a){let l=yh(t),u=!1,d=null;if(!r&&l&&(d=hG(e,n,s,t.index)),d!==null){let p=d.__ngLastListenerFn__||d;p.__ngNextListenerFn__=o,d.__ngLastListenerFn__=o,u=!0}else{let p=wr(t,n),h=r?r(p):p;D3(n,h,s,a);let m=i.listen(h,s,a);if(!pG(s)){let v=r?C=>r(rr(C[t.index])):t.index;_N(v,e,n,s,a,m,!1)}}return u}function pG(t){return t.startsWith("animation")||t.startsWith("transition")}function hG(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[dl],l=i[s+2];return a&&a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function _N(t,e,n,r,i,s,o){let a=e.firstCreatePass?jC(e):null,l=zC(n),u=l.length;l.push(i,s),a&&a.push(r,t,u,(u+1)*(o?-1:1))}function Jx(t,e,n,r,i,s){let o=e[n],a=e[Z],u=a.data[n].outputs[r],p=o[u].subscribe(s);_N(t.index,a,e,i,s,p,!0)}var Nw=Symbol("BINDING");var Gh=class extends nd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ni(e);return new jo(n,this.ngModule)}};function mG(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],s={propName:n,templateName:e,isSignal:(r&im.SignalBased)!==0};return i&&(s.transform=i),s})}function gG(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function vG(t,e,n){let r=e instanceof Ze?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new bw(n,r):n}function yG(t){let e=t.get(zo,null);if(e===null)throw new V(407,!1);let n=t.get(yN,null),r=t.get(bi,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function EG(t,e){let n=SN(t);return Lb(e,n,n==="svg"?UC:n==="math"?tx:null)}function SN(t){return(t.selectors[0][0]||"div").toLowerCase()}var jo=class extends fm{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=mG(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=gG(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=z3(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,s,o){ke(_e.DynamicComponentStart);let a=Y(null);try{let l=this.componentDef,u=CG(r,l,o,s),d=vG(l,i||this.ngModule,e),p=yG(d),h=p.rendererFactory.createRenderer(null,l),m=r?mq(h,r,l.encapsulation,d):EG(l,h),v=o?.some(Xx)||s?.some(E=>typeof E!="function"&&E.bindings.some(Xx)),C=e_(null,u,null,512|qb(l),null,null,p,h,d,null,Nb(m,d,!0));C[Lt]=m,Sh(C);let w=null;try{let E=CN(Lt,C,2,"#host",()=>u.directiveRegistry,!0,0);Bb(h,m,E),yl(m,C),Zb(u,C,E),Rb(u,E,C),wN(u,E),n!==void 0&&_G(E,this.ngContentSelectors,n),w=ir(E.index,C),C[et]=w[et],u_(u,C,null)}catch(E){throw w!==null&&_w(w),_w(C),E}finally{ke(_e.DynamicComponentEnd),Th()}return new zh(this.componentType,C,!!v)}finally{Y(a)}}};function CG(t,e,n,r){let i=t?["ng-version","21.0.8"]:j3(e.selectors[0]),s=null,o=null,a=0;if(n)for(let d of n)a+=d[Nw].requiredVars,d.create&&(d.targetIdx=0,(s??=[]).push(d)),d.update&&(d.targetIdx=0,(o??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let p=r[d];if(typeof p!="function")for(let h of p.bindings){a+=h[Nw].requiredVars;let m=d+1;h.create&&(h.targetIdx=m,(s??=[]).push(h)),h.update&&(h.targetIdx=m,(o??=[]).push(h))}}let l=[e];if(r)for(let d of r){let p=typeof d=="function"?d:d.type,h=AC(p);l.push(h)}return Zw(0,null,wG(s,o),1,a,l,null,null,null,[i],null)}function wG(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function Xx(t){let e=t[Nw].kind;return e==="input"||e==="twoWay"}var zh=class extends vN{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Uc(n[Z],Lt),this.location=_l(this._tNode,n),this.instance=ir(this._tNode.index,n)[et],this.hostView=this.changeDetectorRef=new Ts(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,s=l_(r,i[Z],i,e,n);this.previousInputValues.set(e,n);let o=ir(r.index,i);c_(o,1)}get injector(){return new Ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _G(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null&&s.length?Array.from(s):null)}}var Yo=(()=>{class t{static __NG_ELEMENT_ID__=SG}return t})();function SG(){let t=Ht();return DN(t,ge())}var TG=Yo,TN=class extends TG{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return _l(this._hostTNode,this._hostLView)}get injector(){return new Ho(this._hostTNode,this._hostLView)}get parentInjector(){let e=jw(this._hostTNode,this._hostLView);if(fb(e)){let n=Oh(e,this._hostLView),r=Fh(e),i=n[Z].data[r+8];return new Ho(i,n)}else return new Ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Qx(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Xe}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Aw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Yc(this._hostTNode,o)),a}createComponent(e,n,r,i,s,o,a){let l=e&&!X8(e),u;if(l)u=n;else{let w=n||{};u=w.index,r=w.injector,i=w.projectableNodes,s=w.environmentInjector||w.ngModuleRef,o=w.directives,a=w.bindings}let d=l?e:new jo(Ni(e)),p=r||this.parentInjector;if(!s&&d.ngModule==null){let E=(l?p:this.parentInjector).get(Ze,null);E&&(s=E)}let h=Ni(d.componentType??{}),m=Aw(this._lContainer,h?.id??null),v=m?.firstChild??null,C=d.create(p,i,v,s,o,a);return this.insertImpl(C.hostView,u,Yc(this._hostTNode,m)),C}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(nx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[ht],u=new TN(l,l[nr],l[ht]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return cm(o,i,s,r),e.attachToViewContainerRef(),NC(fw(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Qx(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Xc(this._lContainer,n);r&&(Fc(fw(this._lContainer),n),am(r[Z],r))}detach(e){let n=this._adjustIndex(e,-1),r=Xc(this._lContainer,n);return r&&Fc(fw(this._lContainer),n)!=null?new Ts(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Qx(t){return t[Vc]}function fw(t){return t[Vc]||(t[Vc]=[])}function DN(t,e){let n,r=e[t.index];return Cr(r)?n=r:(n=fN(r,e,null,t),e[t.index]=n,t_(e,n)),IG(n,e,t,r),new TN(n,t,e)}function DG(t,e){let n=t[ze],r=n.createComment(""),i=wr(e,t),s=n.parentNode(i);return $h(n,s,r,n.nextSibling(i),!1),r}var IG=bG,AG=()=>!1;function xG(t,e,n){return AG(t,e,n)}function bG(t,e,n,r){if(t[Cs])return;let i;n.type&8?i=rr(r):i=DG(e,n),t[Cs]=i}var Mw=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Rw=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)xN(e,n).matches!==null&&this.queries[n].setDirty()}},kw=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=FG(e):this.predicate=e}},Pw=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Lw=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,NG(n,s)),this.matchTNodeWithReadOption(e,n,kh(n,e,s,!1,!1))}else r===El?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,kh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Vn||i===Yo||i===El&&n.type&4)this.addMatch(n.index,-2);else{let s=kh(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function NG(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function MG(t,e){return t.type&11?_l(t,e):t.type&4?d_(t,e):null}function RG(t,e,n,r){return n===-1?MG(e,t):n===-2?kG(t,e,r):Wc(t,t[Z],n,e)}function kG(t,e,n){if(n===Vn)return _l(e,t);if(n===El)return d_(e,t);if(n===Yo)return DN(e,t)}function IN(t,e,n,r){let i=e[Zr].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let u=o[l];if(u<0)a.push(null);else{let d=s[u];a.push(RG(e,d,o[l+1],n.metadata.read))}}i.matches=a}return i.matches}function Fw(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=IN(t,e,i,n);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)r.push(o[a/2]);else{let u=s[a+1],d=e[-l];for(let p=Xe;p<d.length;p++){let h=d[p];h[Es]===h[ht]&&Fw(h[Z],h,u,r)}if(d[Bo]!==null){let p=d[Bo];for(let h=0;h<p.length;h++){let m=p[h];Fw(m[Z],m,u,r)}}}}}return r}function AN(t,e){return t[Zr].queries[e].queryList}function PG(t,e,n){let r=new Vh((n&4)===4);return sx(t,e,r,r.destroy),(e[Zr]??=new Rw).queries.push(new Mw(r))-1}function LG(t,e,n){let r=$t();return r.firstCreatePass&&(OG(r,new kw(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),PG(r,ge(),e)}function FG(t){return t.split(",").map(e=>e.trim())}function OG(t,e,n){t.queries===null&&(t.queries=new Pw),t.queries.track(new Lw(e,n))}function xN(t,e){return t.queries.getByIndex(e)}function BG(t,e){let n=t[Z],r=xN(n,e);return r.crossesNgTemplate?Fw(n,t,e,[]):IN(n,t,r,e)}function bN(t,e,n){let r,i=Cc(()=>{r._dirtyCounter();let s=UG(r,t);if(e&&s===void 0)throw new V(-951,!1);return s});return r=i[Nt],r._dirtyCounter=Ue(0),r._flatValue=void 0,i}function NN(t){return bN(!0,!1,t)}function MN(t){return bN(!0,!0,t)}function VG(t,e){let n=t[Nt];n._lView=ge(),n._queryIndex=e,n._queryList=AN(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function UG(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[ne]&4)return e?void 0:gn;let i=AN(n,r),s=BG(n,r);return i.reset(s,v3),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}var Cl=class{},pm=class{};var jh=class extends Cl{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Gh(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let s=IC(e);this._bootstrapComponents=$b(s.bootstrap),this._r3Injector=tw(e,n,[{provide:Cl,useValue:this},{provide:nd,useValue:this.componentFactoryResolver},...r],xi(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Wh=class extends pm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new jh(this.moduleType,e,[])}};var Qc=class extends Cl{injector;componentFactoryResolver=new Gh(this);instance=null;constructor(e){super();let n=new Ro([...e.providers,{provide:Cl,useValue:this},{provide:nd,useValue:this.componentFactoryResolver}],e.parent||Bc(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function rd(t,e,n=null){return new Qc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var $G=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=kC(!1,n.type),i=r.length>0?rd([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:t,providedIn:"environment",factory:()=>new t(Q(Ze))})}return t})();function je(t){return Zc(()=>{let e=RN(t),n=G(S({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ww.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get($G).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Tr.Emulated,styles:t.styles||gn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Fi("NgStandalone"),kN(n);let r=t.dependencies;return n.directiveDefs=Kx(r,HG),n.pipeDefs=Kx(r,UA),n.id=zG(n),n})}function HG(t){return Ni(t)||AC(t)}function Bi(t){return Zc(()=>({type:t.type,bootstrap:t.bootstrap||gn,declarations:t.declarations||gn,imports:t.imports||gn,exports:t.exports||gn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function qG(t,e){if(t==null)return vs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a,l;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,l=i[3]||null):(s=i,o=i,a=im.None,l=null),n[s]=[r,a,l],e[s]=o}return n}function GG(t){if(t==null)return vs;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function ut(t){return Zc(()=>{let e=RN(t);return kN(e),e})}function RN(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||vs,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||gn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:qG(t.inputs,e),outputs:GG(t.outputs),debugInfo:null}}function kN(t){t.features?.forEach(e=>e(t))}function Kx(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let s=e(i);s!==null&&r.push(s)}return r}:null}function zG(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function jG(t){return Object.getPrototypeOf(t.prototype).constructor}function sr(t){let e=jG(t.type),n=!0,r=[t];for(;e;){let i;if(ti(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=pw(t.inputs),o.declaredInputs=pw(t.declaredInputs),o.outputs=pw(t.outputs);let a=i.hostBindings;a&&QG(t,a);let l=i.viewQuery,u=i.contentQueries;if(l&&JG(t,l),u&&XG(t,u),WG(t,i),VA(t.outputs,i.outputs),ti(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===sr&&(n=!1)}}e=Object.getPrototypeOf(e)}YG(r)}function WG(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function YG(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=vl(i.hostAttrs,n=vl(n,i.hostAttrs))}}function pw(t){return t===vs?{}:t===gn?[]:t}function JG(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function XG(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function QG(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function KG(t,e,n,r,i,s,o,a){if(n.firstCreatePass){t.mergedAttrs=vl(t.mergedAttrs,t.attrs);let d=t.tView=Zw(2,t,i,s,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),d.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),hl(t,!1);let l=ZG(n,e,t,r);Ih()&&s_(n,e,l,t),yl(l,e);let u=fN(l,e,l,t);e[r+Lt]=u,t_(e,u),xG(u,t,e)}function Yh(t,e,n,r,i,s,o,a,l,u,d){let p=n+Lt,h;if(e.firstCreatePass){if(h=dm(e,p,4,o||null,a||null),u!=null){let m=ni(e.consts,u);h.localNames=[];for(let v=0;v<m.length;v+=2)h.localNames.push(m[v],-1)}}else h=e.data[p];return KG(h,t,e,n,r,i,s,l),u!=null&&a_(t,h,d),h}var ZG=e4;function e4(t,e,n,r){return Ah(!0),e[ze].createComment("")}var f_=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function PN(t){return typeof t=="function"&&t[Nt]!==void 0}function p_(t){return PN(t)&&typeof t.set=="function"}var h_=new q("");function Jo(t){return!!t&&typeof t.then=="function"}function LN(t){return!!t&&typeof t.subscribe=="function"}var FN=new q("");var m_=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=b(FN,{optional:!0})??[];injector=b(vn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=Pt(this.injector,i);if(Jo(s))n.push(s);else if(LN(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hm=new q("");function ON(){HE(()=>{let t="";throw new V(600,t)})}function BN(t){return t.isBoundToModule}var t4=10;var xs=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(_r);afterRenderManager=b(r_);zonelessEnabled=b(qc);rootEffectScheduler=b(xh);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new it;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=b(ki);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(De(n=>!n))}constructor(){b(Li,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=b(Ze);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=vn.NULL){return this._injector.get(en).run(()=>{ke(_e.BootstrapComponentStart);let o=n instanceof fm;if(!this._injector.get(m_).done){let v="";throw new V(405,v)}let l;o?l=n:l=this._injector.get(nd).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let u=BN(l)?void 0:this._injector.get(Cl),d=r||l.selector,p=l.create(i,[],d,u),h=p.location.nativeElement,m=p.injector.get(h_,null);return m?.registerApplication(h),p.onDestroy(()=>{this.detachView(p.hostView),jc(this.components,p),m?.unregisterApplication(h)}),this._loadComponent(p),ke(_e.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ke(_e.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(sm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ke(_e.ChangeDetectionEnd),new V(101,!1);let n=Y(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Y(n),this.afterTick.next(),ke(_e.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(zo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<t4;){ke(_e.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ke(_e.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!$c(i))continue;let s=r&&!this.zonelessEnabled?0:1;lN(i,s),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>$c(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;jc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(hm,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>jc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new V(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function id(t,e,n,r){let i=ge(),s=$o();if(As(i,s,e)){let o=$t(),a=Dh();Dq(a,i,t,e,n,r)}return id}var Hie=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Ow=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function hw(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function n4(t,e,n,r){let i,s,o=0,a=t.length-1,l=void 0;if(Array.isArray(e)){Y(r);let u=e.length-1;for(Y(null);o<=a&&o<=u;){let d=t.at(o),p=e[o],h=hw(o,d,o,p,n);if(h!==0){h<0&&t.updateValue(o,p),o++;continue}let m=t.at(a),v=e[u],C=hw(a,m,u,v,n);if(C!==0){C<0&&t.updateValue(a,v),a--,u--;continue}let w=n(o,d),E=n(a,m),D=n(o,p);if(Object.is(D,E)){let M=n(u,v);Object.is(M,w)?(t.swap(o,a),t.updateValue(a,v),u--,a--):t.move(a,o),t.updateValue(o,p),o++;continue}if(i??=new Jh,s??=eb(t,o,a,n),Bw(t,i,o,D))t.updateValue(o,p),o++,a++;else if(s.has(D))i.set(w,t.detach(o)),a--;else{let M=t.create(o,e[o]);t.attach(o,M),o++,a++}}for(;o<=u;)Zx(t,i,n,o,e[o]),o++}else if(e!=null){Y(r);let u=e[Symbol.iterator]();Y(null);let d=u.next();for(;!d.done&&o<=a;){let p=t.at(o),h=d.value,m=hw(o,p,o,h,n);if(m!==0)m<0&&t.updateValue(o,h),o++,d=u.next();else{i??=new Jh,s??=eb(t,o,a,n);let v=n(o,h);if(Bw(t,i,o,v))t.updateValue(o,h),o++,a++,d=u.next();else if(!s.has(v))t.attach(o,t.create(o,h)),o++,a++,d=u.next();else{let C=n(o,p);i.set(C,t.detach(o)),a--}}}for(;!d.done;)Zx(t,i,n,t.length,d.value),d=u.next()}for(;o<=a;)t.destroy(t.detach(a--));i?.forEach(u=>{t.destroy(u)})}function Bw(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Zx(t,e,n,r,i){if(Bw(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function eb(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Jh=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Be(t,e,n,r,i,s,o,a){Fi("NgControlFlow");let l=ge(),u=$t(),d=ni(u.consts,s);return Yh(l,u,t,e,n,r,i,d,256,o,a),g_}function g_(t,e,n,r,i,s,o,a){Fi("NgControlFlow");let l=ge(),u=$t(),d=ni(u.consts,s);return Yh(l,u,t,e,n,r,i,d,512,o,a),g_}function Ve(t,e){Fi("NgControlFlow");let n=ge(),r=$o(),i=n[r]!==oi?n[r]:-1,s=i!==-1?Xh(n,Lt+i):void 0,o=0;if(As(n,r,t)){let a=Y(null);try{if(s!==void 0&&hN(s,o),t!==-1){let l=Lt+t,u=Xh(n,l),d=Hw(n[Z],l),p=gN(u,d,n),h=um(n,d,e,{dehydratedView:p});cm(u,h,o,Yc(d,p))}}finally{Y(a)}}else if(s!==void 0){let a=pN(s,o);a!==void 0&&(a[et]=e)}}var Vw=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Xe}};function v_(t){return t}var Uw=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function bs(t,e,n,r,i,s,o,a,l,u,d,p,h){Fi("NgControlFlow");let m=ge(),v=$t(),C=l!==void 0,w=ge(),E=a?o.bind(w[Fn][et]):o,D=new Uw(C,E);w[Lt+t]=D,Yh(m,v,t+1,e,n,r,i,ni(v.consts,s),256),C&&Yh(m,v,t+2,l,u,d,p,ni(v.consts,h),512)}var $w=class extends Ow{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Xe}at(e){return this.getLView(e)[et].$implicit}attach(e,n){let r=n[cl];this.needsIndexUpdate||=e!==this.length,cm(this.lContainer,n,e,Yc(this.templateTNode,r)),r4(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,i4(this.lContainer,e),s4(this.lContainer,e)}create(e,n){let r=Aw(this.lContainer,this.templateTNode.tView.ssrId);return um(this.hostLView,this.templateTNode,new Vw(this.lContainer,n,e),{dehydratedView:r})}destroy(e){am(e[Z],e)}updateValue(e,n){this.getLView(e)[et].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[et].$index=e}getLView(e){return o4(this.lContainer,e)}};function Ns(t){let e=Y(null),n=_s();try{let r=ge(),i=r[Z],s=r[n],o=n+1,a=Xh(r,o);if(s.liveCollection===void 0){let u=Hw(i,o);s.liveCollection=new $w(a,r,u)}else s.liveCollection.reset();let l=s.liveCollection;if(n4(l,t,s.trackByFn,e),l.updateIndexes(),s.hasEmptyBlock){let u=$o(),d=l.length===0;if(As(r,u,d)){let p=n+2,h=Xh(r,p);if(d){let m=Hw(i,p),v=gN(h,m,r),C=um(r,m,void 0,{dehydratedView:v});cm(h,C,0,Yc(m,v))}else i.firstUpdatePass&&Jq(h),hN(h,0)}}}finally{Y(e)}}function Xh(t,e){return t[e]}function r4(t,e){if(t.length<=Xe)return;let n=Xe+e,r=t[n],i=r?r[Oo]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let s=r[Mi];Z3(s,i),Go.delete(r[Ri]),i.detachedLeaveAnimationFns=void 0}}function i4(t,e){if(t.length<=Xe)return;let n=Xe+e,r=t[n],i=r?r[Oo]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function s4(t,e){return Xc(t,e)}function o4(t,e){return pN(t,e)}function Hw(t,e){return Uc(t,e)}function tt(t,e,n){let r=ge(),i=$o();if(As(r,i,e)){let s=$t(),o=Dh();eN(o,r,t,e,r[ze],n)}return tt}function tb(t,e,n,r,i){l_(e,t,n,i?"class":"style",r)}function A(t,e,n,r){let i=ge(),s=i[Z],o=t+Lt,a=s.firstCreatePass?CN(o,i,2,e,Tq,lx(),n,r):s.data[o];if(tN(a,i,t,e,VN),yh(a)){let l=i[Z];Zb(l,i,a),Rb(l,a,i)}return r!=null&&a_(i,a),A}function k(){let t=$t(),e=Ht(),n=nN(e);return t.firstCreatePass&&wN(t,n),YC(n)&&JC(),WC(),n.classesWithoutHost!=null&&r3(n)&&tb(t,n,ge(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&i3(n)&&tb(t,n,ge(),n.stylesWithoutHost,!1),k}function Fe(t,e,n,r){return A(t,e,n,r),k(),Fe}function qe(t,e,n,r){let i=ge(),s=i[Z],o=t+Lt,a=s.firstCreatePass?cG(o,s,2,e,n,r):s.data[o];return tN(a,i,t,e,VN),r!=null&&a_(i,a),qe}function ye(){let t=Ht(),e=nN(t);return YC(e)&&JC(),WC(),ye}var VN=(t,e,n,r,i)=>(Ah(!0),Lb(e[ze],r,Tx()));function Ms(){return ge()}var sd="en-US";var a4=sd;function UN(t){typeof t=="string"&&(a4=t.toLowerCase().replace(/_/g,"-"))}function $e(t,e,n){let r=ge(),i=$t(),s=Ht();return $N(i,r,r[ze],s,t,e,n),$e}function $N(t,e,n,r,i,s,o){let a=!0,l=null;if((r.type&3||o)&&(l??=dw(r,e,s),fG(r,t,e,o,n,i,s,l)&&(a=!1)),a){let u=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let p=0;p<d.length;p+=2){let h=d[p],m=d[p+1];l??=dw(r,e,s),Jx(r,e,h,m,i,l)}if(u&&u.length)for(let p of u)l??=dw(r,e,s),Jx(r,e,p,i,i,l)}}function We(t=1){return Sx(t)}function mm(t,e,n,r){return VG(t,LG(e,n,r)),mm}function y_(t=1){_h(Ex()+t)}function Nh(t,e){return t<<17|e<<2}function Wo(t){return t>>17&32767}function l4(t){return(t&2)==2}function u4(t,e){return t&131071|e<<17}function qw(t){return t|2}function wl(t){return(t&131068)>>2}function mw(t,e){return t&-131069|e<<2}function c4(t){return(t&1)===1}function Gw(t){return t|1}function d4(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Wo(o),l=wl(o);t[r]=n;let u=!1,d;if(Array.isArray(n)){let p=n;d=p[1],(d===null||ll(p,d)>0)&&(u=!0)}else d=n;if(i)if(l!==0){let h=Wo(t[a+1]);t[r+1]=Nh(h,a),h!==0&&(t[h+1]=mw(t[h+1],r)),t[a+1]=u4(t[a+1],r)}else t[r+1]=Nh(a,0),a!==0&&(t[a+1]=mw(t[a+1],r)),a=r;else t[r+1]=Nh(l,0),a===0?a=r:t[l+1]=mw(t[l+1],r),l=r;u&&(t[r+1]=qw(t[r+1])),nb(t,d,r,!0),nb(t,d,r,!1),f4(e,d,t,r,s),o=Nh(a,l),s?e.classBindings=o:e.styleBindings=o}function f4(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ll(s,e)>=0&&(n[r+1]=Gw(n[r+1]))}function nb(t,e,n,r){let i=t[n+1],s=e===null,o=r?Wo(i):wl(i),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],u=t[o+1];p4(l,e)&&(a=!0,t[o+1]=r?Gw(u):qw(u)),o=r?Wo(u):wl(u)}a&&(t[n+1]=r?qw(i):Gw(i))}function p4(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ll(t,e)>=0:!1}function Rs(t,e){return h4(t,e,null,!0),Rs}function h4(t,e,n,r){let i=ge(),s=$t(),o=hx(2);if(s.firstUpdatePass&&g4(s,t,o,r),e!==oi&&As(i,o,e)){let a=s.data[_s()];w4(s,a,i,i[ze],t,i[o+1]=_4(e,n),r,o)}}function m4(t,e){return e>=t.expandoStartIndex}function g4(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[_s()],o=m4(t,n);S4(s,r)&&e===null&&!o&&(e=!1),e=v4(i,s,e,r),d4(i,s,e,n,o,r)}}function v4(t,e,n,r){let i=yx(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=gw(null,t,e,n,r),n=Kc(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=gw(i,t,e,n,r),s===null){let l=y4(t,e,r);l!==void 0&&Array.isArray(l)&&(l=gw(null,t,e,l[1],r),l=Kc(l,e.attrs,r),E4(t,e,r,l))}else s=C4(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function y4(t,e,n){let r=n?e.classBindings:e.styleBindings;if(wl(r)!==0)return t[Wo(r)]}function E4(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Wo(i)]=r}function C4(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Kc(r,o,n)}return Kc(r,e.attrs,n)}function gw(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Kc(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Kc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),YA(t,o,n?!0:e[++s]))}return t===void 0?null:t}function w4(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let l=t.data,u=l[a+1],d=c4(u)?rb(l,e,n,i,wl(u),o):void 0;if(!Qh(d)){Qh(s)||l4(u)&&(s=rb(l,null,n,i,a,o));let p=$C(_s(),n);hq(r,o,p,i,s)}}function rb(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let l=t[i],u=Array.isArray(l),d=u?l[1]:l,p=d===null,h=n[i+1];h===oi&&(h=p?gn:void 0);let m=p?gh(h,r):d===r?h:void 0;if(u&&!Qh(m)&&(m=gh(l,r)),Qh(m)&&(a=m,o))return a;let v=t[i+1];i=o?Wo(v):wl(v)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=gh(l,r))}return a}function Qh(t){return t!==void 0}function _4(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=xi(nm(t)))),t}function S4(t,e){return(t.flags&(e?8:16))!==0}function N(t,e=""){let n=ge(),r=$t(),i=t+Lt,s=r.firstCreatePass?dm(r,i,1,e,null):r.data[i],o=T4(r,n,s,e,t);n[i]=o,Ih()&&s_(r,n,o,s),hl(s,!1)}var T4=(t,e,n,r,i)=>(Ah(!0),b3(e[ze],r));function D4(t,e,n,r=""){return As(t,$o(),n)?e+Lc(n)+r:oi}function _t(t){return Xo("",t),_t}function Xo(t,e,n){let r=ge(),i=D4(r,t,e,n);return i!==oi&&I4(r,_s(),i),Xo}function I4(t,e,n){let r=$C(e,t);N3(t[ze],r,n)}function gm(t,e,n){p_(e)&&(e=e());let r=ge(),i=$o();if(As(r,i,e)){let s=$t(),o=Dh();eN(o,r,t,e,r[ze],n)}return gm}function E_(t,e){let n=p_(t);return n&&t.set(e),n}function vm(t,e){let n=ge(),r=$t(),i=Ht();return $N(r,n,n[ze],i,t,e),vm}function ib(t,e,n){let r=$t();r.firstCreatePass&&HN(e,r.data,r.blueprint,ti(t),n)}function HN(t,e,n,r,i){if(t=kt(t),Array.isArray(t))for(let s=0;s<t.length;s++)HN(t[s],e,n,r,i);else{let s=$t(),o=ge(),a=Ht(),l=Mo(t)?t:kt(t.provide),u=LC(t),d=a.providerIndexes&1048575,p=a.directiveStart,h=a.providerIndexes>>20;if(Mo(t)||!t.multi){let m=new qo(u,i,Ce,null),v=yw(l,e,i?d:d+h,p);v===-1?(Cw(Bh(a,o),s,l),vw(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),o.push(m)):(n[v]=m,o[v]=m)}else{let m=yw(l,e,d+h,p),v=yw(l,e,d,d+h),C=m>=0&&n[m],w=v>=0&&n[v];if(i&&!w||!i&&!C){Cw(Bh(a,o),s,l);let E=b4(i?x4:A4,n.length,i,r,u,t);!i&&w&&(n[v].providerFactory=E),vw(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),o.push(E)}else{let E=qN(n[i?v:m],u,!i&&r);vw(s,t,m>-1?m:v,E)}!i&&r&&w&&n[v].componentProviders++}}}function vw(t,e,n,r){let i=Mo(e),s=KA(e);if(i||s){let l=(s?kt(e.useClass):e).prototype.ngOnDestroy;if(l){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[r,l]):u[d+1].push(r,l)}else u.push(n,l)}}}function qN(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function yw(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function A4(t,e,n,r,i){return zw(this.multi,[])}function x4(t,e,n,r,i){let s=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Wc(r,r[Z],this.providerFactory.index,i);o=l.slice(0,a),zw(s,o);for(let u=a;u<l.length;u++)o.push(l[u])}else o=[],zw(s,o);return o}function zw(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function b4(t,e,n,r,i,s){let o=new qo(t,n,Ce,null);return o.multi=[],o.index=e,o.componentProviders=0,qN(o,i,r&&!n),o}function ks(t,e){return n=>{n.providersResolver=(r,i)=>ib(r,i?i(t):t,!1),e&&(n.viewProvidersResolver=(r,i)=>ib(r,i?i(e):e,!0))}}function C_(t,e,n){return M4(ge(),fx(),t,e,n)}function N4(t,e){let n=t[e];return n===oi?void 0:n}function M4(t,e,n,r,i,s){let o=e+n;return As(t,o,i)?dG(t,o+1,s?r.call(s,i):r(i)):N4(t,o+1)}var Kh=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},w_=(()=>{class t{compileModuleSync(n){return new Wh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=IC(n),s=$b(i.declarations).reduce((o,a)=>{let l=Ni(a);return l&&o.push(new jo(l)),o},[]);return new Kh(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var GN=(()=>{class t{applicationErrorHandler=b(_r);appRef=b(xs);taskService=b(ki);ngZone=b(en);zonelessEnabled=b(qc);tracing=b(Li,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Mt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Mc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(aw,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?rw:nw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Mc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,rw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function __(){return Fi("NgZoneless"),ys([...S_(),[]])}function S_(){return[{provide:bi,useExisting:GN},{provide:en,useClass:Rc},{provide:qc,useValue:!0}]}function R4(){return typeof $localize<"u"&&$localize.locale||sd}var T_=new q("",{factory:()=>b(T_,{optional:!0,skipSelf:!0})||R4()});var ym=class{destroyed=!1;listeners=null;errorHandler=b(er,{optional:!0});destroyRef=b(Bn);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new V(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(gs(953,!1));return}if(this.listeners===null)return;let n=Y(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{Y(n)}}};function nn(t,e){return Cc(t,e?.equal)}var WN=Symbol("InputSignalNode#UNSET"),j4=G(S({},kp),{transformFn:void 0,applyValueToInputSignal(t,e){wc(t,e)}});function YN(t,e){let n=Object.create(j4);n.value=t,n.transformFn=e?.transform;function r(){if(vc(n),n.value===WN){let i=null;throw new V(-950,i)}return n.value}return r[Nt]=n,r}var Cm=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>ed(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function JN(t){return new ym}function zN(t,e){return YN(t,e)}function W4(t){return YN(WN,t)}var Dr=(zN.required=W4,zN);function jN(t,e){return NN(e)}function Y4(t,e){return MN(e)}var XN=(jN.required=Y4,jN);var D_=new q(""),J4=new q("");function od(t){return!t.moduleRef}function X4(t){let e=od(t)?t.r3Injector:t.moduleRef.injector,n=e.get(en);return n.run(()=>{od(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(_r),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),od(t)){let s=()=>e.destroy(),o=t.platformInjector.get(D_);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(D_);o.add(s),t.moduleRef.onDestroy(()=>{jc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return K4(r,n,()=>{let s=e.get(ki),o=s.add(),a=e.get(m_);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(T_,sd);if(UN(l||sd),!e.get(J4,!0))return od(t)?e.get(xs):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(od(t)){let d=e.get(xs);return t.rootComponent!==void 0&&d.bootstrap(t.rootComponent),d}else return Q4?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void s.remove(o))})})}var Q4;function K4(t,e,n){try{let r=n();return Jo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Em=null;function Z4(t=[],e){return vn.create({name:e,providers:[{provide:Oc,useValue:"platform"},{provide:D_,useValue:new Set([()=>Em=null])},...t]})}function e5(t=[]){if(Em)return Em;let e=Z4(t);return Em=e,ON(),t5(e),e}function t5(t){let e=t.get(em,null);Pt(t,()=>{e?.forEach(n=>n())})}var Qo=(()=>{class t{static __NG_ELEMENT_ID__=n5}return t})();function n5(t){return r5(Ht(),ge(),(t&16)===16)}function r5(t,e,n){if(ws(t)&&!n){let r=ir(t.index,e);return new Ts(r,r)}else if(t.type&175){let r=e[Fn];return new Ts(r,e)}return null}function QN(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;ke(_e.BootstrapApplicationStart);try{let s=i?.injector??e5(r),o=[S_(),xx,...n||[]],a=new Qc({providers:o,parent:s,debugName:"",runEnvironmentInitializers:!1});return X4({r3Injector:a.injector,platformInjector:s,rootComponent:e})}catch(s){return Promise.reject(s)}finally{ke(_e.BootstrapApplicationEnd)}}function Sl(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function KN(t){let e=Ni(t);if(!e)return null;let n=new jo(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ZN=null;function or(){return ZN}function I_(t){ZN??=t}var ad=class{},Ps=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>b(eM),providedIn:"platform"})}return t})();var eM=(()=>{class t extends Ps{_location;_history;_doc=b(lt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return or().getBaseHref(this._doc)}onPopState(n){let r=or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function wm(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function tM(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Ir(t){return t&&t[0]!=="?"?`?${t}`:t}var li=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>b(rM),providedIn:"root"})}return t})(),A_=new q(""),rM=(()=>{class t extends li{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return wm(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ir(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ir(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ir(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Q(Ps),Q(A_,8))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ko=(()=>{class t{_subject=new it;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=o5(tM(nM(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ir(r))}normalize(n){return t.stripTrailingSlash(s5(this._basePath,nM(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ir(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ir(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ir;static joinWithSlash=wm;static stripTrailingSlash=tM;static \u0275fac=function(r){return new(r||t)(Q(li))};static \u0275prov=H({token:t,factory:()=>i5(),providedIn:"root"})}return t})();function i5(){return new Ko(Q(li))}function s5(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function nM(t){return t.replace(/\/index.html$/,"")}function o5(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var x_=(()=>{class t extends li{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=wm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ir(s))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ir(s))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Q(Ps),Q(A_,8))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function ld(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Zo=class{};var iM="browser";var ud=class{_doc;constructor(e){this._doc=e}manager},_m=(()=>{class t extends ud{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,s){return n.addEventListener(r,i,s),()=>this.removeEventListener(n,r,i,s)}removeEventListener(n,r,i,s){return n.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||t)(Q(lt))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),Dm=new q(""),R_=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this});let i=n.filter(o=>!(o instanceof _m));this._plugins=i.slice().reverse();let s=n.find(o=>o instanceof _m);s&&this._plugins.push(s)}addEventListener(n,r,i,s){return this._findPluginFor(r).addEventListener(n,r,i,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Q(Dm),Q(en))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),b_="ng-app-id";function sM(t){for(let e of t)e.remove()}function oM(t,e){let n=e.createElement("style");return n.textContent=t,n}function d5(t,e,n,r){let i=t.head?.querySelectorAll(`style[${b_}="${e}"],link[${b_}="${e}"]`);if(i)for(let s of i)s.removeAttribute(b_),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}function M_(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var k_=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,d5(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,oM);r?.forEach(i=>this.addUsage(i,this.external,M_))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let s=r.get(n);s?s.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(sM(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])sM(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,oM(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,M_(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Q(lt),Q(Zh),Q(tm,8),Q(td))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),N_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},P_=/%COMP%/g;var lM="%COMP%",f5=`_nghost-${lM}`,p5=`_ngcontent-${lM}`,h5=!0,m5=new q("",{factory:()=>h5});function g5(t){return p5.replace(P_,t)}function v5(t){return f5.replace(P_,t)}function uM(t,e){return e.map(n=>n.replace(P_,t))}var L_=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,s,o,a,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.ngZone=a,this.nonce=l,this.tracingService=u,this.defaultRenderer=new cd(n,o,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Tm?i.applyToHost(n):i instanceof dd&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.tracingService;switch(r.encapsulation){case Tr.Emulated:s=new Tm(l,u,r,this.appId,d,o,a,p);break;case Tr.ShadowDom:return new Sm(l,n,r,o,a,this.nonce,p,u);case Tr.ExperimentalIsolatedShadowDom:return new Sm(l,n,r,o,a,this.nonce,p);default:s=new dd(l,u,r,d,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Q(R_),Q(k_),Q(Zh),Q(m5),Q(lt),Q(en),Q(tm),Q(Li,8))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),cd=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(N_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(aM(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(aM(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=N_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=N_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Pi.DashCase|Pi.Important)?e.style.setProperty(n,r,i&Pi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Pi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=or().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,n,s)),this.eventManager.addEventListener(e,n,s,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function aM(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Sm=class extends cd{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,s,o,a,l){super(e,i,s,a),this.hostEl=n,this.sharedStylesHost=l,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=uM(r.id,u);for(let p of u){let h=document.createElement("style");o&&h.setAttribute("nonce",o),h.textContent=p,this.shadowRoot.appendChild(h)}let d=r.getExternalStyles?.();if(d)for(let p of d){let h=M_(p,i);o&&h.setAttribute("nonce",o),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},dd=class extends cd{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?uM(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Go.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Tm=class extends dd{contentAttr;hostAttr;constructor(e,n,r,i,s,o,a,l){let u=i+"-"+r.id;super(e,n,r,s,o,a,l,u),this.contentAttr=g5(u),this.hostAttr=v5(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Im=class t extends ad{supportsDOMEvents=!0;static makeCurrent(){I_(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=y5();return n==null?null:E5(n)}resetBaseElement(){fd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ld(document.cookie,e)}},fd=null;function y5(){return fd=fd||document.head.querySelector("base"),fd?fd.getAttribute("href"):null}function E5(t){return new URL(t,document.baseURI).pathname}var C5=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),cM=["alt","control","meta","shift"],w5={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_5={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},dM=(()=>{class t extends ud{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,s){let o=t.parseEventName(r),a=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>or().onAndCancel(n,o.domEventName,a,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),cM.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=w5[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),cM.forEach(o=>{if(o!==i){let a=_5[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Q(lt))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function F_(t,e,n){let r=S({rootComponent:t,platformRef:n?.platformRef},S5(e));return QN(r)}function S5(t){return{appProviders:[...x5,...t?.providers??[]],platformProviders:A5}}function T5(){Im.makeCurrent()}function D5(){return new er}function I5(){return Yw(document),document}var A5=[{provide:td,useValue:iM},{provide:em,useValue:T5,multi:!0},{provide:lt,useFactory:I5}];var x5=[{provide:Oc,useValue:"root"},{provide:er,useFactory:D5},{provide:Dm,useClass:_m,multi:!0},{provide:Dm,useClass:dM,multi:!0},L_,k_,R_,{provide:zo,useExisting:L_},{provide:Zo,useClass:C5},[]];var ui=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=n.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var xm=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},bm=class{encodeKey(e){return fM(e)}encodeValue(e){return fM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function b5(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}var N5=/%(\d[a-f0-9])/gi,M5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fM(t){return encodeURIComponent(t).replace(N5,(e,n)=>M5[n]??e)}function Am(t){return`${t}`}var Vi=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new bm,e.fromString){if(e.fromObject)throw new V(2805,!1);this.map=b5(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Am):[Am(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Am(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Am(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};function R5(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function pM(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function hM(t){return typeof Blob<"u"&&t instanceof Blob}function mM(t){return typeof FormData<"u"&&t instanceof FormData}function k5(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var gM="Content-Type",vM="Accept",yM="text/plain",EM="application/json",P5=`${EM}, ${yM}, */*`,Tl=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let s;if(R5(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s){if(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,this.keepalive=!!s.keepalive,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),s.priority&&(this.priority=s.priority),s.cache&&(this.cache=s.cache),s.credentials&&(this.credentials=s.credentials),typeof s.timeout=="number"){if(s.timeout<1||!Number.isInteger(s.timeout))throw new V(2822,"");this.timeout=s.timeout}s.mode&&(this.mode=s.mode),s.redirect&&(this.redirect=s.redirect),s.integrity&&(this.integrity=s.integrity),s.referrer&&(this.referrer=s.referrer),s.referrerPolicy&&(this.referrerPolicy=s.referrerPolicy),this.transferCache=s.transferCache}if(this.headers??=new ui,this.context??=new xm,!this.params)this.params=new Vi,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||pM(this.body)||hM(this.body)||mM(this.body)||k5(this.body)?this.body:this.body instanceof Vi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||mM(this.body)?null:hM(this.body)?this.body.type||null:pM(this.body)?null:typeof this.body=="string"?yM:this.body instanceof Vi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?EM:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.keepalive??this.keepalive,o=e.priority||this.priority,a=e.cache||this.cache,l=e.mode||this.mode,u=e.redirect||this.redirect,d=e.credentials||this.credentials,p=e.referrer||this.referrer,h=e.integrity||this.integrity,m=e.referrerPolicy||this.referrerPolicy,v=e.transferCache??this.transferCache,C=e.timeout??this.timeout,w=e.body!==void 0?e.body:this.body,E=e.withCredentials??this.withCredentials,D=e.reportProgress??this.reportProgress,M=e.headers||this.headers,x=e.params||this.params,U=e.context??this.context;return e.setHeaders!==void 0&&(M=Object.keys(e.setHeaders).reduce((ee,te)=>ee.set(te,e.setHeaders[te]),M)),e.setParams&&(x=Object.keys(e.setParams).reduce((ee,te)=>ee.set(te,e.setParams[te]),x)),new t(n,r,w,{params:x,headers:M,context:U,reportProgress:D,responseType:i,withCredentials:E,transferCache:v,keepalive:s,cache:a,priority:o,timeout:C,mode:l,redirect:u,credentials:d,referrer:p,integrity:h,referrerPolicy:m})}},ea=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(ea||{}),Il=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,n=200,r="OK"){this.headers=e.headers||new ui,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}},Nm=class t extends Il{constructor(e={}){super(e)}type=ea.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},pd=class t extends Il{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=ea.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}},Dl=class extends Il{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},L5=200,F5=204;var O5=new q("");var B5=/^\)\]\}',?\n/;var B_=(()=>{class t{xhrFactory;tracingService=b(Li,{optional:!0});constructor(n){this.xhrFactory=n}maybePropagateTrace(n){return this.tracingService?.propagate?this.tracingService.propagate(n):n}handle(n){if(n.method==="JSONP")throw new V(-2800,!1);let r=this.xhrFactory;return de(null).pipe(Pn(()=>new ve(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((w,E)=>o.setRequestHeader(w,E.join(","))),n.headers.has(vM)||o.setRequestHeader(vM,P5),!n.headers.has(gM)){let w=n.detectContentTypeHeader();w!==null&&o.setRequestHeader(gM,w)}if(n.timeout&&(o.timeout=n.timeout),n.responseType){let w=n.responseType.toLowerCase();o.responseType=w!=="json"?w:"text"}let a=n.serializeBody(),l=null,u=()=>{if(l!==null)return l;let w=o.statusText||"OK",E=new ui(o.getAllResponseHeaders()),D=o.responseURL||n.url;return l=new Nm({headers:E,status:o.status,statusText:w,url:D}),l},d=this.maybePropagateTrace(()=>{let{headers:w,status:E,statusText:D,url:M}=u(),x=null;E!==F5&&(x=typeof o.response>"u"?o.responseText:o.response),E===0&&(E=x?L5:0);let U=E>=200&&E<300;if(n.responseType==="json"&&typeof x=="string"){let ee=x;x=x.replace(B5,"");try{x=x!==""?JSON.parse(x):null}catch(te){x=ee,U&&(U=!1,x={error:te,text:x})}}U?(s.next(new pd({body:x,headers:w,status:E,statusText:D,url:M||void 0})),s.complete()):s.error(new Dl({error:x,headers:w,status:E,statusText:D,url:M||void 0}))}),p=this.maybePropagateTrace(w=>{let{url:E}=u(),D=new Dl({error:w,status:o.status||0,statusText:o.statusText||"Unknown Error",url:E||void 0});s.error(D)}),h=p;n.timeout&&(h=this.maybePropagateTrace(w=>{let{url:E}=u(),D=new Dl({error:new DOMException("Request timed out","TimeoutError"),status:o.status||0,statusText:o.statusText||"Request timeout",url:E||void 0});s.error(D)}));let m=!1,v=this.maybePropagateTrace(w=>{m||(s.next(u()),m=!0);let E={type:ea.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),n.responseType==="text"&&o.responseText&&(E.partialText=o.responseText),s.next(E)}),C=this.maybePropagateTrace(w=>{let E={type:ea.UploadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),s.next(E)});return o.addEventListener("load",d),o.addEventListener("error",p),o.addEventListener("timeout",h),o.addEventListener("abort",p),n.reportProgress&&(o.addEventListener("progress",v),a!==null&&o.upload&&o.upload.addEventListener("progress",C)),o.send(a),s.next({type:ea.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",d),o.removeEventListener("timeout",h),n.reportProgress&&(o.removeEventListener("progress",v),a!==null&&o.upload&&o.upload.removeEventListener("progress",C)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||t)(Q(Zo))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function V5(t,e){return e(t)}function U5(t,e,n){return(r,i)=>Pt(n,()=>e(r,s=>t(s,i)))}var CM=new q("",{factory:()=>[]}),wM=new q(""),_M=new q("",{factory:()=>!0});var V_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=Q(B_),i},providedIn:"root"})}return t})();var Mm=(()=>{class t{backend;injector;chain=null;pendingTasks=b(Gc);contributeToStability=b(_M);constructor(n,r){this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(CM),...this.injector.get(wM,[])]));this.chain=r.reduceRight((i,s)=>U5(i,s,this.injector),V5)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Dc(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(Q(V_),Q(Ze))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),U_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=Q(Mm),i},providedIn:"root"})}return t})();function O_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer,referrerPolicy:t.referrerPolicy}}var Rm=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Tl)s=n;else{let l;i.headers instanceof ui?l=i.headers:l=new ui(i.headers);let u;i.params&&(i.params instanceof Vi?u=i.params:u=new Vi({fromObject:i.params})),s=new Tl(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let o=de(s).pipe(sl(l=>this.handler.handle(l)));if(n instanceof Tl||i.observe==="events")return o;let a=o.pipe(Zn(l=>l instanceof pd));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(De(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new V(2806,!1);return l.body}));case"blob":return a.pipe(De(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new V(2807,!1);return l.body}));case"text":return a.pipe(De(l=>{if(l.body!==null&&typeof l.body!="string")throw new V(2808,!1);return l.body}));case"json":default:return a.pipe(De(l=>l.body))}case"response":return a;default:throw new V(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Vi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,O_(i,r))}post(n,r,i={}){return this.request("POST",n,O_(i,r))}put(n,r,i={}){return this.request("PUT",n,O_(i,r))}static \u0275fac=function(r){return new(r||t)(Q(U_))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $5=new q("",{factory:()=>!0}),H5="XSRF-TOKEN",q5=new q("",{factory:()=>H5}),G5="X-XSRF-TOKEN",z5=new q("",{providedIn:"root",factory:()=>G5}),j5=(()=>{class t{cookieName=b(q5);doc=b(lt);lastCookieString="";lastToken=null;parseCount=0;getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ld(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SM=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=Q(j5),i},providedIn:"root"})}return t})();function W5(t,e){if(!b($5)||t.method==="GET"||t.method==="HEAD")return e(t);try{let i=b(Ps).href,{origin:s}=new URL(i),{origin:o}=new URL(t.url,s);if(s!==o)return e(t)}catch{return e(t)}let n=b(SM).getToken(),r=b(z5);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}function $_(...t){let e=[Rm,Mm,{provide:U_,useExisting:Mm},{provide:V_,useFactory:()=>b(O5,{optional:!0})??b(B_)},{provide:CM,useValue:W5,multi:!0}];for(let n of t)e.push(...n.\u0275providers);return ys(e)}var TM=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(Q(lt))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var oe="primary",Id=Symbol("RouteTitle"),j_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ia(t){return new j_(t)}function kM(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Bm(t){return new Promise((e,n)=>{t.pipe(Ii()).subscribe({next:r=>e(r),error:r=>n(r)})})}function J5(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ci(t[n],e[n]))return!1;return!0}function ci(t,e){let n=t?W_(t):void 0,r=e?W_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!PM(t[i],e[i]))return!1;return!0}function W_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function PM(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function LM(t){return t.length>0?t[t.length-1]:null}function oa(t){return Kp(t)?t:Jo(t)?ot(Promise.resolve(t)):de(t)}function FM(t){return Kp(t)?Bm(t):Promise.resolve(t)}var X5={exact:BM,subset:VM},OM={exact:Q5,subset:K5,ignored:()=>!0};function DM(t,e,n){return X5[n.paths](t.root,e.root,n.matrixParams)&&OM[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Q5(t,e){return ci(t,e)}function BM(t,e,n){if(!na(t.segments,e.segments)||!Lm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!BM(t.children[r],e.children[r],n))return!1;return!0}function K5(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>PM(t[n],e[n]))}function VM(t,e,n){return UM(t,e,e.segments,n)}function UM(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!na(i,n)||e.hasChildren()||!Lm(i,n,r))}else if(t.segments.length===n.length){if(!na(t.segments,n)||!Lm(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!VM(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!na(t.segments,i)||!Lm(t.segments,i,r)||!t.children[oe]?!1:UM(t.children[oe],e,s,r)}}function Lm(t,e,n){return e.every((r,i)=>OM[n](t[i].parameters,r.parameters))}var xr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ia(this.queryParams),this._queryParamMap}toString(){return tz.serialize(this)}},Ie=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fm(this)}},Ls=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ia(this.parameters),this._parameterMap}toString(){return HM(this)}};function Z5(t,e){return na(t,e)&&t.every((n,r)=>ci(n.parameters,e[r].parameters))}function na(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function ez(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===oe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==oe&&(n=n.concat(e(i,r)))}),n}var Ad=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>new Fs,providedIn:"root"})}return t})(),Fs=class{parse(e){let n=new J_(e);return new xr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${hd(e.root,!0)}`,r=iz(e.queryParams),i=typeof e.fragment=="string"?`#${nz(e.fragment)}`:"";return`${n}${r}${i}`}},tz=new Fs;function Fm(t){return t.segments.map(e=>HM(e)).join("/")}function hd(t,e){if(!t.hasChildren())return Fm(t);if(e){let n=t.children[oe]?hd(t.children[oe],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==oe&&r.push(`${i}:${hd(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=ez(t,(r,i)=>i===oe?[hd(t.children[oe],!1)]:[`${i}:${hd(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[oe]!=null?`${Fm(t)}/${n[0]}`:`${Fm(t)}/(${n.join("//")})`}}function $M(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function km(t){return $M(t).replace(/%3B/gi,";")}function nz(t){return encodeURI(t)}function Y_(t){return $M(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Om(t){return decodeURIComponent(t)}function IM(t){return Om(t.replace(/\+/g,"%20"))}function HM(t){return`${Y_(t.path)}${rz(t.parameters)}`}function rz(t){return Object.entries(t).map(([e,n])=>`;${Y_(e)}=${Y_(n)}`).join("")}function iz(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${km(n)}=${km(i)}`).join("&"):`${km(n)}=${km(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var sz=/^[^\/()?;#]+/;function H_(t){let e=t.match(sz);return e?e[0]:""}var oz=/^[^\/()?;=#]+/;function az(t){let e=t.match(oz);return e?e[0]:""}var lz=/^[^=?&#]+/;function uz(t){let e=t.match(lz);return e?e[0]:""}var cz=/^[^&#]+/;function dz(t){let e=t.match(cz);return e?e[0]:""}var J_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new Ie(e,n)),r}parseSegment(){let e=H_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new Ls(Om(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=az(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=H_(this.remaining);i&&(r=i,this.capture(r))}e[Om(n)]=Om(r)}parseQueryParam(e){let n=uz(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=dz(this.remaining);o&&(r=o,this.capture(r))}let i=IM(n),s=IM(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=H_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=oe);let o=this.parseChildren();n[s??oe]=Object.keys(o).length===1&&o[oe]?o[oe]:new Ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function qM(t){return t.segments.length>0?new Ie([],{[oe]:t}):t}function GM(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=GM(i);if(r===oe&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ie(t.segments,e);return fz(n)}function fz(t){if(t.numberOfChildren===1&&t.children[oe]){let e=t.children[oe];return new Ie(t.segments.concat(e.segments),e.children)}return t}function Os(t){return t instanceof xr}function zM(t,e,n=null,r=null,i=new Fs){let s=jM(t);return WM(s,e,n,r,i)}function jM(t){let e;function n(s){let o={};for(let l of s.children){let u=n(l);o[l.outlet]=u}let a=new Ie(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=qM(r);return e??i}function WM(t,e,n,r,i){let s=t;for(;s.parent;)s=s.parent;if(e.length===0)return q_(s,s,s,n,r,i);let o=pz(e);if(o.toRoot())return q_(s,s,new Ie([],{}),n,r,i);let a=hz(o,s,t),l=a.processChildren?gd(a.segmentGroup,a.index,o.commands):JM(a.segmentGroup,a.index,o.commands);return q_(s,a.segmentGroup,l,n,r,i)}function Vm(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ed(t){return typeof t=="object"&&t!=null&&t.outlets}function AM(t,e,n){t||="\u0275";let r=new xr;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function q_(t,e,n,r,i,s){let o={};for(let[u,d]of Object.entries(r??{}))o[u]=Array.isArray(d)?d.map(p=>AM(u,p,s)):AM(u,d,s);let a;t===e?a=n:a=YM(t,e,n);let l=qM(GM(a));return new xr(l,o,i)}function YM(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=YM(s,e,n)}),new Ie(t.segments,r)}var Um=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Vm(r[0]))throw new V(4003,!1);let i=r.find(Ed);if(i&&i!==LM(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pz(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Um(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Um(n,e,r)}var xl=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function hz(t,e,n){if(t.isAbsolute)return new xl(e,!0,0);if(!n)return new xl(e,!1,NaN);if(n.parent===null)return new xl(n,!0,0);let r=Vm(t.commands[0])?0:1,i=n.segments.length-1+r;return mz(n,i,t.numberOfDoubleDots)}function mz(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new xl(r,!1,i-s)}function gz(t){return Ed(t[0])?t[0].outlets:{[oe]:t}}function JM(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return gd(t,e,n);let r=vz(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ie(t.segments.slice(0,r.pathIndex),{});return s.children[oe]=new Ie(t.segments.slice(r.pathIndex),t.children),gd(s,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?X_(t,e,n):r.match?gd(t,0,i):X_(t,e,n)}function gd(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=gz(n),i={};if(Object.keys(r).some(s=>s!==oe)&&t.children[oe]&&t.numberOfChildren===1&&t.children[oe].segments.length===0){let s=gd(t.children[oe],e,n);return new Ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=JM(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ie(t.segments,i)}}function vz(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ed(a))break;let l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!bM(l,u,o))return s;r+=2}else{if(!bM(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function X_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ed(s)){let l=yz(s.outlets);return new Ie(r,l)}if(i===0&&Vm(n[0])){let l=t.segments[e];r.push(new Ls(l.path,xM(n[0]))),i++;continue}let o=Ed(s)?s.outlets[oe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Vm(a)?(r.push(new Ls(o,xM(a))),i+=2):(r.push(new Ls(o,{})),i++)}return new Ie(r,{})}function yz(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=X_(new Ie([],{}),0,r))}),e}function xM(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function bM(t,e,n){return t==n.path&&ci(e,n.parameters)}var vd="imperative",St=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(St||{}),$n=class{id;url;constructor(e,n){this.id=e,this.url=n}},sa=class extends $n{type=St.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fi=class extends $n{urlAfterRedirects;type=St.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},rn=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(rn||{}),Cd=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Cd||{}),di=class extends $n{reason;code;type=St.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ui=class extends $n{reason;code;type=St.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Nl=class extends $n{error;target;type=St.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wd=class extends $n{urlAfterRedirects;state;type=St.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$m=class extends $n{urlAfterRedirects;state;type=St.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hm=class extends $n{urlAfterRedirects;state;shouldActivate;type=St.GuardsCheckEnd;constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qm=class extends $n{urlAfterRedirects;state;type=St.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gm=class extends $n{urlAfterRedirects;state;type=St.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zm=class{route;type=St.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jm=class{route;type=St.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wm=class{snapshot;type=St.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ym=class{snapshot;type=St.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jm=class{snapshot;type=St.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xm=class{snapshot;type=St.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var _d=class{},Ml=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Ez(t){return!(t instanceof _d)&&!(t instanceof Ml)}function Cz(t,e){return t.providers&&!t._injector&&(t._injector=rd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ar(t){return t.outlet||oe}function wz(t,e){let n=t.filter(r=>Ar(r)===e);return n.push(...t.filter(r=>Ar(r)!==e)),n}function Pl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Qm=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Pl(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ll(this.rootInjector)}},Ll=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Qm(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(Q(Ze))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Km=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Q_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Q_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=K_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return K_(e,this._root).map(n=>n.value)}};function Q_(t,e){if(t===e.value)return e;for(let n of e.children){let r=Q_(t,n);if(r)return r}return null}function K_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=K_(t,n);if(r.length)return r.unshift(e),r}return[]}var Un=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Al(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Sd=class extends Km{snapshot;constructor(e,n){super(e),this.snapshot=n,iS(this,e)}toString(){return this.snapshot.toString()}};function XM(t){let e=_z(t),n=new Rt([new Ls("",{})]),r=new Rt({}),i=new Rt({}),s=new Rt({}),o=new Rt(""),a=new $i(n,r,s,o,i,oe,t,e.root);return a.snapshot=e.root,new Sd(new Un(a,[]),e)}function _z(t){let e={},n={},r={},s=new ra([],e,r,"",n,oe,t,null,{});return new Td("",new Un(s,[]))}var $i=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(De(u=>u[Id]))??de(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(De(e=>ia(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(De(e=>ia(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Zm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:S(S({},e.params),t.params),data:S(S({},e.data),t.data),resolve:S(S(S(S({},t.data),e.data),i?.data),t._resolvedData)}:r={params:S({},t.params),data:S({},t.data),resolve:S(S({},t.data),t._resolvedData??{})},i&&KM(i)&&(r.resolve[Id]=i.title),r}var ra=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Id]}constructor(e,n,r,i,s,o,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ia(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ia(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Td=class extends Km{url;constructor(e,n){super(n),this.url=e,iS(this,n)}toString(){return QM(this._root)}};function iS(t,e){e.value._routerState=t,e.children.forEach(n=>iS(t,n))}function QM(t){let e=t.children.length>0?` { ${t.children.map(QM).join(", ")} } `:"";return`${t.value}${e}`}function G_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ci(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ci(e.params,n.params)||t.paramsSubject.next(n.params),J5(e.url,n.url)||t.urlSubject.next(n.url),ci(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Z_(t,e){let n=ci(t.params,e.params)&&Z5(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Z_(t.parent,e.parent))}function KM(t){return typeof t.title=="string"||t.title===null}var ZM=new q(""),xd=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=oe;activateEvents=new at;deactivateEvents=new at;attachEvents=new at;detachEvents=new at;routerOutletData=Dr();parentContexts=b(Ll);location=b(Yo);changeDetector=b(Qo);inputBinder=b(bd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new eS(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ut({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ds]})}return t})(),eS=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===$i?this.route:e===Ll?this.childContexts:e===ZM?this.outletData:this.parent.get(e,n)}},bd=new q(""),sS=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=nh([r.queryParams,r.params,r.data]).pipe(Pn(([s,o,a],l)=>(a=S(S(S({},s),o),a),l===0?de(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=KN(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),oS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=je({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Fe(0,"router-outlet")},dependencies:[xd],encapsulation:2})}return t})();function aS(t){let e=t.children&&t.children.map(aS),n=e?G(S({},t),{children:e}):S({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=oS),n}function Sz(t,e,n){let r=Dd(t,e._root,n?n._root:void 0);return new Sd(r,e)}function Dd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Tz(t,e,n);return new Un(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Dd(t,a)),o}}let r=Dz(e.value),i=e.children.map(s=>Dd(t,s));return new Un(r,i)}}function Tz(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Dd(t,r,i);return Dd(t,r)})}function Dz(t){return new $i(new Rt(t.url),new Rt(t.params),new Rt(t.queryParams),new Rt(t.fragment),new Rt(t.data),t.outlet,t.component,t)}var Rl=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},eR="ngNavigationCancelingError";function eg(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Os(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=tR(!1,rn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function tR(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[eR]=!0,n.cancellationCode=e,n}function Iz(t){return nR(t)&&Os(t.url)}function nR(t){return!!t&&t[eR]}var Az=(t,e,n,r)=>De(i=>(new tS(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),tS=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),G_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Al(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Al(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Al(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Al(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Xm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Ym(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(G_(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),G_(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},tg=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},bl=class{component;route;constructor(e,n){this.component=e,this.route=n}};function xz(t,e,n){let r=t._root,i=e?e._root:null;return md(r,i,n,[r.value])}function bz(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Fl(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!CC(t)?t:e.get(t):r}function md(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Al(e);return t.children.forEach(o=>{Nz(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>yd(a,n.getContext(o),i)),i}function Nz(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=Mz(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new tg(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?md(t,e,a?a.children:null,r,i):md(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bl(a.outlet.component,o))}else o&&yd(e,a,i),i.canActivateChecks.push(new tg(r)),s.component?md(t,null,a?a.children:null,r,i):md(t,null,n,r,i);return i}function Mz(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!na(t.url,e.url);case"pathParamsOrQueryParamsChange":return!na(t.url,e.url)||!ci(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Z_(t,e)||!ci(t.queryParams,e.queryParams);case"paramsChange":default:return!Z_(t,e)}}function yd(t,e,n){let r=Al(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?yd(o,e.children.getContext(s),n):yd(o,null,n):yd(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new bl(e.outlet.component,i)):n.canDeactivateChecks.push(new bl(null,i)):n.canDeactivateChecks.push(new bl(null,i))}function Nd(t){return typeof t=="function"}function Rz(t){return typeof t=="boolean"}function kz(t){return t&&Nd(t.canLoad)}function Pz(t){return t&&Nd(t.canActivate)}function Lz(t){return t&&Nd(t.canActivateChild)}function Fz(t){return t&&Nd(t.canDeactivate)}function Oz(t){return t&&Nd(t.canMatch)}function rR(t){return t instanceof Ao||t?.name==="EmptyError"}var Pm=Symbol("INITIAL_VALUE");function kl(){return Pn(t=>nh(t.map(e=>e.pipe(Di(1),iC(Pm)))).pipe(De(e=>{for(let n of e)if(n!==!0){if(n===Pm)return Pm;if(n===!1||Bz(n))return n}return!0}),Zn(e=>e!==Pm),Di(1)))}function Bz(t){return Os(t)||t instanceof Rl}function iR(t){return t.aborted?de(void 0).pipe(Di(1)):new ve(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function sR(t){return Ic(iR(t))}function Vz(t,e){return Kt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?de(G(S({},n),{guardsResult:!0})):Uz(o,r,i,t).pipe(Kt(a=>a&&Rz(a)?$z(r,s,t,e):de(a)),De(a=>G(S({},n),{guardsResult:a})))})}function Uz(t,e,n,r){return ot(t).pipe(Kt(i=>jz(i.component,i.route,n,e,r)),Ii(i=>i!==!0,!0))}function $z(t,e,n,r){return ot(e).pipe(sl(i=>il(qz(i.route.parent,r),Hz(i.route,r),zz(t,i.path,n),Gz(t,i.route,n))),Ii(i=>i!==!0,!0))}function Hz(t,e){return t!==null&&e&&e(new Jm(t)),de(!0)}function qz(t,e){return t!==null&&e&&e(new Wm(t)),de(!0)}function Gz(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return de(!0);let i=r.map(s=>Tc(()=>{let o=Pl(e)??n,a=Fl(s,o),l=Pz(a)?a.canActivate(e,t):Pt(o,()=>a(e,t));return oa(l).pipe(Ii())}));return de(i).pipe(kl())}function zz(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>bz(o)).filter(o=>o!==null).map(o=>Tc(()=>{let a=o.guards.map(l=>{let u=Pl(o.node)??n,d=Fl(l,u),p=Lz(d)?d.canActivateChild(r,t):Pt(u,()=>d(r,t));return oa(p).pipe(Ii())});return de(a).pipe(kl())}));return de(s).pipe(kl())}function jz(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return de(!0);let o=s.map(a=>{let l=Pl(e)??i,u=Fl(a,l),d=Fz(u)?u.canDeactivate(t,e,n,r):Pt(l,()=>u(t,e,n,r));return oa(d).pipe(Ii())});return de(o).pipe(kl())}function Wz(t,e,n,r,i){let s=e.canLoad;if(s===void 0||s.length===0)return de(!0);let o=s.map(a=>{let l=Fl(a,t),u=kz(l)?l.canLoad(e,n):Pt(t,()=>l(e,n)),d=oa(u);return i?d.pipe(sR(i)):d});return de(o).pipe(kl(),oR(r))}function oR(t){return KE(Zt(e=>{if(typeof e!="boolean")throw eg(t,e)}),De(e=>e===!0))}function Yz(t,e,n,r,i){let s=e.canMatch;if(!s||s.length===0)return de(!0);let o=s.map(a=>{let l=Fl(a,t),u=Oz(l)?l.canMatch(e,n):Pt(t,()=>l(e,n)),d=oa(u);return i?d.pipe(sR(i)):d});return de(o).pipe(kl(),oR(r))}var ta=class aR extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,aR.prototype)}},nS=class lR extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,lR.prototype)}};function Jz(t){throw new V(4e3,!1)}function Xz(t){throw tR(!1,rn.GuardRejected)}var Qz=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[oe])throw Jz(`${e.redirectTo}`);i=i.children[oe]}}async applyRedirectCommands(e,n,r,i,s){let o=await Kz(n,i,s);if(o instanceof xr)throw new nS(o);let a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),e,r);if(o[0]==="/")throw new nS(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new xr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new Ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function Kz(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:s,routeConfig:o,url:a,outlet:l,params:u,data:d,title:p}=e;return Bm(oa(Pt(n,()=>r({params:u,data:d,queryParams:i,fragment:s,routeConfig:o,url:a,outlet:l,title:p}))))}var rS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zz(t,e,n,r,i,s){let o=uR(t,e,n);return o.matched?(r=Cz(e,r),Yz(r,e,n,i,s).pipe(De(a=>a===!0?o:S({},rS)))):de(o)}function uR(t,e,n){if(e.path==="**")return ej(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?S({},rS):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||kM)(n,t,e);if(!i)return S({},rS);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?S(S({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ej(t){return{matched:!0,parameters:t.length>0?LM(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function NM(t,e,n,r){return n.length>0&&rj(t,n,r)?{segmentGroup:new Ie(e,nj(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&ij(t,n,r)?{segmentGroup:new Ie(t.segments,tj(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function tj(t,e,n,r){let i={};for(let s of n)if(rg(t,e,s)&&!r[Ar(s)]){let o=new Ie([],{});i[Ar(s)]=o}return S(S({},r),i)}function nj(t,e){let n={};n[oe]=e;for(let r of t)if(r.path===""&&Ar(r)!==oe){let i=new Ie([],{});n[Ar(r)]=i}return n}function rj(t,e,n){return n.some(r=>rg(t,e,r)&&Ar(r)!==oe)}function ij(t,e,n){return n.some(r=>rg(t,e,r))}function rg(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function sj(t,e,n){return e.length===0&&!t.children[n]}var oj=class{};async function aj(t,e,n,r,i,s,o="emptyOnly",a){return new uj(t,e,n,r,i,o,s,a).recognize()}var lj=31,uj=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,s,o,a,l){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.abortSignal=l,this.applyRedirects=new Qz(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}async recognize(){let e=NM(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new Un(r,n),s=new Td("",i),o=zM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}async match(e){let n=new ra([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,oe,n),rootSnapshot:n}}catch(r){if(r instanceof nS)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ta?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,s){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,s);let o=await this.processSegment(e,n,r,r.segments,i,!0,s);return o instanceof Un?[o]:[]}async processChildren(e,n,r,i){let s=[];for(let l of Object.keys(r.children))l==="primary"?s.unshift(l):s.push(l);let o=[];for(let l of s){let u=r.children[l],d=wz(n,l),p=await this.processSegmentGroup(e,d,u,l,i);o.push(...p)}let a=cR(o);return cj(a),a}async processSegment(e,n,r,i,s,o,a){for(let l of n)try{return await this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,s,o,a)}catch(u){if(u instanceof ta||rR(u))continue;throw u}if(sj(r,i,s))return new oj;throw new ta(r)}async processSegmentAgainstRoute(e,n,r,i,s,o,a,l){if(Ar(r)!==o&&(o===oe||!rg(i,s,r)))throw new ta(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,s,o,l);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,l);throw new ta(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:l,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:h}=uR(n,i,s);if(!l)throw new ta(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lj&&(this.allowRedirects=!1));let m=new ra(s,u,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,MM(i),Ar(i),i.component??i._loadedComponent??null,i,RM(i)),v=Zm(m,a,this.paramsInheritanceStrategy);if(m.params=Object.freeze(v.params),m.data=Object.freeze(v.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let C=await this.applyRedirects.applyRedirectCommands(d,i.redirectTo,p,m,e),w=await this.applyRedirects.lineralizeSegments(i,C);return this.processSegment(e,r,n,w.concat(h),o,!1,a)}async matchSegmentAgainstRoute(e,n,r,i,s,o){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Bm(Zz(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new ta(n);e=r._injector??e;let{routes:l}=await this.getChildConfig(e,r,i),u=r._loadedInjector??e,{parameters:d,consumedSegments:p,remainingSegments:h}=a,m=new ra(p,d,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,MM(r),Ar(r),r.component??r._loadedComponent??null,r,RM(r)),v=Zm(m,o,this.paramsInheritanceStrategy);m.params=Object.freeze(v.params),m.data=Object.freeze(v.data);let{segmentGroup:C,slicedSegments:w}=NM(n,p,h,l);if(w.length===0&&C.hasChildren()){let M=await this.processChildren(u,l,C,m);return new Un(m,M)}if(l.length===0&&w.length===0)return new Un(m,[]);let E=Ar(r)===s,D=await this.processSegment(u,l,C,w,E?oe:s,!0,m);return new Un(m,D instanceof Un?[D]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Bm(Wz(e,n,r,this.urlSerializer,this.abortSignal))){let s=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=s.routes,n._loadedInjector=s.injector,s}throw Xz(n)}return{routes:[],injector:e}}};function cj(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}function dj(t){let e=t.value.routeConfig;return e&&e.path===""}function cR(t){let e=[],n=new Set;for(let r of t){if(!dj(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=cR(r.children);e.push(new Un(r.value,i))}return e.filter(r=>!n.has(r))}function MM(t){return t.data||{}}function RM(t){return t.resolve||{}}var fj=new q("",{factory:()=>aj});function pj(t,e,n,r,i,s,o){let a=t.get(fj);return Kt(l=>de(l).pipe(Pn(u=>a(t,e,n,r,u.extractedUrl,i,s,o)),De(({state:u,tree:d})=>G(S({},l),{targetSnapshot:u,urlAfterRedirects:d}))))}function hj(t,e){return Kt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return de(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let u of dR(l))o.add(u);let a=0;return ot(o).pipe(sl(l=>s.has(l)?mj(l,r,t,e):(l.data=Zm(l,l.parent,t).resolve,de(void 0))),Zt(()=>a++),rh(1),Kt(l=>a===o.size?de(n):hn))})}function dR(t){let e=t.children.map(n=>dR(n)).flat();return[t,...e]}function mj(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!KM(i)&&(s[Id]=i.title),Tc(()=>(t.data=Zm(t,t.parent,n).resolve,gj(s,t,e,r).pipe(De(o=>(t._resolvedData=o,t.data=S(S({},t.data),o),null)))))}function gj(t,e,n,r){let i=W_(t);if(i.length===0)return de({});let s={};return ot(i).pipe(Kt(o=>vj(t[o],e,n,r).pipe(Ii(),Zt(a=>{if(a instanceof Rl)throw eg(new Fs,a);s[o]=a}))),rh(1),De(()=>s),ps(o=>rR(o)?hn:tC(o)))}function vj(t,e,n,r){let i=Pl(e)??r,s=Fl(t,i),o=s.resolve?s.resolve(e,n):Pt(i,()=>s(e,n));return oa(o)}function z_(t){return Pn(e=>{let n=t(e);return n?ot(n).pipe(De(()=>e)):de(e)})}var lS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===oe);return r}getResolvedTitleForRoute(n){return n.data[Id]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>b(fR),providedIn:"root"})}return t})(),fR=(()=>{class t extends lS{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Q(TM))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ol=new q("",{factory:()=>({})}),Md=new q(""),pR=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(w_);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await FM(Pt(n,()=>r.loadComponent())),o=await gR(mR(s));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o,o}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await hR(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=s.routes,r._loadedInjector=s.injector,s}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function hR(t,e,n,r){let i=await FM(Pt(n,()=>t.loadChildren())),s=await gR(mR(i)),o;s instanceof pm||Array.isArray(s)?o=s:o=await e.compileModuleAsync(s),r&&r(t);let a,l,u=!1;return Array.isArray(o)?(l=o,u=!0):(a=o.create(n).injector,l=a.get(Md,[],{optional:!0,self:!0}).flat()),{routes:l.map(aS),injector:a}}function yj(t){return t&&typeof t=="object"&&"default"in t}function mR(t){return yj(t)?t.default:t}async function gR(t){return t}var ig=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>b(Ej),providedIn:"root"})}return t})(),Ej=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vR=new q("");var Cj=()=>{},yR=new q(""),ER=(()=>{class t{currentNavigation=Ue(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Ue(null);events=new it;transitionAbortWithErrorSubject=new it;configLoader=b(pR);environmentInjector=b(Ze);destroyRef=b(Bn);urlSerializer=b(Ad);rootContexts=b(Ll);location=b(Ko);inputBindingEnabled=b(bd,{optional:!0})!==null;titleStrategy=b(lS);options=b(Ol,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(ig);createViewTransition=b(vR,{optional:!0});navigationErrorHandler=b(yR,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>de(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new zm(i)),r=i=>this.events.next(new jm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;mt(()=>{this.transitions?.next(G(S({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new Rt(null),this.transitions.pipe(Zn(r=>r!==null),Pn(r=>{let i=!1,s=new AbortController;return de(r).pipe(Pn(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",rn.SupersededByNewNavigation),hn;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:a?G(S({},a),{previousNavigation:null}):null,abort:()=>s.abort()});let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload")return this.events.next(new Ui(o.id,this.urlSerializer.serialize(o.rawUrl),"",Cd.IgnoredSameUrlNavigation)),o.resolve(!1),hn;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return de(o).pipe(Pn(d=>(this.events.next(new sa(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?hn:Promise.resolve(d))),pj(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,s.signal),Zt(d=>{r.targetSnapshot=d.targetSnapshot,r.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=d.urlAfterRedirects,h));let p=new wd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:d,extractedUrl:p,source:h,restoredState:m,extras:v}=o,C=new sa(d,this.urlSerializer.serialize(p),h,m);this.events.next(C);let w=XM(this.rootComponentType).snapshot;return this.currentTransition=r=G(S({},o),{targetSnapshot:w,urlAfterRedirects:p,extras:G(S({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(E=>(E.finalUrl=p,E)),de(r)}else return this.events.next(new Ui(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Cd.IgnoredByUrlHandlingStrategy)),o.resolve(!1),hn}),Zt(o=>{let a=new $m(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),De(o=>(this.currentTransition=r=G(S({},o),{guards:xz(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Vz(this.environmentInjector,o=>this.events.next(o)),Zt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw eg(this.urlSerializer,o.guardsResult);let a=new Hm(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Zn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",rn.GuardRejected),!1)),z_(o=>{if(o.guards.canActivateChecks.length!==0)return de(o).pipe(Zt(a=>{let l=new qm(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Pn(a=>{let l=!1;return de(a).pipe(hj(this.paramsInheritanceStrategy,this.environmentInjector),Zt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",rn.NoDataFromResolver)}}))}),Zt(a=>{let l=new Gm(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),z_(o=>{let a=u=>{let d=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let p=Pl(u)??this.environmentInjector;d.push(this.configLoader.loadComponent(p,u.routeConfig).then(h=>{u.component=h}))}for(let p of u.children)d.push(...a(p));return d},l=a(o.targetSnapshot.root);return l.length===0?de(o):ot(Promise.all(l).then(()=>o))}),z_(()=>this.afterPreactivation()),Pn(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return l?ot(l).pipe(De(()=>r)):de(r)}),De(o=>{let a=Sz(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=G(S({},o),{targetRouterState:a}),this.currentNavigation.update(l=>(l.targetRouterState=a,l)),r}),Zt(()=>{this.events.next(new _d)}),Az(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Di(1),Ic(iR(s.signal).pipe(Zn(()=>!i&&!r.targetRouterState),Zt(()=>{this.cancelNavigationTransition(r,s.signal.reason+"",rn.Aborted)}))),Zt({next:o=>{i=!0,this.currentNavigation.update(a=>(a.abort=Cj,a)),this.lastSuccessfulNavigation.set(mt(this.currentNavigation)),this.events.next(new fi(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ic(this.transitionAbortWithErrorSubject.pipe(Zt(o=>{throw o}))),Dc(()=>{s.abort(),i||this.cancelNavigationTransition(r,"",rn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ps(o=>{if(this.destroyed)return r.resolve(!1),hn;if(i=!0,nR(o))this.events.next(new di(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Iz(o)?this.events.next(new Ml(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Nl(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let l=Pt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Rl){let{message:u,cancellationCode:d}=eg(this.urlSerializer,l);this.events.next(new di(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new Ml(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return hn}))}))}cancelNavigationTransition(n,r,i){let s=new di(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=mt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wj(t){return t!==vd}var CR=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>b(_j),providedIn:"root"})}return t})(),ng=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},_j=(()=>{class t extends ng{static \u0275fac=(()=>{let n;return function(i){return(n||(n=si(t)))(i||t)}})();static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uS=(()=>{class t{urlSerializer=b(Ad);options=b(Ol,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(Ko);urlHandlingStrategy=b(ig);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new xr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let s=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,o=i??s;return o instanceof xr?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=XM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>b(wR),providedIn:"root"})}return t})(),wR=(()=>{class t extends uS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof sa?this.updateStateMemento():n instanceof Ui?this.commitTransition(r):n instanceof wd?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof _d?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof di&&n.code!==rn.SupersededByNewNavigation&&n.code!==rn.Redirect?this.restoreHistory(r):n instanceof Nl?this.restoreHistory(r,!0):n instanceof fi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(n)||s){let a=this.browserPageId,l=S(S({},o),this.generateNgRouterState(i,a));this.location.replaceState(n,"",l)}else{let a=S(S({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===n.finalUrl&&s===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=si(t)))(i||t)}})();static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cS(t,e){t.events.pipe(Zn(n=>n instanceof fi||n instanceof di||n instanceof Nl||n instanceof Ui),De(n=>n instanceof fi||n instanceof Ui?0:(n instanceof di?n.code===rn.Redirect||n.code===rn.SupersededByNewNavigation:!1)?2:1),Zn(n=>n!==2),Di(1)).subscribe(()=>{e()})}var Sj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Rd=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(f_);stateManager=b(uS);options=b(Ol,{optional:!0})||{};pendingTasks=b(ki);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(ER);urlSerializer=b(Ad);location=b(Ko);urlHandlingStrategy=b(ig);injector=b(Ze);_events=new it;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(CR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(Md,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(bd,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Mt;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=mt(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof di&&r.code!==rn.Redirect&&r.code!==rn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof fi)this.navigated=!0;else if(r instanceof Ml){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=S({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||wj(i.source)},o);this.scheduleNavigation(a,vd,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Ez(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),vd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let l=S({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s).catch(l=>{this.disposed||this.injector.get(_r)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return mt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(aS),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=S(S({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let h=i?i.snapshot:this.routerState.snapshot.root;p=jM(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return WM(p,n,d,u??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Os(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,vd,null,r)}navigate(n,r={skipLocationChange:!1}){return Dj(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(gs(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=S({},Sj):r===!1?i=S({},Tj):i=r,Os(n))return DM(this.currentUrlTree,n,i);let s=this.parseUrl(n);return DM(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((p,h)=>{a=p,l=h});let d=this.pendingTasks.add();return cS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dj(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new V(4008,!1)}var ar=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ue(null);get href(){return mt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new it;applicationErrorHandler=b(_r);options=b(Ol,{optional:!0});constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.reactiveHref.set(b(new Cm("href"),{optional:!0}));let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(n=>{n instanceof fi&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Os(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:Os(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(Ce(Rd),Ce($i),ed("tabindex"),Ce(Oi),Ce(Vn),Ce(li))};static \u0275dir=ut({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&$e("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&id("href",i.reactiveHref(),Qw)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Sl],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Sl],replaceUrl:[2,"replaceUrl","replaceUrl",Sl],routerLink:"routerLink"},features:[Ds]})}return t})();var Aj=new q("");function dS(t,...e){return ys([{provide:Md,multi:!0,useValue:t},[],{provide:$i,useFactory:xj},{provide:hm,multi:!0,useFactory:bj},e.map(n=>n.\u0275providers)])}function xj(){return b(Rd).routerState.root}function _R(t,e){return{\u0275kind:t,\u0275providers:e}}function bj(){let t=b(vn);return e=>{let n=t.get(xs);if(e!==n.components[0])return;let r=t.get(Rd),i=t.get(Nj);t.get(Mj)===1&&r.initialNavigation(),t.get(Rj,null,{optional:!0})?.setUpPreloading(),t.get(Aj,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Nj=new q("",{factory:()=>new it}),Mj=new q("",{factory:()=>1});var Rj=new q("");function fS(){return _R(6,[{provide:li,useClass:x_}])}function pS(){return _R(8,[sS,{provide:bd,useExisting:sS}])}var pi=class t{constructor(){this.http=b(Rm);this.products=Ue([]);this.loadProducts()}loadProducts(){let e="https://keewdanzvhxplokkgnhq.supabase.co/functions/v1/bright-task",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtlZXdkYW56dmh4cGxva2tnbmhxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc4NjQyNDUsImV4cCI6MjA4MzQ0MDI0NX0.Nx5qVmCilV0rVSm8sVS5_MfmT6tPdLY26jE6EPXIi94",r=new ui({Authorization:`Bearer ${n}`});this.http.get(e,{headers:r}).pipe(ps(i=>(console.error("Error loading products from Supabase Edge Function:",i),de([])))).subscribe(i=>{console.log("Productos recibidos desde backend:",i.slice(0,2)),console.log("Total productos:",i.length),this.products.set(i)})}getProducts(){return this.products.asReadonly()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}};var kj,Pj;function Lj(){return{geminiUrl:kj,vertexUrl:Pj}}function Fj(t,e,n,r){var i,s;if(!t?.baseUrl){let o=Lj();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}var Mr=class{};function F(t,e){let n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){let s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function f(t,e,n){for(let s=0;s<e.length-1;s++){let o=e[s];if(o.endsWith("[]")){let a=o.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[a])){let l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){let d=l[u];f(d,e.slice(s+1),n[u])}else for(let u of l)f(u,e.slice(s+1),n)}return}else if(o.endsWith("[0]")){let a=o.slice(0,-3);a in t||(t[a]=[{}]);let l=t[a];f(l[0],e.slice(s+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}let r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function c(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;let i=e[r];if(i.endsWith("[]")){let s=i.slice(0,-2);if(s in t){let o=t[s];return Array.isArray(o)?o.map(a=>c(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Oj(t,e){for(let[n,r]of Object.entries(e)){let i=n.split("."),s=r.split("."),o=new Set,a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&s.length>a)for(let l=a;l<s.length;l++){let u=s[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&o.add(u)}gS(t,i,s,0,o)}}function gS(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;let s=e[r];if(s.endsWith("[]")){let o=s.slice(0,-2),a=t;if(o in a&&Array.isArray(a[o]))for(let l of a[o])gS(l,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let o=t,a=Object.keys(o).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(let u of a)l[u]=o[u];for(let[u,d]of Object.entries(l)){let p=[];for(let h of n.slice(r))h==="*"?p.push(u):p.push(h);f(o,p,d)}for(let u of a)delete o[u]}}else{let o=t;s in o&&gS(o[s],e,n,r+1,i)}}function h0(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Bj(t){let e={},n=c(t,["operationName"]);n!=null&&f(e,["operationName"],n);let r=c(t,["resourceName"]);return r!=null&&f(e,["_url","resourceName"],r),e}function Vj(t){let e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);let r=c(t,["metadata"]);r!=null&&f(e,["metadata"],r);let i=c(t,["done"]);i!=null&&f(e,["done"],i);let s=c(t,["error"]);s!=null&&f(e,["error"],s);let o=c(t,["response","generateVideoResponse"]);return o!=null&&f(e,["response"],$j(o)),e}function Uj(t){let e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);let r=c(t,["metadata"]);r!=null&&f(e,["metadata"],r);let i=c(t,["done"]);i!=null&&f(e,["done"],i);let s=c(t,["error"]);s!=null&&f(e,["error"],s);let o=c(t,["response"]);return o!=null&&f(e,["response"],Hj(o)),e}function $j(t){let e={},n=c(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>qj(o))),f(e,["generatedVideos"],s)}let r=c(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);let i=c(t,["raiMediaFilteredReasons"]);return i!=null&&f(e,["raiMediaFilteredReasons"],i),e}function Hj(t){let e={},n=c(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Gj(o))),f(e,["generatedVideos"],s)}let r=c(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);let i=c(t,["raiMediaFilteredReasons"]);return i!=null&&f(e,["raiMediaFilteredReasons"],i),e}function qj(t){let e={},n=c(t,["video"]);return n!=null&&f(e,["video"],Xj(n)),e}function Gj(t){let e={},n=c(t,["_self"]);return n!=null&&f(e,["video"],Qj(n)),e}function zj(t){let e={},n=c(t,["operationName"]);return n!=null&&f(e,["_url","operationName"],n),e}function jj(t){let e={},n=c(t,["operationName"]);return n!=null&&f(e,["_url","operationName"],n),e}function Wj(t){let e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);let r=c(t,["metadata"]);r!=null&&f(e,["metadata"],r);let i=c(t,["done"]);i!=null&&f(e,["done"],i);let s=c(t,["error"]);s!=null&&f(e,["error"],s);let o=c(t,["response"]);return o!=null&&f(e,["response"],Yj(o)),e}function Yj(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["parent"]);r!=null&&f(e,["parent"],r);let i=c(t,["documentName"]);return i!=null&&f(e,["documentName"],i),e}function YR(t){let e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);let r=c(t,["metadata"]);r!=null&&f(e,["metadata"],r);let i=c(t,["done"]);i!=null&&f(e,["done"],i);let s=c(t,["error"]);s!=null&&f(e,["error"],s);let o=c(t,["response"]);return o!=null&&f(e,["response"],Jj(o)),e}function Jj(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["parent"]);r!=null&&f(e,["parent"],r);let i=c(t,["documentName"]);return i!=null&&f(e,["documentName"],i),e}function Xj(t){let e={},n=c(t,["uri"]);n!=null&&f(e,["uri"],n);let r=c(t,["encodedVideo"]);r!=null&&f(e,["videoBytes"],h0(r));let i=c(t,["encoding"]);return i!=null&&f(e,["mimeType"],i),e}function Qj(t){let e={},n=c(t,["gcsUri"]);n!=null&&f(e,["uri"],n);let r=c(t,["bytesBase64Encoded"]);r!=null&&f(e,["videoBytes"],h0(r));let i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}var lr=(function(t){return t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL",t})(lr||{});var vS=(function(t){return t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO",t})(vS||{});var JR=(function(t){return t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",t})(JR||{});var Pd=(function(t){return t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT",t})(Pd||{});var Fd=class{constructor(e){let n={};for(let r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}};var la=class{get text(){var e,n,r,i,s,o,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1,p=[];for(let h of(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(let[m,v]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(v!==null||v!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,n,r,i,s,o,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="",d=[];for(let p of(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(let[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,s,o,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let u=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if(u?.length!==0)return u}get executableCode(){var e,n,r,i,s,o,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let d=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(d?.length!==0)return(u=d?.[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,s,o,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let d=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(d?.length!==0)return(u=d?.[0])===null||u===void 0?void 0:u.output}},fg=class{},pg=class{},yS=class{},ES=class{},CS=class{},wS=class{},hg=class{},mg=class{},gg=class{},_S=class{};var vg=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let r=new t,i,s=e;return n?i=Uj(s):i=Vj(s),Object.assign(r,i),r}},yg=class{},Eg=class{},Cg=class{},wg=class{},SS=class{},TS=class{},DS=class{};var IS=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let r=new t,s=Wj(e);return Object.assign(r,s),r}},AS=class{},xS=class{},bS=class{};var _g=class{};var NS=class{get text(){var e,n,r;let i="",s=!1,o=[];for(let a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(let[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&o.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;s=!0,i+=a.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="",s=[];for(let o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(let[a,l]of Object.entries(o))a!=="inlineData"&&l!==null&&s.push(a);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}};var MS=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var RS=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let r=new t,s=YR(e);return Object.assign(r,s),r}};function Te(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){let n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function XR(t,e){let n=Te(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function QR(t){return Array.isArray(t)?t.map(e=>Sg(e)):[Sg(t)]}function Sg(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function KR(t){let e=Sg(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ZR(t){let e=Sg(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function SR(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function ek(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>SR(e)):[SR(t)]}function kS(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function TR(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function DR(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function qt(t){if(t==null)throw new Error("ContentUnion is required");return kS(t)?t:{role:"user",parts:ek(t)}}function m0(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{let r=qt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){let n=qt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>qt(n)):[qt(e)]}function ur(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(TR(t)||DR(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[qt(t)]}let e=[],n=[],r=kS(t[0]);for(let i of t){let s=kS(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(TR(i)||DR(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:ek(n)}),e}function Kj(t,e){t.includes("null")&&(e.nullable=!0);let n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(lr).includes(n[0].toUpperCase())?n[0].toUpperCase():lr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(let r of n)e.anyOf.push({type:Object.values(lr).includes(r.toUpperCase())?r.toUpperCase():lr.TYPE_UNSPECIFIED})}}function Vl(t){let e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");let s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&Kj(t.type,e);for(let[o,a]of Object.entries(t))if(a!=null)if(o=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(lr).includes(a.toUpperCase())?a.toUpperCase():lr.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Vl(a);else if(r.includes(o)){let l=[];for(let u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(Vl(u))}e[o]=l}else if(i.includes(o)){let l={};for(let[u,d]of Object.entries(a))l[u]=Vl(d);e[o]=l}else{if(o==="additionalProperties")continue;e[o]=a}return e}function g0(t){return Vl(t)}function v0(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function y0(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ql(t){if(t.functionDeclarations)for(let e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Vl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Vl(e.response));return t}function Gl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");let e=[];for(let n of t)e.push(n);return e}function Zj(t,e,n,r=1){let i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function qi(t,e){if(typeof e!="string")throw new Error("name must be a string");return Zj(t,e,"cachedContents")}function tk(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Bs(t){return h0(t)}function e6(t){return t!=null&&typeof t=="object"&&"name"in t}function t6(t){return t!=null&&typeof t=="object"&&"video"in t}function n6(t){return t!=null&&typeof t=="object"&&"uri"in t}function nk(t){var e;let n;if(e6(t)&&(n=t.name),!(n6(t)&&(n=t.uri,n===void 0))&&!(t6(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){let i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function rk(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function ik(t){for(let e of["models","tunedModels","publisherModels"])if(r6(t,e))return t[e];return[]}function r6(t,e){return t!==null&&typeof t=="object"&&e in t}function i6(t,e={}){let n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function s6(t,e={}){let n=[],r=new Set;for(let i of t){let s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);let o=i6(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function sk(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;let r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function o6(t){if(typeof t!="string")return t;let e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function ok(t){if(typeof t!="object"||t===null)return{};let e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;let i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(let o of i){if(typeof o!="object"||o===null)continue;let l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function zl(t,e){let n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function ak(t){let e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function a6(t){let e={},n=c(t,["responsesFile"]);n!=null&&f(e,["fileName"],n);let r=c(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>$6(o))),f(e,["inlinedResponses"],s)}let i=c(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),f(e,["inlinedEmbedContentResponses"],s)}return e}function l6(t){let e={},n=c(t,["predictionsFormat"]);n!=null&&f(e,["format"],n);let r=c(t,["gcsDestination","outputUriPrefix"]);r!=null&&f(e,["gcsUri"],r);let i=c(t,["bigqueryDestination","outputUri"]);return i!=null&&f(e,["bigqueryUri"],i),e}function u6(t){let e={},n=c(t,["format"]);n!=null&&f(e,["predictionsFormat"],n);let r=c(t,["gcsUri"]);r!=null&&f(e,["gcsDestination","outputUriPrefix"],r);let i=c(t,["bigqueryUri"]);if(i!=null&&f(e,["bigqueryDestination","outputUri"],i),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function cg(t){let e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);let r=c(t,["metadata","displayName"]);r!=null&&f(e,["displayName"],r);let i=c(t,["metadata","state"]);i!=null&&f(e,["state"],ak(i));let s=c(t,["metadata","createTime"]);s!=null&&f(e,["createTime"],s);let o=c(t,["metadata","endTime"]);o!=null&&f(e,["endTime"],o);let a=c(t,["metadata","updateTime"]);a!=null&&f(e,["updateTime"],a);let l=c(t,["metadata","model"]);l!=null&&f(e,["model"],l);let u=c(t,["metadata","output"]);return u!=null&&f(e,["dest"],a6(ok(u))),e}function PS(t){let e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);let r=c(t,["displayName"]);r!=null&&f(e,["displayName"],r);let i=c(t,["state"]);i!=null&&f(e,["state"],ak(i));let s=c(t,["error"]);s!=null&&f(e,["error"],s);let o=c(t,["createTime"]);o!=null&&f(e,["createTime"],o);let a=c(t,["startTime"]);a!=null&&f(e,["startTime"],a);let l=c(t,["endTime"]);l!=null&&f(e,["endTime"],l);let u=c(t,["updateTime"]);u!=null&&f(e,["updateTime"],u);let d=c(t,["model"]);d!=null&&f(e,["model"],d);let p=c(t,["inputConfig"]);p!=null&&f(e,["src"],c6(p));let h=c(t,["outputConfig"]);h!=null&&f(e,["dest"],l6(ok(h)));let m=c(t,["completionStats"]);return m!=null&&f(e,["completionStats"],m),e}function c6(t){let e={},n=c(t,["instancesFormat"]);n!=null&&f(e,["format"],n);let r=c(t,["gcsSource","uris"]);r!=null&&f(e,["gcsUri"],r);let i=c(t,["bigquerySource","inputUri"]);return i!=null&&f(e,["bigqueryUri"],i),e}function d6(t,e){let n={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let r=c(e,["fileName"]);r!=null&&f(n,["fileName"],r);let i=c(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>U6(t,o))),f(n,["requests","requests"],s)}return n}function f6(t){let e={},n=c(t,["format"]);n!=null&&f(e,["instancesFormat"],n);let r=c(t,["gcsUri"]);r!=null&&f(e,["gcsSource","uris"],r);let i=c(t,["bigqueryUri"]);if(i!=null&&f(e,["bigquerySource","inputUri"],i),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function p6(t){let e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function h6(t,e){let n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],zl(t,r)),n}function m6(t,e){let n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],zl(t,r)),n}function g6(t){let e={},n=c(t,["content"]);n!=null&&f(e,["content"],n);let r=c(t,["citationMetadata"]);r!=null&&f(e,["citationMetadata"],v6(r));let i=c(t,["tokenCount"]);i!=null&&f(e,["tokenCount"],i);let s=c(t,["finishReason"]);s!=null&&f(e,["finishReason"],s);let o=c(t,["avgLogprobs"]);o!=null&&f(e,["avgLogprobs"],o);let a=c(t,["groundingMetadata"]);a!=null&&f(e,["groundingMetadata"],a);let l=c(t,["index"]);l!=null&&f(e,["index"],l);let u=c(t,["logprobsResult"]);u!=null&&f(e,["logprobsResult"],u);let d=c(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>m)),f(e,["safetyRatings"],h)}let p=c(t,["urlContextMetadata"]);return p!=null&&f(e,["urlContextMetadata"],p),e}function v6(t){let e={},n=c(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),f(e,["citations"],r)}return e}function lk(t){let e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Y6(s))),f(e,["parts"],i)}let r=c(t,["role"]);return r!=null&&f(e,["role"],r),e}function y6(t,e){let n={},r=c(t,["displayName"]);if(e!==void 0&&r!=null&&f(e,["batch","displayName"],r),c(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function E6(t,e){let n={},r=c(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);let i=c(t,["dest"]);return e!==void 0&&i!=null&&f(e,["outputConfig"],u6(o6(i))),n}function IR(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["src"]);i!=null&&f(n,["batch","inputConfig"],d6(t,sk(t,i)));let s=c(e,["config"]);return s!=null&&y6(s,n),n}function C6(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["model"],Te(t,r));let i=c(e,["src"]);i!=null&&f(n,["inputConfig"],f6(sk(t,i)));let s=c(e,["config"]);return s!=null&&E6(s,n),n}function w6(t,e){let n={},r=c(t,["displayName"]);return e!==void 0&&r!=null&&f(e,["batch","displayName"],r),n}function _6(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["src"]);i!=null&&f(n,["batch","inputConfig"],b6(t,i));let s=c(e,["config"]);return s!=null&&w6(s,n),n}function S6(t,e){let n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],zl(t,r)),n}function T6(t,e){let n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],zl(t,r)),n}function D6(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["name"]);r!=null&&f(e,["name"],r);let i=c(t,["done"]);i!=null&&f(e,["done"],i);let s=c(t,["error"]);return s!=null&&f(e,["error"],s),e}function I6(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["name"]);r!=null&&f(e,["name"],r);let i=c(t,["done"]);i!=null&&f(e,["done"],i);let s=c(t,["error"]);return s!=null&&f(e,["error"],s),e}function A6(t,e){let n={},r=c(e,["contents"]);if(r!=null){let s=m0(t,r);Array.isArray(s)&&(s=s.map(o=>o)),f(n,["requests[]","request","content"],s)}let i=c(e,["config"]);return i!=null&&(f(n,["_self"],x6(i,n)),Oj(n,{"requests[].*":"requests[].request.*"})),n}function x6(t,e){let n={},r=c(t,["taskType"]);e!==void 0&&r!=null&&f(e,["requests[]","taskType"],r);let i=c(t,["title"]);e!==void 0&&i!=null&&f(e,["requests[]","title"],i);let s=c(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&f(e,["requests[]","outputDimensionality"],s),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function b6(t,e){let n={},r=c(e,["fileName"]);r!=null&&f(n,["file_name"],r);let i=c(e,["inlinedRequests"]);return i!=null&&f(n,["requests"],A6(t,i)),n}function N6(t){let e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);let r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function M6(t){let e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);let r=c(t,["args"]);r!=null&&f(e,["args"],r);let i=c(t,["name"]);if(i!=null&&f(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function R6(t){let e={},n=c(t,["allowedFunctionNames"]);n!=null&&f(e,["allowedFunctionNames"],n);let r=c(t,["mode"]);if(r!=null&&f(e,["mode"],r),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function k6(t,e,n){let r={},i=c(e,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],lk(qt(i)));let s=c(e,["temperature"]);s!=null&&f(r,["temperature"],s);let o=c(e,["topP"]);o!=null&&f(r,["topP"],o);let a=c(e,["topK"]);a!=null&&f(r,["topK"],a);let l=c(e,["candidateCount"]);l!=null&&f(r,["candidateCount"],l);let u=c(e,["maxOutputTokens"]);u!=null&&f(r,["maxOutputTokens"],u);let d=c(e,["stopSequences"]);d!=null&&f(r,["stopSequences"],d);let p=c(e,["responseLogprobs"]);p!=null&&f(r,["responseLogprobs"],p);let h=c(e,["logprobs"]);h!=null&&f(r,["logprobs"],h);let m=c(e,["presencePenalty"]);m!=null&&f(r,["presencePenalty"],m);let v=c(e,["frequencyPenalty"]);v!=null&&f(r,["frequencyPenalty"],v);let C=c(e,["seed"]);C!=null&&f(r,["seed"],C);let w=c(e,["responseMimeType"]);w!=null&&f(r,["responseMimeType"],w);let E=c(e,["responseSchema"]);E!=null&&f(r,["responseSchema"],g0(E));let D=c(e,["responseJsonSchema"]);if(D!=null&&f(r,["responseJsonSchema"],D),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let M=c(e,["safetySettings"]);if(n!==void 0&&M!=null){let Je=M;Array.isArray(Je)&&(Je=Je.map(kr=>J6(kr))),f(n,["safetySettings"],Je)}let x=c(e,["tools"]);if(n!==void 0&&x!=null){let Je=Gl(x);Array.isArray(Je)&&(Je=Je.map(kr=>Q6(ql(kr)))),f(n,["tools"],Je)}let U=c(e,["toolConfig"]);if(n!==void 0&&U!=null&&f(n,["toolConfig"],X6(U)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let ee=c(e,["cachedContent"]);n!==void 0&&ee!=null&&f(n,["cachedContent"],qi(t,ee));let te=c(e,["responseModalities"]);te!=null&&f(r,["responseModalities"],te);let Ye=c(e,["mediaResolution"]);Ye!=null&&f(r,["mediaResolution"],Ye);let ie=c(e,["speechConfig"]);if(ie!=null&&f(r,["speechConfig"],v0(ie)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let Ee=c(e,["thinkingConfig"]);Ee!=null&&f(r,["thinkingConfig"],Ee);let gt=c(e,["imageConfig"]);gt!=null&&f(r,["imageConfig"],V6(gt));let Gi=c(e,["enableEnhancedCivicAnswers"]);return Gi!=null&&f(r,["enableEnhancedCivicAnswers"],Gi),r}function P6(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>g6(u))),f(e,["candidates"],l)}let i=c(t,["modelVersion"]);i!=null&&f(e,["modelVersion"],i);let s=c(t,["promptFeedback"]);s!=null&&f(e,["promptFeedback"],s);let o=c(t,["responseId"]);o!=null&&f(e,["responseId"],o);let a=c(t,["usageMetadata"]);return a!=null&&f(e,["usageMetadata"],a),e}function L6(t,e){let n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],zl(t,r)),n}function F6(t,e){let n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],zl(t,r)),n}function O6(t){let e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function B6(t){let e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function V6(t){let e={},n=c(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);let r=c(t,["imageSize"]);if(r!=null&&f(e,["imageSize"],r),c(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function U6(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["request","model"],Te(t,r));let i=c(e,["contents"]);if(i!=null){let a=ur(i);Array.isArray(a)&&(a=a.map(l=>lk(l))),f(n,["request","contents"],a)}let s=c(e,["metadata"]);s!=null&&f(n,["metadata"],s);let o=c(e,["config"]);return o!=null&&f(n,["request","generationConfig"],k6(t,o,c(n,["request"],{}))),n}function $6(t){let e={},n=c(t,["response"]);n!=null&&f(e,["response"],P6(n));let r=c(t,["error"]);return r!=null&&f(e,["error"],r),e}function H6(t,e){let n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);let i=c(t,["pageToken"]);if(e!==void 0&&i!=null&&f(e,["_query","pageToken"],i),c(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function q6(t,e){let n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);let i=c(t,["pageToken"]);e!==void 0&&i!=null&&f(e,["_query","pageToken"],i);let s=c(t,["filter"]);return e!==void 0&&s!=null&&f(e,["_query","filter"],s),n}function G6(t){let e={},n=c(t,["config"]);return n!=null&&H6(n,e),e}function z6(t){let e={},n=c(t,["config"]);return n!=null&&q6(n,e),e}function j6(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);let i=c(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>cg(o))),f(e,["batchJobs"],s)}return e}function W6(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);let i=c(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>PS(o))),f(e,["batchJobs"],s)}return e}function Y6(t){let e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);let r=c(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);let i=c(t,["executableCode"]);i!=null&&f(e,["executableCode"],i);let s=c(t,["fileData"]);s!=null&&f(e,["fileData"],N6(s));let o=c(t,["functionCall"]);o!=null&&f(e,["functionCall"],M6(o));let a=c(t,["functionResponse"]);a!=null&&f(e,["functionResponse"],a);let l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],p6(l));let u=c(t,["text"]);u!=null&&f(e,["text"],u);let d=c(t,["thought"]);d!=null&&f(e,["thought"],d);let p=c(t,["thoughtSignature"]);p!=null&&f(e,["thoughtSignature"],p);let h=c(t,["videoMetadata"]);return h!=null&&f(e,["videoMetadata"],h),e}function J6(t){let e={},n=c(t,["category"]);if(n!=null&&f(e,["category"],n),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let r=c(t,["threshold"]);return r!=null&&f(e,["threshold"],r),e}function X6(t){let e={},n=c(t,["retrievalConfig"]);n!=null&&f(e,["retrievalConfig"],n);let r=c(t,["functionCallingConfig"]);return r!=null&&f(e,["functionCallingConfig"],R6(r)),e}function Q6(t){let e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=c(t,["computerUse"]);n!=null&&f(e,["computerUse"],n);let r=c(t,["fileSearch"]);r!=null&&f(e,["fileSearch"],r);let i=c(t,["codeExecution"]);if(i!=null&&f(e,["codeExecution"],i),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=c(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>p)),f(e,["functionDeclarations"],d)}let o=c(t,["googleMaps"]);o!=null&&f(e,["googleMaps"],O6(o));let a=c(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],B6(a));let l=c(t,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);let u=c(t,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}var Vs=(function(t){return t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents",t})(Vs||{}),Hi=class{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}};var LS=class extends Mr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Hi(Vs.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){let n=IR(this.apiClient,e),r=n._url,i=F("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(let d of l){let p=Object.assign({},d);if(p.systemInstruction){let h=p.systemInstruction;delete p.systemInstruction;let m=p.request;m.systemInstruction=h,p.request=m}u.push(p)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){let r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){let s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=C6(this.apiClient,e);return a=F("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>PS(d))}else{let u=IR(this.apiClient,e);return a=F("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>cg(d))}}async createEmbeddingsInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=_6(this.apiClient,e);return s=F("{model}:asyncBatchEmbedContent",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>cg(l))}}async get(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=F6(this.apiClient,e);return a=F("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>PS(d))}else{let u=L6(this.apiClient,e);return a=F("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>cg(d))}}async cancel(e){var n,r,i,s;let o="",a={};if(this.apiClient.isVertexAI()){let l=m6(this.apiClient,e);o=F("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{let l=h6(this.apiClient,e);o=F("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=z6(e);return a=F("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=W6(d),h=new _g;return Object.assign(h,p),h})}else{let u=G6(e);return a=F("batches",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=j6(d),h=new _g;return Object.assign(h,p),h})}}async delete(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=T6(this.apiClient,e);return a=F("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>I6(d))}else{let u=S6(this.apiClient,e);return a=F("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>D6(d))}}};function K6(t){let e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function AR(t){let e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>wW(s))),f(e,["parts"],i)}let r=c(t,["role"]);return r!=null&&f(e,["role"],r),e}function Z6(t,e){let n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);let i=c(t,["expireTime"]);e!==void 0&&i!=null&&f(e,["expireTime"],i);let s=c(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);let o=c(t,["contents"]);if(e!==void 0&&o!=null){let d=ur(o);Array.isArray(d)&&(d=d.map(p=>AR(p))),f(e,["contents"],d)}let a=c(t,["systemInstruction"]);e!==void 0&&a!=null&&f(e,["systemInstruction"],AR(qt(a)));let l=c(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>SW(p))),f(e,["tools"],d)}let u=c(t,["toolConfig"]);if(e!==void 0&&u!=null&&f(e,["toolConfig"],_W(u)),c(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function eW(t,e){let n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);let i=c(t,["expireTime"]);e!==void 0&&i!=null&&f(e,["expireTime"],i);let s=c(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);let o=c(t,["contents"]);if(e!==void 0&&o!=null){let p=ur(o);Array.isArray(p)&&(p=p.map(h=>h)),f(e,["contents"],p)}let a=c(t,["systemInstruction"]);e!==void 0&&a!=null&&f(e,["systemInstruction"],qt(a));let l=c(t,["tools"]);if(e!==void 0&&l!=null){let p=l;Array.isArray(p)&&(p=p.map(h=>TW(h))),f(e,["tools"],p)}let u=c(t,["toolConfig"]);e!==void 0&&u!=null&&f(e,["toolConfig"],u);let d=c(t,["kmsKeyName"]);return e!==void 0&&d!=null&&f(e,["encryption_spec","kmsKeyName"],d),n}function tW(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["model"],XR(t,r));let i=c(e,["config"]);return i!=null&&Z6(i,n),n}function nW(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["model"],XR(t,r));let i=c(e,["config"]);return i!=null&&eW(i,n),n}function rW(t,e){let n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],qi(t,r)),n}function iW(t,e){let n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],qi(t,r)),n}function sW(t){let e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function oW(t){let e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function aW(t){let e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);let r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function lW(t){let e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);let r=c(t,["args"]);r!=null&&f(e,["args"],r);let i=c(t,["name"]);if(i!=null&&f(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function uW(t){let e={},n=c(t,["allowedFunctionNames"]);n!=null&&f(e,["allowedFunctionNames"],n);let r=c(t,["mode"]);if(r!=null&&f(e,["mode"],r),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function cW(t){let e={},n=c(t,["description"]);n!=null&&f(e,["description"],n);let r=c(t,["name"]);r!=null&&f(e,["name"],r);let i=c(t,["parameters"]);i!=null&&f(e,["parameters"],i);let s=c(t,["parametersJsonSchema"]);s!=null&&f(e,["parametersJsonSchema"],s);let o=c(t,["response"]);o!=null&&f(e,["response"],o);let a=c(t,["responseJsonSchema"]);if(a!=null&&f(e,["responseJsonSchema"],a),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function dW(t,e){let n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],qi(t,r)),n}function fW(t,e){let n={},r=c(e,["name"]);return r!=null&&f(n,["_url","name"],qi(t,r)),n}function pW(t){let e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function hW(t){let e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function mW(t,e){let n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);let i=c(t,["pageToken"]);return e!==void 0&&i!=null&&f(e,["_query","pageToken"],i),n}function gW(t,e){let n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);let i=c(t,["pageToken"]);return e!==void 0&&i!=null&&f(e,["_query","pageToken"],i),n}function vW(t){let e={},n=c(t,["config"]);return n!=null&&mW(n,e),e}function yW(t){let e={},n=c(t,["config"]);return n!=null&&gW(n,e),e}function EW(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);let i=c(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),f(e,["cachedContents"],s)}return e}function CW(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);let i=c(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),f(e,["cachedContents"],s)}return e}function wW(t){let e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);let r=c(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);let i=c(t,["executableCode"]);i!=null&&f(e,["executableCode"],i);let s=c(t,["fileData"]);s!=null&&f(e,["fileData"],aW(s));let o=c(t,["functionCall"]);o!=null&&f(e,["functionCall"],lW(o));let a=c(t,["functionResponse"]);a!=null&&f(e,["functionResponse"],a);let l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],K6(l));let u=c(t,["text"]);u!=null&&f(e,["text"],u);let d=c(t,["thought"]);d!=null&&f(e,["thought"],d);let p=c(t,["thoughtSignature"]);p!=null&&f(e,["thoughtSignature"],p);let h=c(t,["videoMetadata"]);return h!=null&&f(e,["videoMetadata"],h),e}function _W(t){let e={},n=c(t,["retrievalConfig"]);n!=null&&f(e,["retrievalConfig"],n);let r=c(t,["functionCallingConfig"]);return r!=null&&f(e,["functionCallingConfig"],uW(r)),e}function SW(t){let e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=c(t,["computerUse"]);n!=null&&f(e,["computerUse"],n);let r=c(t,["fileSearch"]);r!=null&&f(e,["fileSearch"],r);let i=c(t,["codeExecution"]);if(i!=null&&f(e,["codeExecution"],i),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=c(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>p)),f(e,["functionDeclarations"],d)}let o=c(t,["googleMaps"]);o!=null&&f(e,["googleMaps"],pW(o));let a=c(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],hW(a));let l=c(t,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);let u=c(t,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}function TW(t){let e={},n=c(t,["retrieval"]);n!=null&&f(e,["retrieval"],n);let r=c(t,["computerUse"]);if(r!=null&&f(e,["computerUse"],r),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let i=c(t,["codeExecution"]);i!=null&&f(e,["codeExecution"],i);let s=c(t,["enterpriseWebSearch"]);s!=null&&f(e,["enterpriseWebSearch"],s);let o=c(t,["functionDeclarations"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(h=>cW(h))),f(e,["functionDeclarations"],p)}let a=c(t,["googleMaps"]);a!=null&&f(e,["googleMaps"],a);let l=c(t,["googleSearch"]);l!=null&&f(e,["googleSearch"],l);let u=c(t,["googleSearchRetrieval"]);u!=null&&f(e,["googleSearchRetrieval"],u);let d=c(t,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function DW(t,e){let n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);let i=c(t,["expireTime"]);return e!==void 0&&i!=null&&f(e,["expireTime"],i),n}function IW(t,e){let n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&f(e,["ttl"],r);let i=c(t,["expireTime"]);return e!==void 0&&i!=null&&f(e,["expireTime"],i),n}function AW(t,e){let n={},r=c(e,["name"]);r!=null&&f(n,["_url","name"],qi(t,r));let i=c(e,["config"]);return i!=null&&DW(i,n),n}function xW(t,e){let n={},r=c(e,["name"]);r!=null&&f(n,["_url","name"],qi(t,r));let i=c(e,["config"]);return i!=null&&IW(i,n),n}var FS=class extends Mr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Hi(Vs.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=nW(this.apiClient,e);return a=F("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{let u=tW(this.apiClient,e);return a=F("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=fW(this.apiClient,e);return a=F("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{let u=dW(this.apiClient,e);return a=F("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=iW(this.apiClient,e);return a=F("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=oW(d),h=new Cg;return Object.assign(h,p),h})}else{let u=rW(this.apiClient,e);return a=F("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=sW(d),h=new Cg;return Object.assign(h,p),h})}}async update(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=xW(this.apiClient,e);return a=F("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{let u=AW(this.apiClient,e);return a=F("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=yW(e);return a=F("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=CW(d),h=new wg;return Object.assign(h,p),h})}else{let u=vW(e);return a=F("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=EW(d),h=new wg;return Object.assign(h,p),h})}}};function Tg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xR(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(t){return this instanceof re?(this.v=t,this):new re(t)}function br(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(v){return Promise.resolve(v).then(m,p)}}function a(m,v){r[m]&&(i[m]=function(C){return new Promise(function(w,E){s.push([m,C,w,E])>1||l(m,C)})},v&&(i[m]=v(i[m])))}function l(m,v){try{u(r[m](v))}catch(C){h(s[0][3],C)}}function u(m){m.value instanceof re?Promise.resolve(m.value.v).then(d,p):h(s[0][2],m)}function d(m){l("next",m)}function p(m){l("throw",m)}function h(m,v){m(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Nr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof xR=="function"?xR(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function bW(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;let n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:uk(n)}function uk(t){if(t.parts===void 0||t.parts.length===0)return!1;for(let e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function NW(t){if(t.length!==0){for(let e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function bR(t){if(t===void 0||t.length===0)return[];let e=[],n=t.length,r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{let i=[],s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!uk(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}var OS=class{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new BS(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},BS=class{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),NW(s)}async sendMessage(e){var n;await this.sendPromise;let r=qt(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o,a;let l=await i,u=(o=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,d=l.automaticFunctionCallingHistory,p=this.getHistory(!0).length,h=[];d!=null&&(h=(a=d.slice(p))!==null&&a!==void 0?a:[]);let m=u?[u]:[];this.recordHistory(r,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;let r=qt(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});let s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){let n=e?bR(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return br(this,arguments,function*(){var i,s,o,a,l,u;let d=[];try{for(var p=!0,h=Nr(e),m;m=yield re(h.next()),i=m.done,!i;p=!0){a=m.value,p=!1;let v=a;if(bW(v)){let C=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;C!==void 0&&d.push(C)}yield yield re(v)}}catch(v){s={error:v}}finally{try{!p&&!i&&(o=h.return)&&(yield re(o.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...bR(r)):this.history.push(e),this.history.push(...i)}};var Dg=class t extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,t.prototype)}};function MW(t){let e={},n=c(t,["file"]);return n!=null&&f(e,["file"],n),e}function RW(t){let e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function kW(t){let e={},n=c(t,["name"]);return n!=null&&f(e,["_url","file"],nk(n)),e}function PW(t){let e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function LW(t){let e={},n=c(t,["name"]);return n!=null&&f(e,["_url","file"],nk(n)),e}function FW(t,e){let n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);let i=c(t,["pageToken"]);return e!==void 0&&i!=null&&f(e,["_query","pageToken"],i),n}function OW(t){let e={},n=c(t,["config"]);return n!=null&&FW(n,e),e}function BW(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);let i=c(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),f(e,["files"],s)}return e}var VS=class extends Mr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Hi(Vs.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=OW(e);return s=F("files",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{let d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{let u=BW(l),d=new AS;return Object.assign(d,u),d})}}async createInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=MW(e);return s=F("upload/v1beta/files",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let u=RW(l),d=new xS;return Object.assign(d,u),d})}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=LW(e);return s=F("files/{file}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=kW(e);return s=F("files/{file}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{let d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{let u=PW(l),d=new bS;return Object.assign(d,u),d})}}};function dg(t){let e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function VW(t){let e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>t9(s))),f(e,["parts"],i)}let r=c(t,["role"]);return r!=null&&f(e,["role"],r),e}function UW(t){let e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);let r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function $W(t){let e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);let r=c(t,["args"]);r!=null&&f(e,["args"],r);let i=c(t,["name"]);if(i!=null&&f(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function HW(t){let e={},n=c(t,["description"]);n!=null&&f(e,["description"],n);let r=c(t,["name"]);r!=null&&f(e,["name"],r);let i=c(t,["parameters"]);i!=null&&f(e,["parameters"],i);let s=c(t,["parametersJsonSchema"]);s!=null&&f(e,["parametersJsonSchema"],s);let o=c(t,["response"]);o!=null&&f(e,["response"],o);let a=c(t,["responseJsonSchema"]);if(a!=null&&f(e,["responseJsonSchema"],a),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function qW(t){let e={},n=c(t,["modelSelectionConfig"]);n!=null&&f(e,["modelConfig"],n);let r=c(t,["responseJsonSchema"]);r!=null&&f(e,["responseJsonSchema"],r);let i=c(t,["audioTimestamp"]);i!=null&&f(e,["audioTimestamp"],i);let s=c(t,["candidateCount"]);s!=null&&f(e,["candidateCount"],s);let o=c(t,["enableAffectiveDialog"]);o!=null&&f(e,["enableAffectiveDialog"],o);let a=c(t,["frequencyPenalty"]);a!=null&&f(e,["frequencyPenalty"],a);let l=c(t,["logprobs"]);l!=null&&f(e,["logprobs"],l);let u=c(t,["maxOutputTokens"]);u!=null&&f(e,["maxOutputTokens"],u);let d=c(t,["mediaResolution"]);d!=null&&f(e,["mediaResolution"],d);let p=c(t,["presencePenalty"]);p!=null&&f(e,["presencePenalty"],p);let h=c(t,["responseLogprobs"]);h!=null&&f(e,["responseLogprobs"],h);let m=c(t,["responseMimeType"]);m!=null&&f(e,["responseMimeType"],m);let v=c(t,["responseModalities"]);v!=null&&f(e,["responseModalities"],v);let C=c(t,["responseSchema"]);C!=null&&f(e,["responseSchema"],C);let w=c(t,["routingConfig"]);w!=null&&f(e,["routingConfig"],w);let E=c(t,["seed"]);E!=null&&f(e,["seed"],E);let D=c(t,["speechConfig"]);D!=null&&f(e,["speechConfig"],D);let M=c(t,["stopSequences"]);M!=null&&f(e,["stopSequences"],M);let x=c(t,["temperature"]);x!=null&&f(e,["temperature"],x);let U=c(t,["thinkingConfig"]);U!=null&&f(e,["thinkingConfig"],U);let ee=c(t,["topK"]);ee!=null&&f(e,["topK"],ee);let te=c(t,["topP"]);if(te!=null&&f(e,["topP"],te),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function GW(t){let e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function zW(t){let e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function jW(t,e){let n={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],r);let i=c(t,["responseModalities"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig","responseModalities"],i);let s=c(t,["temperature"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","temperature"],s);let o=c(t,["topP"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","topP"],o);let a=c(t,["topK"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","topK"],a);let l=c(t,["maxOutputTokens"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","maxOutputTokens"],l);let u=c(t,["mediaResolution"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","mediaResolution"],u);let d=c(t,["seed"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","seed"],d);let p=c(t,["speechConfig"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","speechConfig"],y0(p));let h=c(t,["thinkingConfig"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","thinkingConfig"],h);let m=c(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],m);let v=c(t,["systemInstruction"]);e!==void 0&&v!=null&&f(e,["setup","systemInstruction"],VW(qt(v)));let C=c(t,["tools"]);if(e!==void 0&&C!=null){let ee=Gl(C);Array.isArray(ee)&&(ee=ee.map(te=>r9(ql(te)))),f(e,["setup","tools"],ee)}let w=c(t,["sessionResumption"]);e!==void 0&&w!=null&&f(e,["setup","sessionResumption"],n9(w));let E=c(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&f(e,["setup","inputAudioTranscription"],E);let D=c(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&f(e,["setup","outputAudioTranscription"],D);let M=c(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&f(e,["setup","realtimeInputConfig"],M);let x=c(t,["contextWindowCompression"]);e!==void 0&&x!=null&&f(e,["setup","contextWindowCompression"],x);let U=c(t,["proactivity"]);if(e!==void 0&&U!=null&&f(e,["setup","proactivity"],U),c(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function WW(t,e){let n={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],qW(r));let i=c(t,["responseModalities"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig","responseModalities"],i);let s=c(t,["temperature"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","temperature"],s);let o=c(t,["topP"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","topP"],o);let a=c(t,["topK"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","topK"],a);let l=c(t,["maxOutputTokens"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","maxOutputTokens"],l);let u=c(t,["mediaResolution"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","mediaResolution"],u);let d=c(t,["seed"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","seed"],d);let p=c(t,["speechConfig"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","speechConfig"],y0(p));let h=c(t,["thinkingConfig"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","thinkingConfig"],h);let m=c(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],m);let v=c(t,["systemInstruction"]);e!==void 0&&v!=null&&f(e,["setup","systemInstruction"],qt(v));let C=c(t,["tools"]);if(e!==void 0&&C!=null){let te=Gl(C);Array.isArray(te)&&(te=te.map(Ye=>i9(ql(Ye)))),f(e,["setup","tools"],te)}let w=c(t,["sessionResumption"]);e!==void 0&&w!=null&&f(e,["setup","sessionResumption"],w);let E=c(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&f(e,["setup","inputAudioTranscription"],E);let D=c(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&f(e,["setup","outputAudioTranscription"],D);let M=c(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&f(e,["setup","realtimeInputConfig"],M);let x=c(t,["contextWindowCompression"]);e!==void 0&&x!=null&&f(e,["setup","contextWindowCompression"],x);let U=c(t,["proactivity"]);e!==void 0&&U!=null&&f(e,["setup","proactivity"],U);let ee=c(t,["explicitVadSignal"]);return e!==void 0&&ee!=null&&f(e,["setup","explicitVadSignal"],ee),n}function YW(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["setup","model"],Te(t,r));let i=c(e,["config"]);return i!=null&&f(n,["config"],jW(i,n)),n}function JW(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["setup","model"],Te(t,r));let i=c(e,["config"]);return i!=null&&f(n,["config"],WW(i,n)),n}function XW(t){let e={},n=c(t,["musicGenerationConfig"]);return n!=null&&f(e,["musicGenerationConfig"],n),e}function QW(t){let e={},n=c(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),f(e,["weightedPrompts"],r)}return e}function KW(t){let e={},n=c(t,["media"]);if(n!=null){let u=QR(n);Array.isArray(u)&&(u=u.map(d=>dg(d))),f(e,["mediaChunks"],u)}let r=c(t,["audio"]);r!=null&&f(e,["audio"],dg(ZR(r)));let i=c(t,["audioStreamEnd"]);i!=null&&f(e,["audioStreamEnd"],i);let s=c(t,["video"]);s!=null&&f(e,["video"],dg(KR(s)));let o=c(t,["text"]);o!=null&&f(e,["text"],o);let a=c(t,["activityStart"]);a!=null&&f(e,["activityStart"],a);let l=c(t,["activityEnd"]);return l!=null&&f(e,["activityEnd"],l),e}function ZW(t){let e={},n=c(t,["media"]);if(n!=null){let u=QR(n);Array.isArray(u)&&(u=u.map(d=>d)),f(e,["mediaChunks"],u)}let r=c(t,["audio"]);r!=null&&f(e,["audio"],ZR(r));let i=c(t,["audioStreamEnd"]);i!=null&&f(e,["audioStreamEnd"],i);let s=c(t,["video"]);s!=null&&f(e,["video"],KR(s));let o=c(t,["text"]);o!=null&&f(e,["text"],o);let a=c(t,["activityStart"]);a!=null&&f(e,["activityStart"],a);let l=c(t,["activityEnd"]);return l!=null&&f(e,["activityEnd"],l),e}function e9(t){let e={},n=c(t,["setupComplete"]);n!=null&&f(e,["setupComplete"],n);let r=c(t,["serverContent"]);r!=null&&f(e,["serverContent"],r);let i=c(t,["toolCall"]);i!=null&&f(e,["toolCall"],i);let s=c(t,["toolCallCancellation"]);s!=null&&f(e,["toolCallCancellation"],s);let o=c(t,["usageMetadata"]);o!=null&&f(e,["usageMetadata"],s9(o));let a=c(t,["goAway"]);a!=null&&f(e,["goAway"],a);let l=c(t,["sessionResumptionUpdate"]);l!=null&&f(e,["sessionResumptionUpdate"],l);let u=c(t,["voiceActivityDetectionSignal"]);return u!=null&&f(e,["voiceActivityDetectionSignal"],u),e}function t9(t){let e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);let r=c(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);let i=c(t,["executableCode"]);i!=null&&f(e,["executableCode"],i);let s=c(t,["fileData"]);s!=null&&f(e,["fileData"],UW(s));let o=c(t,["functionCall"]);o!=null&&f(e,["functionCall"],$W(o));let a=c(t,["functionResponse"]);a!=null&&f(e,["functionResponse"],a);let l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],dg(l));let u=c(t,["text"]);u!=null&&f(e,["text"],u);let d=c(t,["thought"]);d!=null&&f(e,["thought"],d);let p=c(t,["thoughtSignature"]);p!=null&&f(e,["thoughtSignature"],p);let h=c(t,["videoMetadata"]);return h!=null&&f(e,["videoMetadata"],h),e}function n9(t){let e={},n=c(t,["handle"]);if(n!=null&&f(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function r9(t){let e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=c(t,["computerUse"]);n!=null&&f(e,["computerUse"],n);let r=c(t,["fileSearch"]);r!=null&&f(e,["fileSearch"],r);let i=c(t,["codeExecution"]);if(i!=null&&f(e,["codeExecution"],i),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=c(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>p)),f(e,["functionDeclarations"],d)}let o=c(t,["googleMaps"]);o!=null&&f(e,["googleMaps"],GW(o));let a=c(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],zW(a));let l=c(t,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);let u=c(t,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}function i9(t){let e={},n=c(t,["retrieval"]);n!=null&&f(e,["retrieval"],n);let r=c(t,["computerUse"]);if(r!=null&&f(e,["computerUse"],r),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let i=c(t,["codeExecution"]);i!=null&&f(e,["codeExecution"],i);let s=c(t,["enterpriseWebSearch"]);s!=null&&f(e,["enterpriseWebSearch"],s);let o=c(t,["functionDeclarations"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(h=>HW(h))),f(e,["functionDeclarations"],p)}let a=c(t,["googleMaps"]);a!=null&&f(e,["googleMaps"],a);let l=c(t,["googleSearch"]);l!=null&&f(e,["googleSearch"],l);let u=c(t,["googleSearchRetrieval"]);u!=null&&f(e,["googleSearchRetrieval"],u);let d=c(t,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function s9(t){let e={},n=c(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);let r=c(t,["cachedContentTokenCount"]);r!=null&&f(e,["cachedContentTokenCount"],r);let i=c(t,["candidatesTokenCount"]);i!=null&&f(e,["responseTokenCount"],i);let s=c(t,["toolUsePromptTokenCount"]);s!=null&&f(e,["toolUsePromptTokenCount"],s);let o=c(t,["thoughtsTokenCount"]);o!=null&&f(e,["thoughtsTokenCount"],o);let a=c(t,["totalTokenCount"]);a!=null&&f(e,["totalTokenCount"],a);let l=c(t,["promptTokensDetails"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>v)),f(e,["promptTokensDetails"],m)}let u=c(t,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(v=>v)),f(e,["cacheTokensDetails"],m)}let d=c(t,["candidatesTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(v=>v)),f(e,["responseTokensDetails"],m)}let p=c(t,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(v=>v)),f(e,["toolUsePromptTokensDetails"],m)}let h=c(t,["trafficType"]);return h!=null&&f(e,["trafficType"],h),e}function o9(t){let e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function a9(t){let e={},n=c(t,["content"]);n!=null&&f(e,["content"],n);let r=c(t,["citationMetadata"]);r!=null&&f(e,["citationMetadata"],l9(r));let i=c(t,["tokenCount"]);i!=null&&f(e,["tokenCount"],i);let s=c(t,["finishReason"]);s!=null&&f(e,["finishReason"],s);let o=c(t,["avgLogprobs"]);o!=null&&f(e,["avgLogprobs"],o);let a=c(t,["groundingMetadata"]);a!=null&&f(e,["groundingMetadata"],a);let l=c(t,["index"]);l!=null&&f(e,["index"],l);let u=c(t,["logprobsResult"]);u!=null&&f(e,["logprobsResult"],u);let d=c(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>m)),f(e,["safetyRatings"],h)}let p=c(t,["urlContextMetadata"]);return p!=null&&f(e,["urlContextMetadata"],p),e}function l9(t){let e={},n=c(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),f(e,["citations"],r)}return e}function u9(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["contents"]);if(i!=null){let s=ur(i);Array.isArray(s)&&(s=s.map(o=>o)),f(n,["contents"],s)}return n}function c9(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),f(e,["tokensInfo"],i)}return e}function d9(t){let e={},n=c(t,["values"]);n!=null&&f(e,["values"],n);let r=c(t,["statistics"]);return r!=null&&f(e,["statistics"],f9(r)),e}function f9(t){let e={},n=c(t,["truncated"]);n!=null&&f(e,["truncated"],n);let r=c(t,["token_count"]);return r!=null&&f(e,["tokenCount"],r),e}function Ug(t){let e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>w7(s))),f(e,["parts"],i)}let r=c(t,["role"]);return r!=null&&f(e,["role"],r),e}function p9(t){let e={},n=c(t,["controlType"]);n!=null&&f(e,["controlType"],n);let r=c(t,["enableControlImageComputation"]);return r!=null&&f(e,["computeControl"],r),e}function h9(t){let e={};if(c(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function m9(t,e){let n={},r=c(t,["systemInstruction"]);e!==void 0&&r!=null&&f(e,["systemInstruction"],qt(r));let i=c(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>pk(a))),f(e,["tools"],o)}let s=c(t,["generationConfig"]);return e!==void 0&&s!=null&&f(e,["generationConfig"],o7(s)),n}function g9(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["contents"]);if(i!=null){let o=ur(i);Array.isArray(o)&&(o=o.map(a=>Ug(a))),f(n,["contents"],o)}let s=c(e,["config"]);return s!=null&&h9(s),n}function v9(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["contents"]);if(i!=null){let o=ur(i);Array.isArray(o)&&(o=o.map(a=>a)),f(n,["contents"],o)}let s=c(e,["config"]);return s!=null&&m9(s,n),n}function y9(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["totalTokens"]);r!=null&&f(e,["totalTokens"],r);let i=c(t,["cachedContentTokenCount"]);return i!=null&&f(e,["cachedContentTokenCount"],i),e}function E9(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["totalTokens"]);return r!=null&&f(e,["totalTokens"],r),e}function C9(t,e){let n={},r=c(e,["model"]);return r!=null&&f(n,["_url","name"],Te(t,r)),n}function w9(t,e){let n={},r=c(e,["model"]);return r!=null&&f(n,["_url","name"],Te(t,r)),n}function _9(t){let e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function S9(t){let e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function T9(t,e){let n={},r=c(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);let i=c(t,["negativePrompt"]);e!==void 0&&i!=null&&f(e,["parameters","negativePrompt"],i);let s=c(t,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);let o=c(t,["aspectRatio"]);e!==void 0&&o!=null&&f(e,["parameters","aspectRatio"],o);let a=c(t,["guidanceScale"]);e!==void 0&&a!=null&&f(e,["parameters","guidanceScale"],a);let l=c(t,["seed"]);e!==void 0&&l!=null&&f(e,["parameters","seed"],l);let u=c(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&f(e,["parameters","safetySetting"],u);let d=c(t,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);let p=c(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&f(e,["parameters","includeSafetyAttributes"],p);let h=c(t,["includeRaiReason"]);e!==void 0&&h!=null&&f(e,["parameters","includeRaiReason"],h);let m=c(t,["language"]);e!==void 0&&m!=null&&f(e,["parameters","language"],m);let v=c(t,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);let C=c(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&f(e,["parameters","outputOptions","compressionQuality"],C);let w=c(t,["addWatermark"]);e!==void 0&&w!=null&&f(e,["parameters","addWatermark"],w);let E=c(t,["labels"]);e!==void 0&&E!=null&&f(e,["labels"],E);let D=c(t,["editMode"]);e!==void 0&&D!=null&&f(e,["parameters","editMode"],D);let M=c(t,["baseSteps"]);return e!==void 0&&M!=null&&f(e,["parameters","editConfig","baseSteps"],M),n}function D9(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);let s=c(e,["referenceImages"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>A7(l))),f(n,["instances[0]","referenceImages"],a)}let o=c(e,["config"]);return o!=null&&T9(o,n),n}function I9(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>$g(s))),f(e,["generatedImages"],i)}return e}function A9(t,e){let n={},r=c(t,["taskType"]);e!==void 0&&r!=null&&f(e,["requests[]","taskType"],r);let i=c(t,["title"]);e!==void 0&&i!=null&&f(e,["requests[]","title"],i);let s=c(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&f(e,["requests[]","outputDimensionality"],s),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function x9(t,e){let n={},r=c(t,["taskType"]);e!==void 0&&r!=null&&f(e,["instances[]","task_type"],r);let i=c(t,["title"]);e!==void 0&&i!=null&&f(e,["instances[]","title"],i);let s=c(t,["outputDimensionality"]);e!==void 0&&s!=null&&f(e,["parameters","outputDimensionality"],s);let o=c(t,["mimeType"]);e!==void 0&&o!=null&&f(e,["instances[]","mimeType"],o);let a=c(t,["autoTruncate"]);return e!==void 0&&a!=null&&f(e,["parameters","autoTruncate"],a),n}function b9(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["contents"]);if(i!=null){let a=m0(t,i);Array.isArray(a)&&(a=a.map(l=>l)),f(n,["requests[]","content"],a)}let s=c(e,["config"]);s!=null&&A9(s,n);let o=c(e,["model"]);return o!==void 0&&f(n,["requests[]","model"],Te(t,o)),n}function N9(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["contents"]);if(i!=null){let o=m0(t,i);Array.isArray(o)&&(o=o.map(a=>a)),f(n,["instances[]","content"],o)}let s=c(e,["config"]);return s!=null&&x9(s,n),n}function M9(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),f(e,["embeddings"],s)}let i=c(t,["metadata"]);return i!=null&&f(e,["metadata"],i),e}function R9(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>d9(o))),f(e,["embeddings"],s)}let i=c(t,["metadata"]);return i!=null&&f(e,["metadata"],i),e}function k9(t){let e={},n=c(t,["endpoint"]);n!=null&&f(e,["name"],n);let r=c(t,["deployedModelId"]);return r!=null&&f(e,["deployedModelId"],r),e}function P9(t){let e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);let r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function L9(t){let e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);let r=c(t,["args"]);r!=null&&f(e,["args"],r);let i=c(t,["name"]);if(i!=null&&f(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function F9(t){let e={},n=c(t,["allowedFunctionNames"]);n!=null&&f(e,["allowedFunctionNames"],n);let r=c(t,["mode"]);if(r!=null&&f(e,["mode"],r),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function O9(t){let e={},n=c(t,["description"]);n!=null&&f(e,["description"],n);let r=c(t,["name"]);r!=null&&f(e,["name"],r);let i=c(t,["parameters"]);i!=null&&f(e,["parameters"],i);let s=c(t,["parametersJsonSchema"]);s!=null&&f(e,["parametersJsonSchema"],s);let o=c(t,["response"]);o!=null&&f(e,["response"],o);let a=c(t,["responseJsonSchema"]);if(a!=null&&f(e,["responseJsonSchema"],a),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function B9(t,e,n){let r={},i=c(e,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],Ug(qt(i)));let s=c(e,["temperature"]);s!=null&&f(r,["temperature"],s);let o=c(e,["topP"]);o!=null&&f(r,["topP"],o);let a=c(e,["topK"]);a!=null&&f(r,["topK"],a);let l=c(e,["candidateCount"]);l!=null&&f(r,["candidateCount"],l);let u=c(e,["maxOutputTokens"]);u!=null&&f(r,["maxOutputTokens"],u);let d=c(e,["stopSequences"]);d!=null&&f(r,["stopSequences"],d);let p=c(e,["responseLogprobs"]);p!=null&&f(r,["responseLogprobs"],p);let h=c(e,["logprobs"]);h!=null&&f(r,["logprobs"],h);let m=c(e,["presencePenalty"]);m!=null&&f(r,["presencePenalty"],m);let v=c(e,["frequencyPenalty"]);v!=null&&f(r,["frequencyPenalty"],v);let C=c(e,["seed"]);C!=null&&f(r,["seed"],C);let w=c(e,["responseMimeType"]);w!=null&&f(r,["responseMimeType"],w);let E=c(e,["responseSchema"]);E!=null&&f(r,["responseSchema"],g0(E));let D=c(e,["responseJsonSchema"]);if(D!=null&&f(r,["responseJsonSchema"],D),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let M=c(e,["safetySettings"]);if(n!==void 0&&M!=null){let Je=M;Array.isArray(Je)&&(Je=Je.map(kr=>x7(kr))),f(n,["safetySettings"],Je)}let x=c(e,["tools"]);if(n!==void 0&&x!=null){let Je=Gl(x);Array.isArray(Je)&&(Je=Je.map(kr=>L7(ql(kr)))),f(n,["tools"],Je)}let U=c(e,["toolConfig"]);if(n!==void 0&&U!=null&&f(n,["toolConfig"],P7(U)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let ee=c(e,["cachedContent"]);n!==void 0&&ee!=null&&f(n,["cachedContent"],qi(t,ee));let te=c(e,["responseModalities"]);te!=null&&f(r,["responseModalities"],te);let Ye=c(e,["mediaResolution"]);Ye!=null&&f(r,["mediaResolution"],Ye);let ie=c(e,["speechConfig"]);if(ie!=null&&f(r,["speechConfig"],v0(ie)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let Ee=c(e,["thinkingConfig"]);Ee!=null&&f(r,["thinkingConfig"],Ee);let gt=c(e,["imageConfig"]);gt!=null&&f(r,["imageConfig"],d7(gt));let Gi=c(e,["enableEnhancedCivicAnswers"]);return Gi!=null&&f(r,["enableEnhancedCivicAnswers"],Gi),r}function V9(t,e,n){let r={},i=c(e,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],qt(i));let s=c(e,["temperature"]);s!=null&&f(r,["temperature"],s);let o=c(e,["topP"]);o!=null&&f(r,["topP"],o);let a=c(e,["topK"]);a!=null&&f(r,["topK"],a);let l=c(e,["candidateCount"]);l!=null&&f(r,["candidateCount"],l);let u=c(e,["maxOutputTokens"]);u!=null&&f(r,["maxOutputTokens"],u);let d=c(e,["stopSequences"]);d!=null&&f(r,["stopSequences"],d);let p=c(e,["responseLogprobs"]);p!=null&&f(r,["responseLogprobs"],p);let h=c(e,["logprobs"]);h!=null&&f(r,["logprobs"],h);let m=c(e,["presencePenalty"]);m!=null&&f(r,["presencePenalty"],m);let v=c(e,["frequencyPenalty"]);v!=null&&f(r,["frequencyPenalty"],v);let C=c(e,["seed"]);C!=null&&f(r,["seed"],C);let w=c(e,["responseMimeType"]);w!=null&&f(r,["responseMimeType"],w);let E=c(e,["responseSchema"]);E!=null&&f(r,["responseSchema"],g0(E));let D=c(e,["responseJsonSchema"]);D!=null&&f(r,["responseJsonSchema"],D);let M=c(e,["routingConfig"]);M!=null&&f(r,["routingConfig"],M);let x=c(e,["modelSelectionConfig"]);x!=null&&f(r,["modelConfig"],x);let U=c(e,["safetySettings"]);if(n!==void 0&&U!=null){let hi=U;Array.isArray(hi)&&(hi=hi.map(fv=>fv)),f(n,["safetySettings"],hi)}let ee=c(e,["tools"]);if(n!==void 0&&ee!=null){let hi=Gl(ee);Array.isArray(hi)&&(hi=hi.map(fv=>pk(ql(fv)))),f(n,["tools"],hi)}let te=c(e,["toolConfig"]);n!==void 0&&te!=null&&f(n,["toolConfig"],te);let Ye=c(e,["labels"]);n!==void 0&&Ye!=null&&f(n,["labels"],Ye);let ie=c(e,["cachedContent"]);n!==void 0&&ie!=null&&f(n,["cachedContent"],qi(t,ie));let Ee=c(e,["responseModalities"]);Ee!=null&&f(r,["responseModalities"],Ee);let gt=c(e,["mediaResolution"]);gt!=null&&f(r,["mediaResolution"],gt);let Gi=c(e,["speechConfig"]);Gi!=null&&f(r,["speechConfig"],v0(Gi));let Je=c(e,["audioTimestamp"]);Je!=null&&f(r,["audioTimestamp"],Je);let kr=c(e,["thinkingConfig"]);kr!=null&&f(r,["thinkingConfig"],kr);let x0=c(e,["imageConfig"]);if(x0!=null&&f(r,["imageConfig"],f7(x0)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function NR(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["contents"]);if(i!=null){let o=ur(i);Array.isArray(o)&&(o=o.map(a=>Ug(a))),f(n,["contents"],o)}let s=c(e,["config"]);return s!=null&&f(n,["generationConfig"],B9(t,s,n)),n}function MR(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["contents"]);if(i!=null){let o=ur(i);Array.isArray(o)&&(o=o.map(a=>a)),f(n,["contents"],o)}let s=c(e,["config"]);return s!=null&&f(n,["generationConfig"],V9(t,s,n)),n}function RR(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>a9(u))),f(e,["candidates"],l)}let i=c(t,["modelVersion"]);i!=null&&f(e,["modelVersion"],i);let s=c(t,["promptFeedback"]);s!=null&&f(e,["promptFeedback"],s);let o=c(t,["responseId"]);o!=null&&f(e,["responseId"],o);let a=c(t,["usageMetadata"]);return a!=null&&f(e,["usageMetadata"],a),e}function kR(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["candidates"],u)}let i=c(t,["createTime"]);i!=null&&f(e,["createTime"],i);let s=c(t,["modelVersion"]);s!=null&&f(e,["modelVersion"],s);let o=c(t,["promptFeedback"]);o!=null&&f(e,["promptFeedback"],o);let a=c(t,["responseId"]);a!=null&&f(e,["responseId"],a);let l=c(t,["usageMetadata"]);return l!=null&&f(e,["usageMetadata"],l),e}function U9(t,e){let n={};if(c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let r=c(t,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);let i=c(t,["aspectRatio"]);e!==void 0&&i!=null&&f(e,["parameters","aspectRatio"],i);let s=c(t,["guidanceScale"]);if(e!==void 0&&s!=null&&f(e,["parameters","guidanceScale"],s),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let o=c(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&f(e,["parameters","safetySetting"],o);let a=c(t,["personGeneration"]);e!==void 0&&a!=null&&f(e,["parameters","personGeneration"],a);let l=c(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&f(e,["parameters","includeSafetyAttributes"],l);let u=c(t,["includeRaiReason"]);e!==void 0&&u!=null&&f(e,["parameters","includeRaiReason"],u);let d=c(t,["language"]);e!==void 0&&d!=null&&f(e,["parameters","language"],d);let p=c(t,["outputMimeType"]);e!==void 0&&p!=null&&f(e,["parameters","outputOptions","mimeType"],p);let h=c(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&f(e,["parameters","outputOptions","compressionQuality"],h),c(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let m=c(t,["imageSize"]);if(e!==void 0&&m!=null&&f(e,["parameters","sampleImageSize"],m),c(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function $9(t,e){let n={},r=c(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);let i=c(t,["negativePrompt"]);e!==void 0&&i!=null&&f(e,["parameters","negativePrompt"],i);let s=c(t,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);let o=c(t,["aspectRatio"]);e!==void 0&&o!=null&&f(e,["parameters","aspectRatio"],o);let a=c(t,["guidanceScale"]);e!==void 0&&a!=null&&f(e,["parameters","guidanceScale"],a);let l=c(t,["seed"]);e!==void 0&&l!=null&&f(e,["parameters","seed"],l);let u=c(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&f(e,["parameters","safetySetting"],u);let d=c(t,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);let p=c(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&f(e,["parameters","includeSafetyAttributes"],p);let h=c(t,["includeRaiReason"]);e!==void 0&&h!=null&&f(e,["parameters","includeRaiReason"],h);let m=c(t,["language"]);e!==void 0&&m!=null&&f(e,["parameters","language"],m);let v=c(t,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);let C=c(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&f(e,["parameters","outputOptions","compressionQuality"],C);let w=c(t,["addWatermark"]);e!==void 0&&w!=null&&f(e,["parameters","addWatermark"],w);let E=c(t,["labels"]);e!==void 0&&E!=null&&f(e,["labels"],E);let D=c(t,["imageSize"]);e!==void 0&&D!=null&&f(e,["parameters","sampleImageSize"],D);let M=c(t,["enhancePrompt"]);return e!==void 0&&M!=null&&f(e,["parameters","enhancePrompt"],M),n}function H9(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);let s=c(e,["config"]);return s!=null&&U9(s,n),n}function q9(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);let s=c(e,["config"]);return s!=null&&$9(s,n),n}function G9(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>n7(o))),f(e,["generatedImages"],s)}let i=c(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],dk(i)),e}function z9(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>$g(o))),f(e,["generatedImages"],s)}let i=c(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],fk(i)),e}function j9(t,e){let n={},r=c(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r),c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let i=c(t,["durationSeconds"]);if(e!==void 0&&i!=null&&f(e,["parameters","durationSeconds"],i),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let s=c(t,["aspectRatio"]);e!==void 0&&s!=null&&f(e,["parameters","aspectRatio"],s);let o=c(t,["resolution"]);e!==void 0&&o!=null&&f(e,["parameters","resolution"],o);let a=c(t,["personGeneration"]);if(e!==void 0&&a!=null&&f(e,["parameters","personGeneration"],a),c(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let l=c(t,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);let u=c(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&f(e,["parameters","enhancePrompt"],u),c(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let d=c(t,["lastFrame"]);e!==void 0&&d!=null&&f(e,["instances[0]","lastFrame"],Hg(d));let p=c(t,["referenceImages"]);if(e!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>Y7(m))),f(e,["instances[0]","referenceImages"],h)}if(c(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function W9(t,e){let n={},r=c(t,["numberOfVideos"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);let i=c(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);let s=c(t,["fps"]);e!==void 0&&s!=null&&f(e,["parameters","fps"],s);let o=c(t,["durationSeconds"]);e!==void 0&&o!=null&&f(e,["parameters","durationSeconds"],o);let a=c(t,["seed"]);e!==void 0&&a!=null&&f(e,["parameters","seed"],a);let l=c(t,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);let u=c(t,["resolution"]);e!==void 0&&u!=null&&f(e,["parameters","resolution"],u);let d=c(t,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);let p=c(t,["pubsubTopic"]);e!==void 0&&p!=null&&f(e,["parameters","pubsubTopic"],p);let h=c(t,["negativePrompt"]);e!==void 0&&h!=null&&f(e,["parameters","negativePrompt"],h);let m=c(t,["enhancePrompt"]);e!==void 0&&m!=null&&f(e,["parameters","enhancePrompt"],m);let v=c(t,["generateAudio"]);e!==void 0&&v!=null&&f(e,["parameters","generateAudio"],v);let C=c(t,["lastFrame"]);e!==void 0&&C!=null&&f(e,["instances[0]","lastFrame"],Rr(C));let w=c(t,["referenceImages"]);if(e!==void 0&&w!=null){let M=w;Array.isArray(M)&&(M=M.map(x=>J7(x))),f(e,["instances[0]","referenceImages"],M)}let E=c(t,["mask"]);e!==void 0&&E!=null&&f(e,["instances[0]","mask"],W7(E));let D=c(t,["compressionQuality"]);return e!==void 0&&D!=null&&f(e,["parameters","compressionQuality"],D),n}function Y9(t){let e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);let r=c(t,["metadata"]);r!=null&&f(e,["metadata"],r);let i=c(t,["done"]);i!=null&&f(e,["done"],i);let s=c(t,["error"]);s!=null&&f(e,["error"],s);let o=c(t,["response","generateVideoResponse"]);return o!=null&&f(e,["response"],K9(o)),e}function J9(t){let e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);let r=c(t,["metadata"]);r!=null&&f(e,["metadata"],r);let i=c(t,["done"]);i!=null&&f(e,["done"],i);let s=c(t,["error"]);s!=null&&f(e,["error"],s);let o=c(t,["response"]);return o!=null&&f(e,["response"],Z9(o)),e}function X9(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);let s=c(e,["image"]);s!=null&&f(n,["instances[0]","image"],Hg(s));let o=c(e,["video"]);o!=null&&f(n,["instances[0]","video"],hk(o));let a=c(e,["source"]);a!=null&&e7(a,n);let l=c(e,["config"]);return l!=null&&j9(l,n),n}function Q9(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);let s=c(e,["image"]);s!=null&&f(n,["instances[0]","image"],Rr(s));let o=c(e,["video"]);o!=null&&f(n,["instances[0]","video"],mk(o));let a=c(e,["source"]);a!=null&&t7(a,n);let l=c(e,["config"]);return l!=null&&W9(l,n),n}function K9(t){let e={},n=c(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>i7(o))),f(e,["generatedVideos"],s)}let r=c(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);let i=c(t,["raiMediaFilteredReasons"]);return i!=null&&f(e,["raiMediaFilteredReasons"],i),e}function Z9(t){let e={},n=c(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>s7(o))),f(e,["generatedVideos"],s)}let r=c(t,["raiMediaFilteredCount"]);r!=null&&f(e,["raiMediaFilteredCount"],r);let i=c(t,["raiMediaFilteredReasons"]);return i!=null&&f(e,["raiMediaFilteredReasons"],i),e}function e7(t,e){let n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);let i=c(t,["image"]);e!==void 0&&i!=null&&f(e,["instances[0]","image"],Hg(i));let s=c(t,["video"]);return e!==void 0&&s!=null&&f(e,["instances[0]","video"],hk(s)),n}function t7(t,e){let n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);let i=c(t,["image"]);e!==void 0&&i!=null&&f(e,["instances[0]","image"],Rr(i));let s=c(t,["video"]);return e!==void 0&&s!=null&&f(e,["instances[0]","video"],mk(s)),n}function n7(t){let e={},n=c(t,["_self"]);n!=null&&f(e,["image"],p7(n));let r=c(t,["raiFilteredReason"]);r!=null&&f(e,["raiFilteredReason"],r);let i=c(t,["_self"]);return i!=null&&f(e,["safetyAttributes"],dk(i)),e}function $g(t){let e={},n=c(t,["_self"]);n!=null&&f(e,["image"],ck(n));let r=c(t,["raiFilteredReason"]);r!=null&&f(e,["raiFilteredReason"],r);let i=c(t,["_self"]);i!=null&&f(e,["safetyAttributes"],fk(i));let s=c(t,["prompt"]);return s!=null&&f(e,["enhancedPrompt"],s),e}function r7(t){let e={},n=c(t,["_self"]);n!=null&&f(e,["mask"],ck(n));let r=c(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),f(e,["labels"],i)}return e}function i7(t){let e={},n=c(t,["video"]);return n!=null&&f(e,["video"],z7(n)),e}function s7(t){let e={},n=c(t,["_self"]);return n!=null&&f(e,["video"],j7(n)),e}function o7(t){let e={},n=c(t,["modelSelectionConfig"]);n!=null&&f(e,["modelConfig"],n);let r=c(t,["responseJsonSchema"]);r!=null&&f(e,["responseJsonSchema"],r);let i=c(t,["audioTimestamp"]);i!=null&&f(e,["audioTimestamp"],i);let s=c(t,["candidateCount"]);s!=null&&f(e,["candidateCount"],s);let o=c(t,["enableAffectiveDialog"]);o!=null&&f(e,["enableAffectiveDialog"],o);let a=c(t,["frequencyPenalty"]);a!=null&&f(e,["frequencyPenalty"],a);let l=c(t,["logprobs"]);l!=null&&f(e,["logprobs"],l);let u=c(t,["maxOutputTokens"]);u!=null&&f(e,["maxOutputTokens"],u);let d=c(t,["mediaResolution"]);d!=null&&f(e,["mediaResolution"],d);let p=c(t,["presencePenalty"]);p!=null&&f(e,["presencePenalty"],p);let h=c(t,["responseLogprobs"]);h!=null&&f(e,["responseLogprobs"],h);let m=c(t,["responseMimeType"]);m!=null&&f(e,["responseMimeType"],m);let v=c(t,["responseModalities"]);v!=null&&f(e,["responseModalities"],v);let C=c(t,["responseSchema"]);C!=null&&f(e,["responseSchema"],C);let w=c(t,["routingConfig"]);w!=null&&f(e,["routingConfig"],w);let E=c(t,["seed"]);E!=null&&f(e,["seed"],E);let D=c(t,["speechConfig"]);D!=null&&f(e,["speechConfig"],D);let M=c(t,["stopSequences"]);M!=null&&f(e,["stopSequences"],M);let x=c(t,["temperature"]);x!=null&&f(e,["temperature"],x);let U=c(t,["thinkingConfig"]);U!=null&&f(e,["thinkingConfig"],U);let ee=c(t,["topK"]);ee!=null&&f(e,["topK"],ee);let te=c(t,["topP"]);if(te!=null&&f(e,["topP"],te),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function a7(t,e){let n={},r=c(e,["model"]);return r!=null&&f(n,["_url","name"],Te(t,r)),n}function l7(t,e){let n={},r=c(e,["model"]);return r!=null&&f(n,["_url","name"],Te(t,r)),n}function u7(t){let e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function c7(t){let e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function d7(t){let e={},n=c(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);let r=c(t,["imageSize"]);if(r!=null&&f(e,["imageSize"],r),c(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function f7(t){let e={},n=c(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);let r=c(t,["imageSize"]);r!=null&&f(e,["imageSize"],r);let i=c(t,["personGeneration"]);i!=null&&f(e,["personGeneration"],i);let s=c(t,["outputMimeType"]);s!=null&&f(e,["imageOutputOptions","mimeType"],s);let o=c(t,["outputCompressionQuality"]);return o!=null&&f(e,["imageOutputOptions","compressionQuality"],o),e}function p7(t){let e={},n=c(t,["bytesBase64Encoded"]);n!=null&&f(e,["imageBytes"],Bs(n));let r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function ck(t){let e={},n=c(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);let r=c(t,["bytesBase64Encoded"]);r!=null&&f(e,["imageBytes"],Bs(r));let i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function Hg(t){let e={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let n=c(t,["imageBytes"]);n!=null&&f(e,["bytesBase64Encoded"],Bs(n));let r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function Rr(t){let e={},n=c(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);let r=c(t,["imageBytes"]);r!=null&&f(e,["bytesBase64Encoded"],Bs(r));let i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function h7(t,e,n){let r={},i=c(e,["pageSize"]);n!==void 0&&i!=null&&f(n,["_query","pageSize"],i);let s=c(e,["pageToken"]);n!==void 0&&s!=null&&f(n,["_query","pageToken"],s);let o=c(e,["filter"]);n!==void 0&&o!=null&&f(n,["_query","filter"],o);let a=c(e,["queryBase"]);return n!==void 0&&a!=null&&f(n,["_url","models_url"],rk(t,a)),r}function m7(t,e,n){let r={},i=c(e,["pageSize"]);n!==void 0&&i!=null&&f(n,["_query","pageSize"],i);let s=c(e,["pageToken"]);n!==void 0&&s!=null&&f(n,["_query","pageToken"],s);let o=c(e,["filter"]);n!==void 0&&o!=null&&f(n,["_query","filter"],o);let a=c(e,["queryBase"]);return n!==void 0&&a!=null&&f(n,["_url","models_url"],rk(t,a)),r}function g7(t,e){let n={},r=c(e,["config"]);return r!=null&&h7(t,r,n),n}function v7(t,e){let n={},r=c(e,["config"]);return r!=null&&m7(t,r,n),n}function y7(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);let i=c(t,["_self"]);if(i!=null){let s=ik(i);Array.isArray(s)&&(s=s.map(o=>US(o))),f(e,["models"],s)}return e}function E7(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);let i=c(t,["_self"]);if(i!=null){let s=ik(i);Array.isArray(s)&&(s=s.map(o=>$S(o))),f(e,["models"],s)}return e}function C7(t){let e={},n=c(t,["maskMode"]);n!=null&&f(e,["maskMode"],n);let r=c(t,["segmentationClasses"]);r!=null&&f(e,["maskClasses"],r);let i=c(t,["maskDilation"]);return i!=null&&f(e,["dilation"],i),e}function US(t){let e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);let r=c(t,["displayName"]);r!=null&&f(e,["displayName"],r);let i=c(t,["description"]);i!=null&&f(e,["description"],i);let s=c(t,["version"]);s!=null&&f(e,["version"],s);let o=c(t,["_self"]);o!=null&&f(e,["tunedModelInfo"],F7(o));let a=c(t,["inputTokenLimit"]);a!=null&&f(e,["inputTokenLimit"],a);let l=c(t,["outputTokenLimit"]);l!=null&&f(e,["outputTokenLimit"],l);let u=c(t,["supportedGenerationMethods"]);u!=null&&f(e,["supportedActions"],u);let d=c(t,["temperature"]);d!=null&&f(e,["temperature"],d);let p=c(t,["maxTemperature"]);p!=null&&f(e,["maxTemperature"],p);let h=c(t,["topP"]);h!=null&&f(e,["topP"],h);let m=c(t,["topK"]);m!=null&&f(e,["topK"],m);let v=c(t,["thinking"]);return v!=null&&f(e,["thinking"],v),e}function $S(t){let e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);let r=c(t,["displayName"]);r!=null&&f(e,["displayName"],r);let i=c(t,["description"]);i!=null&&f(e,["description"],i);let s=c(t,["versionId"]);s!=null&&f(e,["version"],s);let o=c(t,["deployedModels"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(h=>k9(h))),f(e,["endpoints"],p)}let a=c(t,["labels"]);a!=null&&f(e,["labels"],a);let l=c(t,["_self"]);l!=null&&f(e,["tunedModelInfo"],O7(l));let u=c(t,["defaultCheckpointId"]);u!=null&&f(e,["defaultCheckpointId"],u);let d=c(t,["checkpoints"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>h)),f(e,["checkpoints"],p)}return e}function w7(t){let e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);let r=c(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);let i=c(t,["executableCode"]);i!=null&&f(e,["executableCode"],i);let s=c(t,["fileData"]);s!=null&&f(e,["fileData"],P9(s));let o=c(t,["functionCall"]);o!=null&&f(e,["functionCall"],L9(o));let a=c(t,["functionResponse"]);a!=null&&f(e,["functionResponse"],a);let l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],o9(l));let u=c(t,["text"]);u!=null&&f(e,["text"],u);let d=c(t,["thought"]);d!=null&&f(e,["thought"],d);let p=c(t,["thoughtSignature"]);p!=null&&f(e,["thoughtSignature"],p);let h=c(t,["videoMetadata"]);return h!=null&&f(e,["videoMetadata"],h),e}function _7(t){let e={},n=c(t,["productImage"]);return n!=null&&f(e,["image"],Rr(n)),e}function S7(t,e){let n={},r=c(t,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);let i=c(t,["baseSteps"]);e!==void 0&&i!=null&&f(e,["parameters","baseSteps"],i);let s=c(t,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);let o=c(t,["seed"]);e!==void 0&&o!=null&&f(e,["parameters","seed"],o);let a=c(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&f(e,["parameters","safetySetting"],a);let l=c(t,["personGeneration"]);e!==void 0&&l!=null&&f(e,["parameters","personGeneration"],l);let u=c(t,["addWatermark"]);e!==void 0&&u!=null&&f(e,["parameters","addWatermark"],u);let d=c(t,["outputMimeType"]);e!==void 0&&d!=null&&f(e,["parameters","outputOptions","mimeType"],d);let p=c(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&f(e,["parameters","outputOptions","compressionQuality"],p);let h=c(t,["enhancePrompt"]);e!==void 0&&h!=null&&f(e,["parameters","enhancePrompt"],h);let m=c(t,["labels"]);return e!==void 0&&m!=null&&f(e,["labels"],m),n}function T7(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["source"]);i!=null&&I7(i,n);let s=c(e,["config"]);return s!=null&&S7(s,n),n}function D7(t){let e={},n=c(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$g(i))),f(e,["generatedImages"],r)}return e}function I7(t,e){let n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);let i=c(t,["personImage"]);e!==void 0&&i!=null&&f(e,["instances[0]","personImage","image"],Rr(i));let s=c(t,["productImages"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>_7(a))),f(e,["instances[0]","productImages"],o)}return n}function A7(t){let e={},n=c(t,["referenceImage"]);n!=null&&f(e,["referenceImage"],Rr(n));let r=c(t,["referenceId"]);r!=null&&f(e,["referenceId"],r);let i=c(t,["referenceType"]);i!=null&&f(e,["referenceType"],i);let s=c(t,["maskImageConfig"]);s!=null&&f(e,["maskImageConfig"],C7(s));let o=c(t,["controlImageConfig"]);o!=null&&f(e,["controlImageConfig"],p9(o));let a=c(t,["styleImageConfig"]);a!=null&&f(e,["styleImageConfig"],a);let l=c(t,["subjectImageConfig"]);return l!=null&&f(e,["subjectImageConfig"],l),e}function dk(t){let e={},n=c(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);let r=c(t,["safetyAttributes","scores"]);r!=null&&f(e,["scores"],r);let i=c(t,["contentType"]);return i!=null&&f(e,["contentType"],i),e}function fk(t){let e={},n=c(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);let r=c(t,["safetyAttributes","scores"]);r!=null&&f(e,["scores"],r);let i=c(t,["contentType"]);return i!=null&&f(e,["contentType"],i),e}function x7(t){let e={},n=c(t,["category"]);if(n!=null&&f(e,["category"],n),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let r=c(t,["threshold"]);return r!=null&&f(e,["threshold"],r),e}function b7(t){let e={},n=c(t,["image"]);return n!=null&&f(e,["image"],Rr(n)),e}function N7(t,e){let n={},r=c(t,["mode"]);e!==void 0&&r!=null&&f(e,["parameters","mode"],r);let i=c(t,["maxPredictions"]);e!==void 0&&i!=null&&f(e,["parameters","maxPredictions"],i);let s=c(t,["confidenceThreshold"]);e!==void 0&&s!=null&&f(e,["parameters","confidenceThreshold"],s);let o=c(t,["maskDilation"]);e!==void 0&&o!=null&&f(e,["parameters","maskDilation"],o);let a=c(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&f(e,["parameters","binaryColorThreshold"],a);let l=c(t,["labels"]);return e!==void 0&&l!=null&&f(e,["labels"],l),n}function M7(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["source"]);i!=null&&k7(i,n);let s=c(e,["config"]);return s!=null&&N7(s,n),n}function R7(t){let e={},n=c(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>r7(i))),f(e,["generatedMasks"],r)}return e}function k7(t,e){let n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);let i=c(t,["image"]);e!==void 0&&i!=null&&f(e,["instances[0]","image"],Rr(i));let s=c(t,["scribbleImage"]);return e!==void 0&&s!=null&&f(e,["instances[0]","scribble"],b7(s)),n}function P7(t){let e={},n=c(t,["retrievalConfig"]);n!=null&&f(e,["retrievalConfig"],n);let r=c(t,["functionCallingConfig"]);return r!=null&&f(e,["functionCallingConfig"],F9(r)),e}function L7(t){let e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=c(t,["computerUse"]);n!=null&&f(e,["computerUse"],n);let r=c(t,["fileSearch"]);r!=null&&f(e,["fileSearch"],r);let i=c(t,["codeExecution"]);if(i!=null&&f(e,["codeExecution"],i),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=c(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>p)),f(e,["functionDeclarations"],d)}let o=c(t,["googleMaps"]);o!=null&&f(e,["googleMaps"],u7(o));let a=c(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],c7(a));let l=c(t,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);let u=c(t,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}function pk(t){let e={},n=c(t,["retrieval"]);n!=null&&f(e,["retrieval"],n);let r=c(t,["computerUse"]);if(r!=null&&f(e,["computerUse"],r),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let i=c(t,["codeExecution"]);i!=null&&f(e,["codeExecution"],i);let s=c(t,["enterpriseWebSearch"]);s!=null&&f(e,["enterpriseWebSearch"],s);let o=c(t,["functionDeclarations"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(h=>O9(h))),f(e,["functionDeclarations"],p)}let a=c(t,["googleMaps"]);a!=null&&f(e,["googleMaps"],a);let l=c(t,["googleSearch"]);l!=null&&f(e,["googleSearch"],l);let u=c(t,["googleSearchRetrieval"]);u!=null&&f(e,["googleSearchRetrieval"],u);let d=c(t,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function F7(t){let e={},n=c(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);let r=c(t,["createTime"]);r!=null&&f(e,["createTime"],r);let i=c(t,["updateTime"]);return i!=null&&f(e,["updateTime"],i),e}function O7(t){let e={},n=c(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(e,["baseModel"],n);let r=c(t,["createTime"]);r!=null&&f(e,["createTime"],r);let i=c(t,["updateTime"]);return i!=null&&f(e,["updateTime"],i),e}function B7(t,e){let n={},r=c(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);let i=c(t,["description"]);e!==void 0&&i!=null&&f(e,["description"],i);let s=c(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&f(e,["defaultCheckpointId"],s),n}function V7(t,e){let n={},r=c(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);let i=c(t,["description"]);e!==void 0&&i!=null&&f(e,["description"],i);let s=c(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&f(e,["defaultCheckpointId"],s),n}function U7(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","name"],Te(t,r));let i=c(e,["config"]);return i!=null&&B7(i,n),n}function $7(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["config"]);return i!=null&&V7(i,n),n}function H7(t,e){let n={},r=c(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);let i=c(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&f(e,["parameters","safetySetting"],i);let s=c(t,["personGeneration"]);e!==void 0&&s!=null&&f(e,["parameters","personGeneration"],s);let o=c(t,["includeRaiReason"]);e!==void 0&&o!=null&&f(e,["parameters","includeRaiReason"],o);let a=c(t,["outputMimeType"]);e!==void 0&&a!=null&&f(e,["parameters","outputOptions","mimeType"],a);let l=c(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&f(e,["parameters","outputOptions","compressionQuality"],l);let u=c(t,["enhanceInputImage"]);e!==void 0&&u!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],u);let d=c(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],d);let p=c(t,["labels"]);e!==void 0&&p!=null&&f(e,["labels"],p);let h=c(t,["numberOfImages"]);e!==void 0&&h!=null&&f(e,["parameters","sampleCount"],h);let m=c(t,["mode"]);return e!==void 0&&m!=null&&f(e,["parameters","mode"],m),n}function q7(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["_url","model"],Te(t,r));let i=c(e,["image"]);i!=null&&f(n,["instances[0]","image"],Rr(i));let s=c(e,["upscaleFactor"]);s!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],s);let o=c(e,["config"]);return o!=null&&H7(o,n),n}function G7(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>$g(s))),f(e,["generatedImages"],i)}return e}function z7(t){let e={},n=c(t,["uri"]);n!=null&&f(e,["uri"],n);let r=c(t,["encodedVideo"]);r!=null&&f(e,["videoBytes"],Bs(r));let i=c(t,["encoding"]);return i!=null&&f(e,["mimeType"],i),e}function j7(t){let e={},n=c(t,["gcsUri"]);n!=null&&f(e,["uri"],n);let r=c(t,["bytesBase64Encoded"]);r!=null&&f(e,["videoBytes"],Bs(r));let i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function W7(t){let e={},n=c(t,["image"]);n!=null&&f(e,["_self"],Rr(n));let r=c(t,["maskMode"]);return r!=null&&f(e,["maskMode"],r),e}function Y7(t){let e={},n=c(t,["image"]);n!=null&&f(e,["image"],Hg(n));let r=c(t,["referenceType"]);return r!=null&&f(e,["referenceType"],r),e}function J7(t){let e={},n=c(t,["image"]);n!=null&&f(e,["image"],Rr(n));let r=c(t,["referenceType"]);return r!=null&&f(e,["referenceType"],r),e}function hk(t){let e={},n=c(t,["uri"]);n!=null&&f(e,["uri"],n);let r=c(t,["videoBytes"]);r!=null&&f(e,["encodedVideo"],Bs(r));let i=c(t,["mimeType"]);return i!=null&&f(e,["encoding"],i),e}function mk(t){let e={},n=c(t,["uri"]);n!=null&&f(e,["gcsUri"],n);let r=c(t,["videoBytes"]);r!=null&&f(e,["bytesBase64Encoded"],Bs(r));let i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function X7(t,e){let n={},r=c(t,["displayName"]);return e!==void 0&&r!=null&&f(e,["displayName"],r),n}function Q7(t){let e={},n=c(t,["config"]);return n!=null&&X7(n,e),e}function K7(t,e){let n={},r=c(t,["force"]);return e!==void 0&&r!=null&&f(e,["_query","force"],r),n}function Z7(t){let e={},n=c(t,["name"]);n!=null&&f(e,["_url","name"],n);let r=c(t,["config"]);return r!=null&&K7(r,e),e}function eY(t){let e={},n=c(t,["name"]);return n!=null&&f(e,["_url","name"],n),e}function tY(t,e){let n={},r=c(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),f(e,["customMetadata"],s)}let i=c(t,["chunkingConfig"]);return e!==void 0&&i!=null&&f(e,["chunkingConfig"],i),n}function nY(t){let e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);let r=c(t,["metadata"]);r!=null&&f(e,["metadata"],r);let i=c(t,["done"]);i!=null&&f(e,["done"],i);let s=c(t,["error"]);s!=null&&f(e,["error"],s);let o=c(t,["response"]);return o!=null&&f(e,["response"],iY(o)),e}function rY(t){let e={},n=c(t,["fileSearchStoreName"]);n!=null&&f(e,["_url","file_search_store_name"],n);let r=c(t,["fileName"]);r!=null&&f(e,["fileName"],r);let i=c(t,["config"]);return i!=null&&tY(i,e),e}function iY(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["parent"]);r!=null&&f(e,["parent"],r);let i=c(t,["documentName"]);return i!=null&&f(e,["documentName"],i),e}function sY(t,e){let n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);let i=c(t,["pageToken"]);return e!==void 0&&i!=null&&f(e,["_query","pageToken"],i),n}function oY(t){let e={},n=c(t,["config"]);return n!=null&&sY(n,e),e}function aY(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);let i=c(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),f(e,["fileSearchStores"],s)}return e}function gk(t,e){let n={},r=c(t,["mimeType"]);e!==void 0&&r!=null&&f(e,["mimeType"],r);let i=c(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);let s=c(t,["customMetadata"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),f(e,["customMetadata"],a)}let o=c(t,["chunkingConfig"]);return e!==void 0&&o!=null&&f(e,["chunkingConfig"],o),n}function lY(t){let e={},n=c(t,["fileSearchStoreName"]);n!=null&&f(e,["_url","file_search_store_name"],n);let r=c(t,["config"]);return r!=null&&gk(r,e),e}function uY(t){let e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}var cY="Content-Type",dY="X-Server-Timeout",fY="User-Agent",HS="x-goog-api-client",pY="1.35.0",hY=`google-genai-sdk/${pY}`,mY="v1beta1",gY="v1beta",qS=class{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});let i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:mY,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:gY,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){let e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){let i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(let[o,a]of Object.entries(e.queryParams))i.searchParams.append(o,String(a));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){let r=JSON.parse(JSON.stringify(e));for(let[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){let s=new AbortController,o=s.signal;if(n.timeout&&n?.timeout>0){let a=setTimeout(()=>s.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return n&&n.extraBody!==null&&vY(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await PR(i),new Fd(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await PR(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return br(this,arguments,function*(){var r;let i=(r=e?.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="",a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){let{done:u,value:d}=yield re(i.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let p=s.decode(d,{stream:!0});try{let v=JSON.parse(p);if("error"in v){let C=JSON.parse(JSON.stringify(v.error)),w=C.status,E=C.code,D=`got status: ${w}. ${JSON.stringify(v)}`;if(E>=400&&E<600)throw new Dg({message:D,status:E})}}catch(v){if(v.name==="ApiError")throw v}o+=p;let h=-1,m=0;for(;;){h=-1,m=0;for(let w of l){let E=o.indexOf(w);E!==-1&&(h===-1||E<h)&&(h=E,m=w.length)}if(h===-1)break;let v=o.substring(0,h);o=o.substring(h+m);let C=v.trim();if(C.startsWith(a)){let w=C.substring(a.length).trim();try{let E=new Response(w,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield re(new Fd(E))}catch(E){throw new Error(`exception parsing stream chunk ${w}. ${E}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){let e={},n=hY+" "+this.clientOptions.userAgentExtra;return e[fY]=n,e[HS]=n,e[cY]="application/json",e}async getHeadersInternal(e,n){let r=new Headers;if(e&&e.headers){for(let[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(dY,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;let i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);let s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);let a=(r=n?.mimeType)!==null&&r!==void 0?r:o.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;let l={file:i},u=this.getFileName(e),d=F("upload/v1beta/files",l._url),p=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,l,n?.httpOptions);return s.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;let s=this.clientOptions.uploader,o=await s.stat(n),a=String(o.size),l=(i=r?.mimeType)!==null&&i!==void 0?i:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),p={};r!=null&&gk(r,p);let h=await this.fetchUploadUrl(u,a,l,d,p,r?.httpOptions);return s.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,o){var a;let l={};o?l=o:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};let u=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!u||!u?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let d=(a=u?.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}};async function PR(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){let n=t.status,r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};let i=JSON.stringify(r);throw n>=400&&n<600?new Dg({message:i,status:n}):new Error(i)}}function vY(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{let s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){let a=Object.assign({},s);for(let l in o)if(Object.prototype.hasOwnProperty.call(o,l)){let u=o[l],d=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?a[l]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}let i=r(n,e);t.body=JSON.stringify(i)}var yY="mcp_used/unknown",EY=!1;function vk(t){for(let e of t)if(CY(e)||typeof e=="object"&&"inputSchema"in e)return!0;return EY}function yk(t){var e;let n=(e=t[HS])!==null&&e!==void 0?e:"";t[HS]=(n+` ${yY}`).trimStart()}function CY(t){return t!==null&&typeof t=="object"&&t instanceof GS}function wY(t){return br(this,arguments,function*(n,r=100){let i,s=0;for(;s<r;){let o=yield re(n.listTools({cursor:i}));for(let a of o.tools)yield yield re(a),s++;if(!o.nextCursor)break;i=o.nextCursor}})}var GS=class t{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new t(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;let s={},o=[];for(let d of this.mcpClients)try{for(var a=!0,l=(n=void 0,Nr(wY(d))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;let p=i;o.push(p);let h=p.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=d}}catch(p){n={error:p}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),s6(this.mcpTools,this.config)}async callTool(e){await this.initialize();let n=[];for(let r of e)if(r.name in this.functionNameToMcpClient){let i=this.functionNameToMcpClient[r.name],s;this.config.timeout&&(s={timeout:this.config.timeout});let o=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}};async function _Y(t,e,n){let r=new MS,i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}var zS=class{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=TY(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${a}`,u=()=>{},d=new Promise(M=>{u=M}),p=e.callbacks,h=function(){u({})},m=this.apiClient,v={onopen:h,onmessage:M=>{_Y(m,p.onmessage,M)},onerror:(n=p?.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=p?.onclose)!==null&&r!==void 0?r:function(M){}},C=this.webSocketFactory.create(l,SY(o),v);C.connect(),await d;let D={setup:{model:Te(this.apiClient,e.model)}};return C.send(JSON.stringify(D)),new jS(C,this.apiClient)}},jS=class{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let n=QW(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});let n=XW(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){let n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Pd.PLAY)}pause(){this.sendPlaybackControl(Pd.PAUSE)}stop(){this.sendPlaybackControl(Pd.STOP)}resetContext(){this.sendPlaybackControl(Pd.RESET_CONTEXT)}close(){this.conn.close()}};function SY(t){let e={};return t.forEach((n,r)=>{e[r]=n}),e}function TY(t){let e=new Headers;for(let[n,r]of Object.entries(t))e.append(n,r);return e}var DY="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function IY(t,e,n){let r=new NS,i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;let s=JSON.parse(i);if(t.isVertexAI()){let o=e9(s);Object.assign(r,o)}else Object.assign(r,s);e(r)}var WS=class{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new zS(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,o,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d,p=this.apiClient.getHeaders();e.config&&e.config.tools&&vk(e.config.tools)&&yk(p);let h=bY(p);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d);else{let ie=this.apiClient.getApiKey(),Ee="BidiGenerateContent",gt="key";ie?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Ee="BidiGenerateContentConstrained",gt="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${Ee}?${gt}=${ie}`}let m=()=>{},v=new Promise(ie=>{m=ie}),C=e.callbacks,w=function(){var ie;(ie=C?.onopen)===null||ie===void 0||ie.call(C),m({})},E=this.apiClient,D={onopen:w,onmessage:ie=>{IY(E,C.onmessage,ie)},onerror:(n=C?.onerror)!==null&&n!==void 0?n:function(ie){},onclose:(r=C?.onclose)!==null&&r!==void 0?r:function(ie){}},M=this.webSocketFactory.create(d,xY(h),D);M.connect(),await v;let x=Te(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&x.startsWith("publishers/")){let ie=this.apiClient.getProject(),Ee=this.apiClient.getLocation();x=`projects/${ie}/locations/${Ee}/`+x}let U={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[vS.AUDIO]}:e.config.responseModalities=[vS.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let ee=(a=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[],te=[];for(let ie of ee)if(this.isCallableTool(ie)){let Ee=ie;te.push(await Ee.tool())}else te.push(ie);te.length>0&&(e.config.tools=te);let Ye={model:x,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?U=JW(this.apiClient,Ye):U=YW(this.apiClient,Ye),delete U.config,M.send(JSON.stringify(U)),new YS(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}},AY={turnComplete:!0},YS=class{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ur(n.turns),e.isVertexAI()||(r=r.map(i=>Ug(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(let s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(DY)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},AY),e);let n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:ZW(e)}:n={realtimeInput:KW(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");let n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}};function xY(t){let e={};return t.forEach((n,r)=>{e[r]=n}),e}function bY(t){let e=new Headers;for(let[n,r]of Object.entries(t))e.append(n,r);return e}var LR=10;function FR(t){var e,n,r;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(let o of(n=t?.tools)!==null&&n!==void 0?n:[])if(Ul(o)){i=!0;break}if(!i)return!0;let s=(r=t?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Ul(t){return"callTool"in t&&typeof t.callTool=="function"}function NY(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Ul(i)))!==null&&r!==void 0?r:!1}function OR(t){var e;let n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Ul(r))return;let s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function BR(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}var JS=class extends Mr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,o,a;let l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!NY(n)||FR(n.config))return await this.generateContentInternal(l);let u=OR(n);if(u.length>0){let C=u.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let d,p,h=ur(l.contents),m=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:LR,v=0;for(;v<m&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){let C=d.candidates[0].content,w=[];for(let E of(a=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(Ul(E)){let M=await E.callTool(d.functionCalls);w.push(...M)}v++,p={role:"user",parts:w},l.contents=ur(l.contents),l.contents.push(C),l.contents.push(p),BR(l.config)&&(h.push(C),h.push(p))}return BR(l.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var r,i,s,o,a;if(this.maybeMoveToResponseJsonSchem(n),FR(n.config)){let p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}let l=OR(n);if(l.length>0){let p=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let u=(s=(i=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(a=(o=n?.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s,o=[];if(r?.generatedImages)for(let l of r.generatedImages)l&&l?.safetyAttributes&&((i=l?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l?.safetyAttributes:o.push(l);let a;return s?a={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;let o={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Hi(Vs.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(o),o)},this.editImage=async n=>{let r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));let i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,o,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(s=n.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;let s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;let o=await Promise.all(s.map(async l=>Ul(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(a.config.tools=o,e.config&&e.config.tools&&vk(e.config.tools)){let l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{},u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),yk(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;let s=new Map;for(let o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ul(o)){let a=o,l=await a.tool();for(let u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,a)}}return s}async processAfcStream(e){var n,r,i;let s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:LR,o=!1,a=0,l=await this.initAfcToolsMap(e);return(function(u,d,p){return br(this,arguments,function*(){for(var h,m,v,C,w,E;a<s;){o&&(a++,o=!1);let U=yield re(u.processParamsMaybeAddMcpUsage(p)),ee=yield re(u.generateContentStreamInternal(U)),te=[],Ye=[];try{for(var D=!0,M=(m=void 0,Nr(ee)),x;x=yield re(M.next()),h=x.done,!h;D=!0){C=x.value,D=!1;let ie=C;if(yield yield re(ie),ie.candidates&&(!((w=ie.candidates[0])===null||w===void 0)&&w.content)){Ye.push(ie.candidates[0].content);for(let Ee of(E=ie.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(a<s&&Ee.functionCall){if(!Ee.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(Ee.functionCall.name)){let gt=yield re(d.get(Ee.functionCall.name).callTool([Ee.functionCall]));te.push(...gt)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${Ee.functionCall.name}`)}}}}catch(ie){m={error:ie}}finally{try{!D&&!h&&(v=M.return)&&(yield re(v.call(M)))}finally{if(m)throw m.error}}if(te.length>0){o=!0;let ie=new la;ie.candidates=[{content:{role:"user",parts:te}}],yield yield re(ie);let Ee=[];Ee.push(...Ye),Ee.push({role:"user",parts:te});let gt=ur(p.contents).concat(Ee);p.contents=gt}else break}})})(this,l,e)}async generateContentInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=MR(this.apiClient,e);return a=F("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=kR(d),h=new la;return Object.assign(h,p),h})}else{let u=NR(this.apiClient,e);return a=F("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=RR(d),h=new la;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=MR(this.apiClient,e);return a=F("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(p){return br(this,arguments,function*(){var h,m,v,C;try{for(var w=!0,E=Nr(p),D;D=yield re(E.next()),h=D.done,!h;w=!0){C=D.value,w=!1;let M=C,x=kR(yield re(M.json()));x.sdkHttpResponse={headers:M.headers};let U=new la;Object.assign(U,x),yield yield re(U)}}catch(M){m={error:M}}finally{try{!w&&!h&&(v=E.return)&&(yield re(v.call(E)))}finally{if(m)throw m.error}}})})}else{let u=NR(this.apiClient,e);return a=F("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(p){return br(this,arguments,function*(){var h,m,v,C;try{for(var w=!0,E=Nr(p),D;D=yield re(E.next()),h=D.done,!h;w=!0){C=D.value,w=!1;let M=C,x=RR(yield re(M.json()));x.sdkHttpResponse={headers:M.headers};let U=new la;Object.assign(U,x),yield yield re(U)}}catch(M){m={error:M}}finally{try{!w&&!h&&(v=E.return)&&(yield re(v.call(E)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=N9(this.apiClient,e);return a=F("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=R9(d),h=new fg;return Object.assign(h,p),h})}else{let u=b9(this.apiClient,e);return a=F("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=M9(d),h=new fg;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=q9(this.apiClient,e);return a=F("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=z9(d),h=new pg;return Object.assign(h,p),h})}else{let u=H9(this.apiClient,e);return a=F("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=G9(d),h=new pg;return Object.assign(h,p),h})}}async editImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=D9(this.apiClient,e);return s=F("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{let d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{let u=I9(l),d=new yS;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=q7(this.apiClient,e);return s=F("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{let d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{let u=G7(l),d=new ES;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=T7(this.apiClient,e);return s=F("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let u=D7(l),d=new CS;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=M7(this.apiClient,e);return s=F("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let u=R7(l),d=new wS;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=l7(this.apiClient,e);return a=F("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>$S(d))}else{let u=a7(this.apiClient,e);return a=F("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>US(d))}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=v7(this.apiClient,e);return a=F("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=E7(d),h=new hg;return Object.assign(h,p),h})}else{let u=g7(this.apiClient,e);return a=F("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=y7(d),h=new hg;return Object.assign(h,p),h})}}async update(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=$7(this.apiClient,e);return a=F("{model}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>$S(d))}else{let u=U7(this.apiClient,e);return a=F("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>US(d))}}async delete(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=w9(this.apiClient,e);return a=F("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=S9(d),h=new mg;return Object.assign(h,p),h})}else{let u=C9(this.apiClient,e);return a=F("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=_9(d),h=new mg;return Object.assign(h,p),h})}}async countTokens(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=v9(this.apiClient,e);return a=F("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=E9(d),h=new gg;return Object.assign(h,p),h})}else{let u=g9(this.apiClient,e);return a=F("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=y9(d),h=new gg;return Object.assign(h,p),h})}}async computeTokens(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=u9(this.apiClient,e);return s=F("{model}:computeTokens",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{let d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{let u=c9(l),d=new _S;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=Q9(this.apiClient,e);return a=F("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{let p=J9(d),h=new vg;return Object.assign(h,p),h})}else{let u=X9(this.apiClient,e);return a=F("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>{let p=Y9(d),h=new vg;return Object.assign(h,p),h})}}};var XS=class extends Mr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let i=n.name.split("/operations/")[0],s;r&&"httpOptions"in r&&(s=r.httpOptions);let o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{let i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){let n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let i=n.name.split("/operations/")[0],s;r&&"httpOptions"in r&&(s=r.httpOptions);let o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{let i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=jj(e);return a=F("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o}else{let u=zj(e);return a=F("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=Bj(e);return s=F("{resourceName}:fetchPredictOperation",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}};function MY(t){let e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function RY(t){let e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>$Y(s))),f(e,["parts"],i)}let r=c(t,["role"]);return r!=null&&f(e,["role"],r),e}function kY(t,e,n){let r={},i=c(e,["expireTime"]);n!==void 0&&i!=null&&f(n,["expireTime"],i);let s=c(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&f(n,["newSessionExpireTime"],s);let o=c(e,["uses"]);n!==void 0&&o!=null&&f(n,["uses"],o);let a=c(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&f(n,["bidiGenerateContentSetup"],UY(t,a));let l=c(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&f(n,["fieldMask"],l),r}function PY(t,e){let n={},r=c(e,["config"]);return r!=null&&f(n,["config"],kY(t,r,n)),n}function LY(t){let e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);let r=c(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function FY(t){let e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);let r=c(t,["args"]);r!=null&&f(e,["args"],r);let i=c(t,["name"]);if(i!=null&&f(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function OY(t){let e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function BY(t){let e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function VY(t,e){let n={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig"],r);let i=c(t,["responseModalities"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig","responseModalities"],i);let s=c(t,["temperature"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","temperature"],s);let o=c(t,["topP"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","topP"],o);let a=c(t,["topK"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","topK"],a);let l=c(t,["maxOutputTokens"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","maxOutputTokens"],l);let u=c(t,["mediaResolution"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","mediaResolution"],u);let d=c(t,["seed"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","seed"],d);let p=c(t,["speechConfig"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","speechConfig"],y0(p));let h=c(t,["thinkingConfig"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","thinkingConfig"],h);let m=c(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],m);let v=c(t,["systemInstruction"]);e!==void 0&&v!=null&&f(e,["setup","systemInstruction"],RY(qt(v)));let C=c(t,["tools"]);if(e!==void 0&&C!=null){let ee=Gl(C);Array.isArray(ee)&&(ee=ee.map(te=>qY(ql(te)))),f(e,["setup","tools"],ee)}let w=c(t,["sessionResumption"]);e!==void 0&&w!=null&&f(e,["setup","sessionResumption"],HY(w));let E=c(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&f(e,["setup","inputAudioTranscription"],E);let D=c(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&f(e,["setup","outputAudioTranscription"],D);let M=c(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&f(e,["setup","realtimeInputConfig"],M);let x=c(t,["contextWindowCompression"]);e!==void 0&&x!=null&&f(e,["setup","contextWindowCompression"],x);let U=c(t,["proactivity"]);if(e!==void 0&&U!=null&&f(e,["setup","proactivity"],U),c(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function UY(t,e){let n={},r=c(e,["model"]);r!=null&&f(n,["setup","model"],Te(t,r));let i=c(e,["config"]);return i!=null&&f(n,["config"],VY(i,n)),n}function $Y(t){let e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);let r=c(t,["codeExecutionResult"]);r!=null&&f(e,["codeExecutionResult"],r);let i=c(t,["executableCode"]);i!=null&&f(e,["executableCode"],i);let s=c(t,["fileData"]);s!=null&&f(e,["fileData"],LY(s));let o=c(t,["functionCall"]);o!=null&&f(e,["functionCall"],FY(o));let a=c(t,["functionResponse"]);a!=null&&f(e,["functionResponse"],a);let l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],MY(l));let u=c(t,["text"]);u!=null&&f(e,["text"],u);let d=c(t,["thought"]);d!=null&&f(e,["thought"],d);let p=c(t,["thoughtSignature"]);p!=null&&f(e,["thoughtSignature"],p);let h=c(t,["videoMetadata"]);return h!=null&&f(e,["videoMetadata"],h),e}function HY(t){let e={},n=c(t,["handle"]);if(n!=null&&f(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function qY(t){let e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=c(t,["computerUse"]);n!=null&&f(e,["computerUse"],n);let r=c(t,["fileSearch"]);r!=null&&f(e,["fileSearch"],r);let i=c(t,["codeExecution"]);if(i!=null&&f(e,["codeExecution"],i),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=c(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>p)),f(e,["functionDeclarations"],d)}let o=c(t,["googleMaps"]);o!=null&&f(e,["googleMaps"],OY(o));let a=c(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],BY(a));let l=c(t,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);let u=c(t,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}function GY(t){let e=[];for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){let i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function zY(t,e){let n=null,r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){let s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;let i=t.fieldMask;if(n){let s=GY(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)s?t.fieldMask=s:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){let o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],a=[];i.length>0&&(a=i.map(u=>o.includes(u)?`generationConfig.${u}`:u));let l=[];s&&l.push(s),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}var QS=class extends Mr{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let a=PY(this.apiClient,e);s=F("auth_tokens",a._url),o=a._query,delete a.config,delete a._url,delete a._query;let l=zY(a,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}};function jY(t,e){let n={},r=c(t,["force"]);return e!==void 0&&r!=null&&f(e,["_query","force"],r),n}function WY(t){let e={},n=c(t,["name"]);n!=null&&f(e,["_url","name"],n);let r=c(t,["config"]);return r!=null&&jY(r,e),e}function YY(t){let e={},n=c(t,["name"]);return n!=null&&f(e,["_url","name"],n),e}function JY(t,e){let n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);let i=c(t,["pageToken"]);return e!==void 0&&i!=null&&f(e,["_query","pageToken"],i),n}function XY(t){let e={},n=c(t,["parent"]);n!=null&&f(e,["_url","parent"],n);let r=c(t,["config"]);return r!=null&&JY(r,e),e}function QY(t){let e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);let r=c(t,["nextPageToken"]);r!=null&&f(e,["nextPageToken"],r);let i=c(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),f(e,["documents"],s)}return e}var KS=class extends Mr{constructor(e){super(),this.apiClient=e,this.list=async n=>new Hi(Vs.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=YY(e);return s=F("{name}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let o=WY(e);i=F("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=XY(e);return s=F("{parent}/documents",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let u=QY(l),d=new SS;return Object.assign(d,u),d})}}};var ZS=class extends Mr{constructor(e,n=new KS(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Hi(Vs.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Q7(e);return s=F("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=eY(e);return s=F("{name}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let o=Z7(e);i=F("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=oY(e);return s=F("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let u=aY(l),d=new TS;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=lY(e);return s=F("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let u=uY(l),d=new DS;return Object.assign(d,u),d})}}async importFile(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=rY(e);return s=F("{file_search_store_name}:importFile",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let u=nY(l),d=new IS;return Object.assign(d,u),d})}}};var Ek=function(){let{crypto:t}=globalThis;if(t?.randomUUID)return Ek=t.randomUUID.bind(t),t.randomUUID();let e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))},KY=()=>Ek();function e0(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}var t0=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){let e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};var Cn=class extends Error{},wn=class t extends Cn{constructor(e,n,r,i){super(`${t.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){let i=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new $l({message:r,cause:t0(n)});let s=n;return e===400?new Ag(e,s,r,i):e===401?new xg(e,s,r,i):e===403?new bg(e,s,r,i):e===404?new Ng(e,s,r,i):e===409?new Mg(e,s,r,i):e===422?new Rg(e,s,r,i):e===429?new kg(e,s,r,i):e>=500?new Pg(e,s,r,i):new t(e,s,r,i)}},Od=class extends wn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},$l=class extends wn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},Ig=class extends $l{constructor({message:e}={}){super({message:e??"Request timed out."})}},Ag=class extends wn{},xg=class extends wn{},bg=class extends wn{},Ng=class extends wn{},Mg=class extends wn{},Rg=class extends wn{},kg=class extends wn{},Pg=class extends wn{};var ZY=/^[a-z][a-z0-9+.-]*:/i,eJ=t=>ZY.test(t),n0=t=>(n0=Array.isArray,n0(t)),tJ=n0,nJ=tJ,VR=nJ;function rJ(t){if(!t)return!0;for(let e in t)return!1;return!0}function iJ(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var sJ=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Cn(`${t} must be an integer`);if(e<0)throw new Cn(`${t} must be a positive integer`);return e},oJ=t=>{try{return JSON.parse(t)}catch{return}};var aJ=t=>new Promise(e=>setTimeout(e,t));var Bl="0.0.1";function lJ(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var uJ=()=>{var t,e,n,r,i;let s=lJ();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bl,"X-Stainless-OS":$R(Deno.build.os),"X-Stainless-Arch":UR(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bl,"X-Stainless-OS":$R((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":UR((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};let o=cJ();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function cJ(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:n}of t){let r=n.exec(navigator.userAgent);if(r){let i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}var UR=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",$R=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),sg,dJ=()=>sg??(sg=uJ());function fJ(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ck(...t){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function pJ(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Ck({start(){},async pull(n){let{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function wk(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){let n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function hJ(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}let r=t.getReader(),i=r.cancel();r.releaseLock(),await i}var mJ=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});var _k=()=>{var t;if(typeof File>"u"){let{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function hS(t,e,n){return _k(),new File(t,e??"unknown_file",n)}function gJ(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}var vJ=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";var Sk=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",yJ=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Sk(t),EJ=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function CJ(t,e,n){if(_k(),t=await t,yJ(t))return t instanceof File?t:hS([await t.arrayBuffer()],t.name);if(EJ(t)){let i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),hS(await r0(i),e,n)}let r=await r0(t);if(e||(e=gJ(t)),!n?.type){let i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return hS(r,e,n)}async function r0(t){var e,n,r,i,s;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(Sk(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(vJ(t))try{for(var a=!0,l=Nr(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;let d=i;o.push(...await r0(d))}}catch(d){n={error:d}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{let d=(s=t?.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${wJ(t)}`)}return o}function wJ(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}var _J=(()=>{class t{constructor(n){this._client=n}}t._key=[];return t})();function Tk(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var HR=Object.freeze(Object.create(null)),SJ=(t=Tk)=>function(n,...r){if(n.length===1)return n[0];let i=!1,s=[],o=n.reduce((d,p,h)=>{var m,v,C;/[?#]/.test(p)&&(i=!0);let w=r[h],E=(i?encodeURIComponent:t)(""+w);return h!==r.length&&(w==null||typeof w=="object"&&w.toString===((C=Object.getPrototypeOf((v=Object.getPrototypeOf((m=w.hasOwnProperty)!==null&&m!==void 0?m:HR))!==null&&v!==void 0?v:HR))===null||C===void 0?void 0:C.toString))&&(E=w+"",s.push({start:d.length+p.length,length:E.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),d+p+(h===r.length?"":E)},""),a=o.split(/[?#]/,1)[0],l=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,u;for(;(u=l.exec(a))!==null;)s.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(s.sort((d,p)=>d.start-p.start),s.length>0){let d=0,p=s.reduce((h,m)=>{let v=" ".repeat(m.start-d),C="^".repeat(m.length);return d=m.start+m.length,h+v+C},"");throw new Cn(`Path parameters result in path with invalid segments:
${s.map(h=>h.error).join(`
`)}
${o}
${p}`)}return o},og=SJ(Tk);var Lg=class extends _J{create(e,n){var r;let{api_version:i=this._client.apiVersion}=e,s=Tg(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new Cn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new Cn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(og`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){let{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(og`/${i}/interactions/${e}`,r)}cancel(e,n={},r){let{api_version:i=this._client.apiVersion}=n??{};return this._client.post(og`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;let s=n??{},{api_version:o=this._client.apiVersion}=s,a=Tg(s,["api_version"]);return this._client.get(og`/${o}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n?.stream)!==null&&i!==void 0?i:!1}))}};Lg._key=Object.freeze(["interactions"]);var Fg=class extends Lg{};function TJ(t){let e=0;for(let i of t)e+=i.length;let n=new Uint8Array(e),r=0;for(let i of t)n.set(i,r),r+=i.length;return n}var ag;function E0(t){let e;return(ag??(e=new globalThis.TextEncoder,ag=e.encode.bind(e)))(t)}var lg;function qR(t){let e;return(lg??(e=new globalThis.TextDecoder,lg=e.decode.bind(e)))(t)}var Hl=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];let n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?E0(e):e;this.buffer=TJ([this.buffer,n]);let r=[],i;for(;(i=DJ(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(qR(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}let s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=qR(this.buffer.subarray(0,s));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}};Hl.NEWLINE_CHARS=new Set([`
`,"\r"]);Hl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function DJ(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function IJ(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}var Og={off:0,error:200,warn:300,info:400,debug:500},GR=(t,e,n)=>{if(t){if(iJ(Og,t))return t;sn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Og))}`)}};function Ld(){}function ug(t,e,n){return!e||Og[t]>Og[n]?Ld:e[t].bind(e)}var AJ={error:Ld,warn:Ld,info:Ld,debug:Ld},zR=new WeakMap;function sn(t){var e;let n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return AJ;let i=zR.get(n);if(i&&i[0]===r)return i[1];let s={error:ug("error",n,r),warn:ug("warn",n,r),info:ug("info",n,r),debug:ug("debug",n,r)};return zR.set(n,[r,s]),s}var aa=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var i0=class t{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1,s=r?sn(r):console;function o(){return br(this,arguments,function*(){var l,u,d,p;if(i)throw new Cn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,v=Nr(xJ(e,n)),C;C=yield re(v.next()),l=C.done,!l;m=!0){p=C.value,m=!1;let w=p;if(!h)if(w.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield re(JSON.parse(w.data))}catch(E){throw s.error("Could not parse message into JSON:",w.data),s.error("From chunk:",w.raw),E}}}catch(w){u={error:w}}finally{try{!m&&!l&&(d=v.return)&&(yield re(d.call(v)))}finally{if(u)throw u.error}}h=!0}catch(w){if(e0(w))return yield re(void 0);throw w}finally{h||n.abort()}})}return new t(o,n,r)}static fromReadableStream(e,n,r){let i=!1;function s(){return br(this,arguments,function*(){var l,u,d,p;let h=new Hl,m=wk(e);try{for(var v=!0,C=Nr(m),w;w=yield re(C.next()),l=w.done,!l;v=!0){p=w.value,v=!1;let E=p;for(let D of h.decode(E))yield yield re(D)}}catch(E){u={error:E}}finally{try{!v&&!l&&(d=C.return)&&(yield re(d.call(C)))}finally{if(u)throw u.error}}for(let E of h.flush())yield yield re(E)})}function o(){return br(this,arguments,function*(){var l,u,d,p;if(i)throw new Cn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,v=Nr(s()),C;C=yield re(v.next()),l=C.done,!l;m=!0){p=C.value,m=!1;let w=p;h||w&&(yield yield re(JSON.parse(w)))}}catch(w){u={error:w}}finally{try{!m&&!l&&(d=v.return)&&(yield re(d.call(v)))}finally{if(u)throw u.error}}h=!0}catch(w){if(e0(w))return yield re(void 0);throw w}finally{h||n.abort()}})}return new t(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){let o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new t(()=>i(e),this.controller,this.client),new t(()=>i(n),this.controller,this.client)]}toReadableStream(){let e=this,n;return Ck({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{let{value:i,done:s}=await n.next();if(s)return r.close();let o=E0(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}};function xJ(t,e){return br(this,arguments,function*(){var r,i,s,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Cn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Cn("Attempted to iterate over a response with no body");let a=new s0,l=new Hl,u=wk(t.body);try{for(var d=!0,p=Nr(bJ(u)),h;h=yield re(p.next()),r=h.done,!r;d=!0){o=h.value,d=!1;let m=o;for(let v of l.decode(m)){let C=a.decode(v);C&&(yield yield re(C))}}}catch(m){i={error:m}}finally{try{!d&&!r&&(s=p.return)&&(yield re(s.call(p)))}finally{if(i)throw i.error}}for(let m of l.flush()){let v=a.decode(m);v&&(yield yield re(v))}})}function bJ(t){return br(this,arguments,function*(){var n,r,i,s;let o=new Uint8Array;try{for(var a=!0,l=Nr(t),u;u=yield re(l.next()),n=u.done,!n;a=!0){s=u.value,a=!1;let d=s;if(d==null)continue;let p=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?E0(d):d,h=new Uint8Array(o.length+p.length);h.set(o),h.set(p,o.length),o=h;let m;for(;(m=IJ(o))!==-1;)yield yield re(o.slice(0,m)),o=o.slice(m)}}catch(d){r={error:d}}finally{try{!a&&!n&&(i=l.return)&&(yield re(i.call(l)))}finally{if(r)throw r.error}}o.length>0&&(yield yield re(o))})}var s0=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=NJ(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}};function NJ(t,e){let n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function MJ(t,e){let{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,o=await(async()=>{var a;if(e.options.stream)return sn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):i0.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;let l=n.headers.get("content-type"),u=(a=l?.split(";")[0])===null||a===void 0?void 0:a.trim();return u?.includes("application/json")||u?.endsWith("+json")?await n.json():await n.text()})();return sn(t).debug(`[${r}] response parsed`,aa({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}var o0=class t extends Promise{constructor(e,n,r=MJ){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new t(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};var Dk=Symbol("brand.privateNullableHeaders");function*RJ(t){if(!t)return;if(Dk in t){let{values:r,nulls:i}=t;yield*r.entries();for(let s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():VR(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){let i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");let s=VR(r[1])?r[1]:[r[1]],o=!1;for(let a of s)a!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,a])}}var kd=t=>{let e=new Headers,n=new Set;for(let r of t){let i=new Set;for(let[s,o]of RJ(r)){let a=s.toLowerCase();i.has(a)||(e.delete(s),i.add(a)),o===null?(e.delete(s),n.add(a)):(e.append(s,o),n.delete(a))}}return{[Dk]:!0,values:e,nulls:n}};var mS=t=>{var e,n,r,i,s,o;if(typeof globalThis.process<"u")return(r=(n=(e=globalThis.process.env)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||o===void 0?void 0:o.trim()};var Ik,kJ=(()=>{class t{constructor(n){var r,i,s,o,a,l,u,{baseURL:d=mS("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(r=mS("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:h="v1beta"}=n,m=Tg(n,["baseURL","apiKey","apiVersion"]);let v=Object.assign(Object.assign({apiKey:p,apiVersion:h},m),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=v.baseURL,this.timeout=(i=v.timeout)!==null&&i!==void 0?i:t.DEFAULT_TIMEOUT,this.logger=(s=v.logger)!==null&&s!==void 0?s:console;let C="warn";this.logLevel=C,this.logLevel=(a=(o=GR(v.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:GR(mS("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:C,this.fetchOptions=v.fetchOptions,this.maxRetries=(l=v.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(u=v.fetch)!==null&&u!==void 0?u:fJ(),this.encoder=mJ,this._options=v,this.apiKey=p,this.apiVersion=h,this.clientAdapter=v.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:r}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){let r=kd([n.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return kd([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return kd([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([r,i])=>typeof i<"u").map(([r,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(r)}=`;throw new Cn(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Bl}`}defaultIdempotencyKey(){return`stainless-node-retry-${KY()}`}makeStatusError(n,r,i,s){return wn.generate(n,r,i,s)}buildURL(n,r,i){let s=!this.baseURLOverridden()&&i||this.baseURL,o=eJ(n)?new URL(n):new URL(s+(s.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),a=this.defaultQuery();return rJ(a)||(r=Object.assign(Object.assign({},a),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(o.search=this.stringifyQuery(r)),o.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){let r=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(n,{url:r,options:i}){}get(n,r){return this.methodRequest("get",n,r)}post(n,r){return this.methodRequest("post",n,r)}patch(n,r){return this.methodRequest("patch",n,r)}put(n,r){return this.methodRequest("put",n,r)}delete(n,r){return this.methodRequest("delete",n,r)}methodRequest(n,r,i){return this.request(Promise.resolve(i).then(s=>Object.assign({method:n,path:r},s)))}request(n,r=null){return new o0(this,this.makeRequest(n,r,void 0))}async makeRequest(n,r,i){var s,o,a;let l=await n,u=(s=l.maxRetries)!==null&&s!==void 0?s:this.maxRetries;r==null&&(r=u),await this.prepareOptions(l);let{req:d,url:p,timeout:h}=await this.buildRequest(l,{retryCount:u-r});await this.prepareRequest(d,{url:p,options:l});let m="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),v=i===void 0?"":`, retryOf: ${i}`,C=Date.now();if(sn(this).debug(`[${m}] sending request`,aa({retryOfRequestLogID:i,method:l.method,url:p,options:l,headers:d.headers})),!((o=l.signal)===null||o===void 0)&&o.aborted)throw new Od;let w=new AbortController,E=await this.fetchWithTimeout(p,d,h,w).catch(t0),D=Date.now();if(E instanceof globalThis.Error){let x=`retrying, ${r} attempts remaining`;if(!((a=l.signal)===null||a===void 0)&&a.aborted)throw new Od;let U=e0(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(r)return sn(this).info(`[${m}] connection ${U?"timed out":"failed"} - ${x}`),sn(this).debug(`[${m}] connection ${U?"timed out":"failed"} (${x})`,aa({retryOfRequestLogID:i,url:p,durationMs:D-C,message:E.message})),this.retryRequest(l,r,i??m);throw sn(this).info(`[${m}] connection ${U?"timed out":"failed"} - error; no more retries left`),sn(this).debug(`[${m}] connection ${U?"timed out":"failed"} (error; no more retries left)`,aa({retryOfRequestLogID:i,url:p,durationMs:D-C,message:E.message})),U?new Ig:new $l({cause:E})}let M=`[${m}${v}] ${d.method} ${p} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${D-C}ms`;if(!E.ok){let x=await this.shouldRetry(E);if(r&&x){let Ee=`retrying, ${r} attempts remaining`;return await hJ(E.body),sn(this).info(`${M} - ${Ee}`),sn(this).debug(`[${m}] response error (${Ee})`,aa({retryOfRequestLogID:i,url:E.url,status:E.status,headers:E.headers,durationMs:D-C})),this.retryRequest(l,r,i??m,E.headers)}let U=x?"error; no more retries left":"error; not retryable";sn(this).info(`${M} - ${U}`);let ee=await E.text().catch(Ee=>t0(Ee).message),te=oJ(ee),Ye=te?void 0:ee;throw sn(this).debug(`[${m}] response error (${U})`,aa({retryOfRequestLogID:i,url:E.url,status:E.status,headers:E.headers,message:Ye,durationMs:Date.now()-C})),this.makeStatusError(E.status,te,Ye,E.headers)}return sn(this).info(M),sn(this).debug(`[${m}] response start`,aa({retryOfRequestLogID:i,url:E.url,status:E.status,headers:E.headers,durationMs:D-C})),{response:E,options:l,controller:w,requestLogID:m,retryOfRequestLogID:i,startTime:C}}async fetchWithTimeout(n,r,i,s){let o=r||{},{signal:a,method:l}=o,u=Tg(o,["signal","method"]);a&&a.addEventListener("abort",()=>s.abort());let d=setTimeout(()=>s.abort(),i),p=globalThis.ReadableStream&&u.body instanceof globalThis.ReadableStream||typeof u.body=="object"&&u.body!==null&&Symbol.asyncIterator in u.body,h=Object.assign(Object.assign(Object.assign({signal:s.signal},p?{duplex:"half"}:{}),{method:"GET"}),u);l&&(h.method=l.toUpperCase());try{return await this.fetch.call(void 0,n,h)}finally{clearTimeout(d)}}async shouldRetry(n){let r=n.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,r,i,s){var o;let a,l=s?.get("retry-after-ms");if(l){let d=parseFloat(l);Number.isNaN(d)||(a=d)}let u=s?.get("retry-after");if(u&&!a){let d=parseFloat(u);Number.isNaN(d)?a=Date.parse(u)-Date.now():a=d*1e3}if(!(a&&0<=a&&a<60*1e3)){let d=(o=n.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(r,d)}return await aJ(a),this.makeRequest(n,r-1,i)}calculateDefaultRetryTimeoutMillis(n,r){let o=r-n,a=Math.min(.5*Math.pow(2,o),8),l=1-Math.random()*.25;return a*l*1e3}async buildRequest(n,{retryCount:r=0}={}){var i,s,o;let a=Object.assign({},n),{method:l,path:u,query:d,defaultBaseURL:p}=a,h=this.buildURL(u,d,p);"timeout"in a&&sJ("timeout",a.timeout),a.timeout=(i=a.timeout)!==null&&i!==void 0?i:this.timeout;let{bodyHeaders:m,body:v}=this.buildBody({options:a}),C=await this.buildHeaders({options:n,method:l,bodyHeaders:m,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:C},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&v instanceof globalThis.ReadableStream&&{duplex:"half"}),v&&{body:v}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:h,timeout:a.timeout}}async buildHeaders({options:n,method:r,bodyHeaders:i,retryCount:s}){let o={};this.idempotencyHeader&&r!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=n.idempotencyKey);let a=await this.authHeaders(n),l=kd([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),dJ()),this._options.defaultHeaders,i,n.headers,a]);return this.validateHeaders(l),l.values}buildBody({options:{body:n,headers:r}}){if(!n)return{bodyHeaders:void 0,body:void 0};let i=kd([r]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&i.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:pJ(n)}:this.encoder({body:n,headers:i})}}return t.DEFAULT_TIMEOUT=6e4,t})(),ct=class extends kJ{constructor(){super(...arguments),this.interactions=new Fg(this)}};Ik=ct;ct.GeminiNextGenAPIClient=Ik;ct.GeminiNextGenAPIClientError=Cn;ct.APIError=wn;ct.APIConnectionError=$l;ct.APIConnectionTimeoutError=Ig;ct.APIUserAbortError=Od;ct.NotFoundError=Ng;ct.ConflictError=Mg;ct.RateLimitError=kg;ct.BadRequestError=Ag;ct.AuthenticationError=xg;ct.InternalServerError=Pg;ct.PermissionDeniedError=bg;ct.UnprocessableEntityError=Rg;ct.toFile=CJ;ct.Interactions=Fg;function PJ(t,e){let n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],r),n}function LJ(t,e){let n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],r),n}function FJ(t,e){let n={},r=c(t,["sdkHttpResponse"]);return r!=null&&f(n,["sdkHttpResponse"],r),n}function OJ(t,e){let n={},r=c(t,["sdkHttpResponse"]);return r!=null&&f(n,["sdkHttpResponse"],r),n}function BJ(t,e,n){let r={};if(c(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let i=c(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&f(e,["displayName"],i),c(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let s=c(t,["epochCount"]);e!==void 0&&s!=null&&f(e,["tuningTask","hyperparameters","epochCount"],s);let o=c(t,["learningRateMultiplier"]);if(o!=null&&f(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),c(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");let a=c(t,["batchSize"]);e!==void 0&&a!=null&&f(e,["tuningTask","hyperparameters","batchSize"],a);let l=c(t,["learningRate"]);if(e!==void 0&&l!=null&&f(e,["tuningTask","hyperparameters","learningRate"],l),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function VJ(t,e,n){let r={},i=c(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let m=c(t,["validationDataset"]);e!==void 0&&m!=null&&f(e,["supervisedTuningSpec"],jR(m))}else if(i==="PREFERENCE_TUNING"){let m=c(t,["validationDataset"]);e!==void 0&&m!=null&&f(e,["preferenceOptimizationSpec"],jR(m))}let s=c(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&f(e,["tunedModelDisplayName"],s);let o=c(t,["description"]);e!==void 0&&o!=null&&f(e,["description"],o);let a=c(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){let m=c(t,["epochCount"]);e!==void 0&&m!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(a==="PREFERENCE_TUNING"){let m=c(t,["epochCount"]);e!==void 0&&m!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let l=c(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){let m=c(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(l==="PREFERENCE_TUNING"){let m=c(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let u=c(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){let m=c(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(u==="PREFERENCE_TUNING"){let m=c(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let d=c(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){let m=c(t,["adapterSize"]);e!==void 0&&m!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(d==="PREFERENCE_TUNING"){let m=c(t,["adapterSize"]);e!==void 0&&m!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(c(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");let p=c(t,["labels"]);e!==void 0&&p!=null&&f(e,["labels"],p);let h=c(t,["beta"]);return e!==void 0&&h!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function UJ(t,e){let n={},r=c(t,["baseModel"]);r!=null&&f(n,["baseModel"],r);let i=c(t,["preTunedModel"]);i!=null&&f(n,["preTunedModel"],i);let s=c(t,["trainingDataset"]);s!=null&&QJ(s);let o=c(t,["config"]);return o!=null&&BJ(o,n),n}function $J(t,e){let n={},r=c(t,["baseModel"]);r!=null&&f(n,["baseModel"],r);let i=c(t,["preTunedModel"]);i!=null&&f(n,["preTunedModel"],i);let s=c(t,["trainingDataset"]);s!=null&&KJ(s,n,e);let o=c(t,["config"]);return o!=null&&VJ(o,n,e),n}function HJ(t,e){let n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],r),n}function qJ(t,e){let n={},r=c(t,["name"]);return r!=null&&f(n,["_url","name"],r),n}function GJ(t,e,n){let r={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);let s=c(t,["pageToken"]);e!==void 0&&s!=null&&f(e,["_query","pageToken"],s);let o=c(t,["filter"]);return e!==void 0&&o!=null&&f(e,["_query","filter"],o),r}function zJ(t,e,n){let r={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);let s=c(t,["pageToken"]);e!==void 0&&s!=null&&f(e,["_query","pageToken"],s);let o=c(t,["filter"]);return e!==void 0&&o!=null&&f(e,["_query","filter"],o),r}function jJ(t,e){let n={},r=c(t,["config"]);return r!=null&&GJ(r,n),n}function WJ(t,e){let n={},r=c(t,["config"]);return r!=null&&zJ(r,n),n}function YJ(t,e){let n={},r=c(t,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);let i=c(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);let s=c(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>Ak(a))),f(n,["tuningJobs"],o)}return n}function JJ(t,e){let n={},r=c(t,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);let i=c(t,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);let s=c(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>a0(a))),f(n,["tuningJobs"],o)}return n}function XJ(t,e){let n={},r=c(t,["name"]);r!=null&&f(n,["model"],r);let i=c(t,["name"]);return i!=null&&f(n,["endpoint"],i),n}function QJ(t,e){let n={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let r=c(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),f(n,["examples","examples"],i)}return n}function KJ(t,e,n){let r={},i=c(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let o=c(t,["gcsUri"]);e!==void 0&&o!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){let o=c(t,["gcsUri"]);e!==void 0&&o!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let s=c(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){let o=c(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){let o=c(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(c(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Ak(t,e){let n={},r=c(t,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);let i=c(t,["name"]);i!=null&&f(n,["name"],i);let s=c(t,["state"]);s!=null&&f(n,["state"],tk(s));let o=c(t,["createTime"]);o!=null&&f(n,["createTime"],o);let a=c(t,["tuningTask","startTime"]);a!=null&&f(n,["startTime"],a);let l=c(t,["tuningTask","completeTime"]);l!=null&&f(n,["endTime"],l);let u=c(t,["updateTime"]);u!=null&&f(n,["updateTime"],u);let d=c(t,["description"]);d!=null&&f(n,["description"],d);let p=c(t,["baseModel"]);p!=null&&f(n,["baseModel"],p);let h=c(t,["_self"]);return h!=null&&f(n,["tunedModel"],XJ(h)),n}function a0(t,e){let n={},r=c(t,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);let i=c(t,["name"]);i!=null&&f(n,["name"],i);let s=c(t,["state"]);s!=null&&f(n,["state"],tk(s));let o=c(t,["createTime"]);o!=null&&f(n,["createTime"],o);let a=c(t,["startTime"]);a!=null&&f(n,["startTime"],a);let l=c(t,["endTime"]);l!=null&&f(n,["endTime"],l);let u=c(t,["updateTime"]);u!=null&&f(n,["updateTime"],u);let d=c(t,["error"]);d!=null&&f(n,["error"],d);let p=c(t,["description"]);p!=null&&f(n,["description"],p);let h=c(t,["baseModel"]);h!=null&&f(n,["baseModel"],h);let m=c(t,["tunedModel"]);m!=null&&f(n,["tunedModel"],m);let v=c(t,["preTunedModel"]);v!=null&&f(n,["preTunedModel"],v);let C=c(t,["supervisedTuningSpec"]);C!=null&&f(n,["supervisedTuningSpec"],C);let w=c(t,["preferenceOptimizationSpec"]);w!=null&&f(n,["preferenceOptimizationSpec"],w);let E=c(t,["tuningDataStats"]);E!=null&&f(n,["tuningDataStats"],E);let D=c(t,["encryptionSpec"]);D!=null&&f(n,["encryptionSpec"],D);let M=c(t,["partnerModelTuningSpec"]);M!=null&&f(n,["partnerModelTuningSpec"],M);let x=c(t,["customBaseModel"]);x!=null&&f(n,["customBaseModel"],x);let U=c(t,["experiment"]);U!=null&&f(n,["experiment"],U);let ee=c(t,["labels"]);ee!=null&&f(n,["labels"],ee);let te=c(t,["outputUri"]);te!=null&&f(n,["outputUri"],te);let Ye=c(t,["pipelineJob"]);Ye!=null&&f(n,["pipelineJob"],Ye);let ie=c(t,["serviceAccount"]);ie!=null&&f(n,["serviceAccount"],ie);let Ee=c(t,["tunedModelDisplayName"]);Ee!=null&&f(n,["tunedModelDisplayName"],Ee);let gt=c(t,["veoTuningSpec"]);return gt!=null&&f(n,["veoTuningSpec"],gt),n}function ZJ(t,e){let n={},r=c(t,["sdkHttpResponse"]);r!=null&&f(n,["sdkHttpResponse"],r);let i=c(t,["name"]);i!=null&&f(n,["name"],i);let s=c(t,["metadata"]);s!=null&&f(n,["metadata"],s);let o=c(t,["done"]);o!=null&&f(n,["done"],o);let a=c(t,["error"]);return a!=null&&f(n,["error"],a),n}function jR(t,e){let n={},r=c(t,["gcsUri"]);r!=null&&f(n,["validationDatasetUri"],r);let i=c(t,["vertexDatasetResource"]);return i!=null&&f(n,["validationDatasetUri"],i),n}var l0=class extends Mr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Hi(Vs.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){let i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);let s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{let i=Object.assign({},n);return await this.tuneInternal(i)}else{let i=Object.assign({},n),s=await this.tuneMldevInternal(i),o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:JR.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=qJ(e);return a=F("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>a0(d))}else{let u=HJ(e);return a=F("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Ak(d))}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=WJ(e);return a=F("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=JJ(d),h=new yg;return Object.assign(h,p),h})}else{let u=jJ(e);return a=F("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=YJ(d),h=new yg;return Object.assign(h,p),h})}}async cancel(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=LJ(e);return a=F("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=OJ(d),h=new Eg;return Object.assign(h,p),h})}else{let u=PJ(e);return a=F("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{let p=FJ(d),h=new Eg;return Object.assign(h,p),h})}}async tuneInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=$J(e,e);return s=F("tuningJobs",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{let d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>a0(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=UJ(e);return s=F("tunedModels",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{let d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>ZJ(l))}}};var u0=class{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},eX=1024*1024*8,tX=3,nX=1e3,rX=2,Bg="x-goog-upload-status";async function iX(t,e,n){var r;let i=await xk(t,e,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[Bg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function sX(t,e,n){var r;let i=await xk(t,e,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[Bg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let o=YR(s),a=new RS;return Object.assign(a,o),a}async function xk(t,e,n){var r,i;let s=0,o=0,a=new Fd(new Response),l="upload";for(s=t.size;o<s;){let u=Math.min(eX,s-o),d=t.slice(o,o+u);o+u>=s&&(l+=", finalize");let p=0,h=nX;for(;p<tX&&(a=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(o),"Content-Length":String(u)}}}),!(!((r=a?.headers)===null||r===void 0)&&r[Bg]));)p++,await aX(h),h=h*rX;if(o+=u,((i=a?.headers)===null||i===void 0?void 0:i[Bg])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function oX(t){return{size:t.size,type:t.type}}function aX(t){return new Promise(e=>setTimeout(e,t))}var c0=class{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iX(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await sX(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oX(e)}};var d0=class{create(e,n,r){return new f0(e,n,r)}},f0=class{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var WR="x-goog-api-key",p0=class{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(WR)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(WR,this.apiKey)}}};var lX="gl-node/",Vg=class{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");let e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");let n=new ct({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;let r=Fj(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;let i=new p0(this.apiKey);this.apiClient=new qS({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:lX+"web",uploader:new c0,downloader:new u0}),this.models=new JS(this.apiClient),this.live=new WS(this.apiClient,i,new d0),this.batches=new LS(this.apiClient),this.chats=new OS(this.models,this.apiClient),this.caches=new FS(this.apiClient),this.files=new VS(this.apiClient),this.operations=new XS(this.apiClient),this.authTokens=new QS(this.apiClient),this.tunings=new l0(this.apiClient),this.fileSearchStores=new ZS(this.apiClient)}};var qg=class t{constructor(){process.env.API_KEY||console.error("API_KEY environment variable not set."),this.ai=new Vg({apiKey:process.env.API_KEY})}async getRecommendations(e,n){let s={model:"gemini-2.5-flash",contents:`Consulta del usuario: "${e}"

Datos de productos disponibles:
${JSON.stringify(n)}`,config:{systemInstruction:`Eres un asistente experto en recomendaciones de productos para una web de afiliados de Amazon Espa\xF1a. Tu especialidad actual son las cafeteras.
    Tu tono debe ser neutral, informativo y muy \xFAtil. Sigue estas reglas estrictamente:
    1.  Basa todas tus recomendaciones \xFAnicamente en la lista de productos en formato JSON que se te proporciona. No uses conocimiento externo ni inventes productos.
    2.  Tu objetivo principal es ayudar al usuario a encontrar la mejor cafetera para sus necesidades bas\xE1ndote en su consulta. Puedes usar campos como 'rating_num' (valoraci\xF3n), 'reviews_count' (n\xFAmero de rese\xF1as) y 'bought_last_month' (popularidad reciente) para dar mejores respuestas.
    3.  Si el usuario pide "las mejores" o algo similar, prioriza los productos con alta valoraci\xF3n media ('rating_num') y un alto n\xFAmero de rese\xF1as ('reviews_count'). Considera tambi\xE9n la relaci\xF3n calidad-precio si el campo 'price' est\xE1 disponible.
    4.  Mant\xE9n tus explicaciones breves, claras y centradas en los datos disponibles de los productos.
    5.  Debes responder siempre en formato JSON v\xE1lido, siguiendo el esquema proporcionado. No a\xF1adas texto fuera del JSON.
    6.  Comun\xEDcate en espa\xF1ol, ya que es el idioma del usuario.
    7.  Limita tus recomendaciones a un m\xE1ximo de 5 productos para no abrumar al usuario.`,responseMimeType:"application/json",responseSchema:{type:lr.OBJECT,properties:{recommendation_text:{type:lr.STRING,description:"Un texto de introducci\xF3n \xFAtil y breve en espa\xF1ol, explicando por qu\xE9 se recomiendan estos productos, basado en la consulta del usuario."},recommended_product_ids:{type:lr.ARRAY,items:{type:lr.STRING},description:"Un array con los IDs de los productos de la lista proporcionada que recomiendas. No incluyas m\xE1s de 5 IDs."}},required:["recommendation_text","recommended_product_ids"]}}};try{let a=(await this.ai.models.generateContent(s)).text.trim();return JSON.parse(a)}catch(o){return console.error("Error calling Gemini API:",o),{recommendation_text:"Lo siento, he tenido un problema al procesar tu solicitud. Por favor, int\xE9ntalo de nuevo.",recommended_product_ids:[]}}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}};var uX=t=>["/producto",t];function cX(t,e){t&1&&(A(0,"div",1),N(1," Destacado "),k())}function dX(t,e){if(t&1&&Fe(0,"img",3),t&2){let n=We();tt("src",n.image_url,Is)("alt",n.name)}}function fX(t,e){t&1&&(A(0,"div",4),Ft(),A(1,"svg",14),Fe(2,"path",15)(3,"path",16)(4,"path",17)(5,"path",18)(6,"path",19)(7,"path",20),k()())}function pX(t,e){t&1&&(A(0,"span",25),N(1,"|"),k())}function hX(t,e){if(t&1&&(A(0,"div",21),Ft(),A(1,"svg",22),Fe(2,"path",23),k(),tn(),A(3,"span",24),N(4),k()(),Be(5,pX,2,0,"span",25)),t&2){let n=We();J(4),_t(n.rating_num),J(),Ve(n.reviews_count?5:-1)}}function mX(t,e){if(t&1&&(A(0,"span"),N(1),k()),t&2){let n=We();J(),Xo("",n.reviews_count," rese\xF1as")}}function gX(t,e){t&1&&(A(0,"div",9),Ft(),A(1,"svg",22),Fe(2,"path",23),k(),tn(),A(3,"span"),N(4,"Producto popular"),k()())}function vX(t,e){if(t&1&&(A(0,"div",0),Be(1,cX,2,0,"div",1),A(2,"div",2),Be(3,dX,1,2,"img",3)(4,fX,8,0,"div",4),k(),A(5,"div",5)(6,"a",6)(7,"h3",7),N(8),k()(),A(9,"div",8),Be(10,hX,6,2),Be(11,mX,2,1,"span"),k(),Be(12,gX,5,0,"div",9),A(13,"div",10)(14,"div",11)(15,"p",12),N(16,"Consultar precio actualizado en Amazon"),k()(),A(17,"a",13),N(18," Ver en Amazon "),k()()()()),t&2){let n=e;J(),Ve(n.is_sponsored?1:-1),J(2),Ve(n.image_url?3:4),J(3),tt("routerLink",C_(8,uX,n.asin)),J(2),_t(n.name),J(2),Ve(n.rating_num?10:-1),J(),Ve(n.reviews_count?11:-1),J(),Ve(n.bought_last_month?12:-1),J(5),tt("href",n.amazon_url,Is)}}var Us=class t{constructor(){this.product=Dr.required()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-product-card"]],inputs:{product:[1,"product"]},decls:1,vars:1,consts:[[1,"bg-white","rounded-lg","shadow-sm","border","border-slate-200","overflow-hidden","flex","flex-col","h-full","transition-shadow","duration-300","hover:shadow-md","relative"],[1,"absolute","top-2","left-2","bg-slate-100","text-slate-600","text-xs","font-semibold","px-2","py-1","rounded-md","border","border-slate-200","z-10"],[1,"relative","bg-slate-50","h-48","w-full"],[1,"w-full","h-full","object-contain","p-4",3,"src","alt"],[1,"w-full","h-full","flex","items-center","justify-center"],[1,"p-4","flex-grow","flex","flex-col"],[1,"hover:text-orange-600","transition-colors",3,"routerLink"],[1,"text-gray-800","font-semibold","text-base","h-12","overflow-hidden"],[1,"flex","items-center","gap-2","mt-2","text-sm","text-slate-500"],[1,"mt-2","text-sm","text-sky-800","bg-sky-100","rounded-full","px-3","py-1","font-semibold","inline-flex","items-center","gap-1.5","self-start"],[1,"mt-auto","pt-4"],[1,"mb-4"],[1,"text-sm","text-slate-500"],["target","_blank","rel","noopener sponsored",1,"block","w-full","bg-orange-500","hover:bg-orange-600","text-white","font-bold","py-3","px-4","rounded-lg","text-center","transition-colors","duration-300",3,"href"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"h-24","w-24","text-slate-300"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M3 14c.83 .642 2.077 1.017 3.5 1c1.423 .017 2.67 -.358 3.5 -1c.83 -.642 2.077 -1.017 3.5 -1c1.423 -.017 2.67 .358 3.5 1"],["d","M8 3a2.4 2.4 0 0 0 -1 2a2.4 2.4 0 0 0 1 2"],["d","M12 3a2.4 2.4 0 0 0 -1 2a2.4 2.4 0 0 0 1 2"],["d","M3 10h14v5a6 6 0 0 1 -6 6h-2a6 6 0 0 1 -6 -6v-5z"],["d","M16.746 16.726a3 3 0 1 0 .252 -5.555"],[1,"flex","items-center","gap-1","text-amber-500"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-4","w-4"],["d","M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"],[1,"font-bold","text-slate-700"],[1,"text-slate-300"]],template:function(n,r){if(n&1&&Be(0,vX,19,10,"div",0),n&2){let i;Ve((i=r.product())?0:-1,i)}},dependencies:[ar],encapsulation:2,changeDetection:0})}};var Gg=class t{constructor(){this.message=Dr.required();this.sender=Dr.required()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-chat-bubble"]],inputs:{message:[1,"message"],sender:[1,"sender"]},decls:4,vars:17,consts:[[1,"flex"],[1,"max-w-md","lg:max-w-2xl","px-4","py-3","rounded-2xl","shadow"],[1,"text-sm"]],template:function(n,r){n&1&&(qe(0,"div",0)(1,"div",1)(2,"p",2),N(3),ye()()()),n&2&&(Rs("justify-end",r.sender()==="user")("justify-start",r.sender()==="ai"),J(),Rs("bg-orange-500",r.sender()==="user")("text-white",r.sender()==="user")("bg-white",r.sender()==="ai")("text-slate-800",r.sender()==="ai")("rounded-br-none",r.sender()==="user")("rounded-bl-none",r.sender()==="ai"),J(2),_t(r.message()))},encapsulation:2,changeDetection:0})}};var Ok=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(Ce(Oi),Ce(Vn))};static \u0275dir=ut({type:t})}return t})(),Zg=(()=>{class t extends Ok{static \u0275fac=(()=>{let n;return function(i){return(n||(n=si(t)))(i||t)}})();static \u0275dir=ut({type:t,features:[sr]})}return t})(),Gd=new q(""),yX={provide:Gd,useExisting:yr(()=>_0),multi:!0},_0=(()=>{class t extends Zg{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(i){return(n||(n=si(t)))(i||t)}})();static \u0275dir=ut({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&$e("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ks([yX]),sr]})}return t})(),EX={provide:Gd,useExisting:yr(()=>Jl),multi:!0};function CX(){let t=or()?or().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var wX=new q(""),Jl=(()=>{class t extends Ok{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!CX())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(Ce(Oi),Ce(Vn),Ce(wX,8))};static \u0275dir=ut({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&$e("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[ks([EX]),sr]})}return t})();var Bk=new q(""),Vk=new q("");function Uk(t){return t!=null}function $k(t){return Jo(t)?ot(t):t}function Hk(t){let e={};return t.forEach(n=>{e=n!=null?S(S({},e),n):e}),Object.keys(e).length===0?null:e}function qk(t,e){return e.map(n=>n(t))}function _X(t){return!t.validate}function Gk(t){return t.map(e=>_X(e)?e:n=>e.validate(n))}function SX(t){if(!t)return null;let e=t.filter(Uk);return e.length==0?null:function(n){return Hk(qk(n,e))}}function S0(t){return t!=null?SX(Gk(t)):null}function TX(t){if(!t)return null;let e=t.filter(Uk);return e.length==0?null:function(n){let r=qk(n,e).map($k);return nC(r).pipe(De(Hk))}}function T0(t){return t!=null?TX(Gk(t)):null}function bk(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function DX(t){return t._rawValidators}function IX(t){return t._rawAsyncValidators}function C0(t){return t?Array.isArray(t)?t:[t]:[]}function jg(t,e){return Array.isArray(t)?t.includes(e):t===e}function Nk(t,e){let n=C0(e);return C0(t).forEach(i=>{jg(n,i)||n.push(i)}),n}function Mk(t,e){return C0(e).filter(n=>!jg(t,n))}var Wg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=S0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=T0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Yl=class extends Wg{name;get formDirective(){return null}get path(){return null}},qd=class extends Wg{_parent=null;name=null;valueAccessor=null},Yg=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var ev=(()=>{class t extends Yg{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Ce(qd,2))};static \u0275dir=ut({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Rs("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[sr]})}return t})(),zk=(()=>{class t extends Yg{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Ce(Yl,10))};static \u0275dir=ut({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Rs("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[sr]})}return t})();var Bd="VALID",zg="INVALID",jl="PENDING",Vd="DISABLED",$s=class{},Jg=class extends $s{value;source;constructor(e,n){super(),this.value=e,this.source=n}},$d=class extends $s{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Hd=class extends $s{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Wl=class extends $s{status;source;constructor(e,n){super(),this.status=e,this.source=n}},w0=class extends $s{source;constructor(e){super(),this.source=e}},Xg=class extends $s{source;constructor(e){super(),this.source=e}};function jk(t){return(tv(t)?t.validators:t)||null}function AX(t){return Array.isArray(t)?S0(t):t||null}function Wk(t,e){return(tv(e)?e.asyncValidators:t)||null}function xX(t){return Array.isArray(t)?T0(t):t||null}function tv(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function bX(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[n])throw new V(1001,"")}function NX(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new V(1002,"")})}var Qg=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return mt(this.statusReactive)}set status(e){mt(()=>this.statusReactive.set(e))}_status=nn(()=>this.statusReactive());statusReactive=Ue(void 0);get valid(){return this.status===Bd}get invalid(){return this.status===zg}get pending(){return this.status==jl}get disabled(){return this.status===Vd}get enabled(){return this.status!==Vd}errors;get pristine(){return mt(this.pristineReactive)}set pristine(e){mt(()=>this.pristineReactive.set(e))}_pristine=nn(()=>this.pristineReactive());pristineReactive=Ue(!0);get dirty(){return!this.pristine}get touched(){return mt(this.touchedReactive)}set touched(e){mt(()=>this.touchedReactive.set(e))}_touched=nn(()=>this.touchedReactive());touchedReactive=Ue(!1);get untouched(){return!this.touched}_events=new it;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Nk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Nk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Mk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Mk(e,this._rawAsyncValidators))}hasValidator(e){return jg(this._rawValidators,e)}hasAsyncValidator(e){return jg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(G(S({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Hd(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Hd(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(G(S({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new $d(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new $d(!0,r))}markAsPending(e={}){this.status=jl;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wl(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(G(S({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Vd,this.errors=null,this._forEachChild(i=>{i.disable(G(S({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jg(this.value,r)),this._events.next(new Wl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(G(S({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Bd,this._forEachChild(r=>{r.enable(G(S({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(G(S({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bd||this.status===jl)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jg(this.value,n)),this._events.next(new Wl(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(G(S({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vd:Bd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=jl,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=$k(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Wl(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new at,this.statusChanges=new at}_calculateStatus(){return this._allControlsDisabled()?Vd:this.errors?zg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jl)?jl:this._anyControlsHaveStatus(zg)?zg:Bd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new $d(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Hd(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=AX(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=xX(this._rawAsyncValidators)}},Kg=class extends Qg{constructor(e,n,r){super(jk(n),Wk(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){NX(this,!0,e),Object.keys(e).forEach(r=>{bX(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,G(S({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Xg(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var D0=new q("",{factory:()=>I0}),I0="always";function MX(t,e){return[...e.path,t]}function Yk(t,e,n=I0){Jk(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),kX(t,e),LX(t,e),PX(t,e),RX(t,e)}function Rk(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function RX(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Jk(t,e){let n=DX(t);e.validator!==null?t.setValidators(bk(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=IX(t);e.asyncValidator!==null?t.setAsyncValidators(bk(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Rk(e._rawValidators,i),Rk(e._rawAsyncValidators,i)}function kX(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Xk(t,e)})}function PX(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Xk(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Xk(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function LX(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function FX(t,e){t==null,Jk(t,e)}function OX(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function BX(t){return Object.getPrototypeOf(t.constructor)===Zg}function VX(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function UX(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Jl?n=s:BX(s)?r=s:i=s}),i||r||n||null}var $X={provide:Yl,useExisting:yr(()=>A0)},Ud=Promise.resolve(),A0=(()=>{class t extends Yl{callSetDisabledState;get submitted(){return mt(this.submittedReactive)}_submitted=nn(()=>this.submittedReactive());submittedReactive=Ue(!1);_directives=new Set;form;ngSubmit=new at;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Kg({},S0(n),T0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ud.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Yk(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ud.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ud.then(()=>{let r=this._findContainer(n.path),i=new Kg({});FX(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ud.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ud.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),VX(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new w0(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(Ce(Bk,10),Ce(Vk,10),Ce(D0,8))};static \u0275dir=ut({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&$e("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ks([$X]),sr]})}return t})();function kk(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Pk(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var HX=class extends Qg{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(jk(n),Wk(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tv(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Pk(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Xg(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Pk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var qX={provide:qd,useExisting:yr(()=>zd)},Lk=Promise.resolve(),zd=(()=>{class t extends qd{_changeDetectorRef;callSetDisabledState;control=new HX;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new at;constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=UX(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),OX(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Yk(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Lk.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Sl(r);Lk.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?MX(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(Ce(Yl,9),Ce(Bk,10),Ce(Vk,10),Ce(Gd,10),Ce(Qo,8),Ce(D0,8))};static \u0275dir=ut({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ks([qX]),sr,Ds]})}return t})();var Qk=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=ut({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var GX={provide:Gd,useExisting:yr(()=>nv),multi:!0};function Kk(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function zX(t){return t.split(":")[0]}var nv=(()=>{class t extends Zg{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=b(xs).injector;destroyRef=b(Bn);cdr=b(Qo);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,om({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=Kk(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=zX(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=si(t)))(i||t)}})();static \u0275dir=ut({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&$e("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ks([GX]),sr]})}return t})(),Zk=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(Kk(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(Ce(Vn),Ce(Oi),Ce(nv,9))};static \u0275dir=ut({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),jX={provide:Gd,useExisting:yr(()=>eP),multi:!0};function Fk(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function WX(t){return t.split(":")[0]}var eP=(()=>{class t extends Zg{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let l=o[a],u=this._getOptionValue(l.value);i.push(u)}}else{let o=r.options;for(let a=0;a<o.length;a++){let l=o[a];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=WX(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=si(t)))(i||t)}})();static \u0275dir=ut({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&$e("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ks([jX]),sr]})}return t})(),tP=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Fk(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Fk(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(Ce(Vn),Ce(Oi),Ce(eP,9))};static \u0275dir=ut({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var YX=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Bi({type:t});static \u0275inj=Qr({})}return t})();var rv=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:D0,useValue:n.callSetDisabledState??I0}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Bi({type:t});static \u0275inj=Qr({imports:[YX]})}return t})();var JX=["chatContainer"],XX=(t,e)=>e.id;function QX(t,e){if(t&1&&Fe(0,"app-chat-bubble",23),t&2){let n=We().$implicit;tt("message",n.content)("sender",n.sender)}}function KX(t,e){if(t&1&&Fe(0,"app-product-card",25),t&2){let n=e.$implicit;tt("product",n)}}function ZX(t,e){if(t&1&&(A(0,"div",24),bs(1,KX,1,1,"app-product-card",25,XX),k()),t&2){let n=We().$implicit;J(),Ns(n.products)}}function eQ(t,e){if(t&1&&(Be(0,QX,1,2,"app-chat-bubble",23),Be(1,ZX,3,0,"div",24)),t&2){let n=e.$implicit;Ve(n.type==="text"?0:-1),J(),Ve(n.type==="products"?1:-1)}}function tQ(t,e){t&1&&(A(0,"div",15)(1,"div",26)(2,"div",27),Fe(3,"div",28)(4,"div",29)(5,"div",30),k()()())}function nQ(t,e){if(t&1){let n=Ms();A(0,"div",17)(1,"button",31),$e("click",function(){yn(n);let i=We();return En(i.sendSuggestion("Mejores calidad-precio"))}),N(2,"Calidad-precio"),k(),A(3,"button",31),$e("click",function(){yn(n);let i=We();return En(i.sendSuggestion("C\xE1psulas baratas"))}),N(4,"C\xE1psulas"),k(),A(5,"button",31),$e("click",function(){yn(n);let i=We();return En(i.sendSuggestion("S\xFAper autom\xE1tica"))}),N(6,"Autom\xE1tica"),k()()}}var iv=class t{constructor(){this.productService=b(pi);this.geminiService=b(qg);this.chatContainer=XN("chatContainer");this.closeChat=JN();this.allProducts=this.productService.getProducts();this.userInput=Ue("");this.isLoading=Ue(!1);this.chatHistory=Ue([{type:"text",sender:"ai",content:'\xA1Hola! Soy tu asistente experto en cafeteras. \xBFQu\xE9 tipo de caf\xE9 te gusta o qu\xE9 buscas en una cafetera? Por ejemplo, puedes pedirme "las mejores cafeteras de c\xE1psulas" o "una cafetera autom\xE1tica por menos de 400\u20AC".'}]);this.sendButtonDisabled=nn(()=>this.isLoading()||this.userInput().trim().length===0);ri(()=>{setTimeout(()=>{this.scrollToBottom()},0)},{allowSignalWrites:!0})}async sendMessage(){let e=this.userInput().trim();if(!(!e||this.isLoading())){this.chatHistory.update(n=>[...n,{type:"text",sender:"user",content:e}]),this.userInput.set(""),this.isLoading.set(!0);try{let n=await this.geminiService.getRecommendations(e,this.allProducts());if(this.chatHistory.update(r=>[...r,{type:"text",sender:"ai",content:n.recommendation_text}]),n.recommended_product_ids.length>0){let r=this.allProducts().filter(s=>n.recommended_product_ids.includes(s.id)),i=n.recommended_product_ids.map(s=>r.find(o=>o.id===s)).filter(s=>s!==void 0);i.length>0&&this.chatHistory.update(s=>[...s,{type:"products",products:i}])}}catch(n){console.error("Failed to get recommendations:",n),this.chatHistory.update(r=>[...r,{type:"text",sender:"ai",content:"Tuve un problema al conectar con mis circuitos. Por favor, intenta tu pregunta de nuevo."}])}finally{this.isLoading.set(!1)}}}sendSuggestion(e){this.userInput.set(e),this.sendMessage()}scrollToBottom(){let e=this.chatContainer()?.nativeElement;e&&(e.scrollTop=e.scrollHeight)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-chat-assistant"]],viewQuery:function(n,r){n&1&&mm(r.chatContainer,JX,5),n&2&&y_()},outputs:{closeChat:"closeChat"},decls:26,vars:5,consts:[["chatContainer",""],[1,"fixed","inset-0","bg-black/60","z-40","animate-fade-in",3,"click"],[1,"fixed","bottom-0","right-0","top-0","md:top-auto","md:bottom-5","md:right-5","h-full","w-full","md:h-[70vh]","md:max-h-[700px]","md:w-[440px]","bg-slate-50","rounded-t-2xl","md:rounded-2xl","shadow-2xl","flex","flex-col","z-50","animate-slide-in-up"],[1,"bg-white","p-4","border-b","border-slate-200","rounded-t-2xl","flex","justify-between","items-center","flex-shrink-0"],[1,"text-lg","font-bold","text-slate-800","flex","items-center","gap-2"],[1,"text-orange-600"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"h-6","w-6"],["d","m12 15-2-2 4-4-2-2 4-4"],["d","M19 11V6.5a2.5 2.5 0 0 0-5 0V11"],["d","M5 11V6.5a2.5 2.5 0 0 1 5 0V11"],["d","m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"],["title","Cerrar asistente",1,"text-slate-500","hover:text-slate-800","transition-colors","p-1","rounded-full","hover:bg-slate-100",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex-1","overflow-y-auto","p-4","space-y-6"],[1,"flex","justify-start"],[1,"bg-white/80","backdrop-blur-sm","p-4","border-t","border-slate-200","rounded-b-2xl"],[1,"mb-3","flex","flex-wrap","gap-2","justify-center"],[1,"flex","items-center","gap-3",3,"ngSubmit"],["type","text","name","userInput","placeholder","Escribe tu consulta...","autocomplete","off",1,"flex-1","w-full","px-4","py-3","bg-slate-100","rounded-full","border","border-slate-300","focus:outline-none","focus:ring-2","focus:ring-orange-500",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"bg-orange-500","text-white","rounded-full","p-3","transition-all","disabled:bg-slate-300","hover:bg-orange-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-orange-500",3,"disabled"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["d","M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"],[3,"message","sender"],[1,"space-y-4","py-4"],[3,"product"],[1,"max-w-md","px-4","py-3","rounded-2xl","shadow","bg-white","text-slate-800","rounded-bl-none"],[1,"flex","items-center","space-x-2"],[1,"w-2","h-2","rounded-full","bg-slate-400","animate-pulse","[animation-delay:-0.3s]"],[1,"w-2","h-2","rounded-full","bg-slate-400","animate-pulse","[animation-delay:-0.15s]"],[1,"w-2","h-2","rounded-full","bg-slate-400","animate-pulse"],[1,"px-3","py-1","bg-orange-100","text-orange-800","rounded-full","text-sm","hover:bg-orange-200","font-medium","transition-colors",3,"click"]],template:function(n,r){if(n&1){let i=Ms();A(0,"div",1),$e("click",function(){return yn(i),En(r.closeChat.emit())}),k(),A(1,"div",2)(2,"header",3)(3,"h2",4)(4,"span",5),Ft(),A(5,"svg",6),Fe(6,"path",7)(7,"path",8)(8,"path",9)(9,"path",10),k()(),N(10," Asistente de IA "),k(),tn(),A(11,"button",11),$e("click",function(){return yn(i),En(r.closeChat.emit())}),Ft(),A(12,"svg",12),Fe(13,"path",13),k()()(),tn(),A(14,"main",14,0),bs(16,eQ,2,2,null,null,v_),Be(18,tQ,6,0,"div",15),k(),A(19,"footer",16),Be(20,nQ,7,0,"div",17),A(21,"form",18),$e("ngSubmit",function(){return yn(i),En(r.sendMessage())}),A(22,"input",19),vm("ngModelChange",function(o){return yn(i),E_(r.userInput,o)||(r.userInput=o),En(o)}),k(),A(23,"button",20),Ft(),A(24,"svg",21),Fe(25,"path",22),k()()()()()}n&2&&(J(16),Ns(r.chatHistory()),J(2),Ve(r.isLoading()?18:-1),J(2),Ve(r.chatHistory().length<=1?20:-1),J(2),gm("ngModel",r.userInput),tt("disabled",r.isLoading()),J(),tt("disabled",r.sendButtonDisabled()))},dependencies:[Us,Gg,rv,Qk,Jl,ev,zk,zd,A0],encapsulation:2,changeDetection:0})}};function rQ(t,e){if(t&1){let n=Ms();A(0,"app-chat-assistant",19),$e("closeChat",function(){yn(n);let i=We();return En(i.toggleChat())}),k()}}var sv=class t{constructor(){this.isChatVisible=Ue(!1);console.log("[COMPLIANCE] Disclaimer de afiliado visible:",!0),console.log("[COMPLIANCE] Texto editorial presente:",!0),console.log("[COMPLIANCE] P\xE1ginas legales detectadas:",{avisoLegal:!0,privacidad:!0,cookies:!0}),console.log("[COMPLIANCE] Filtros activos permitidos:",["search","rating","relevance","popular_editorial"]),console.log("[AMAZON AFFILIATES \u2013 CHECK FINAL]",{disclaimerVisible:!0,textoEditorial:!0,paginasLegales:!0,preciosMostrados:!1,metricasVentasMostradas:!1,enlacesAfiliadoCorrectos:!0})}toggleChat(){this.isChatVisible.update(e=>!e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-root"]],decls:33,vars:1,consts:[[1,"flex","flex-col","min-h-screen","font-sans"],[1,"bg-white","shadow-sm","p-4","border-b","border-slate-200","z-20","sticky","top-0"],[1,"container","mx-auto","flex","justify-between","items-center","gap-4"],["routerLink","/",1,"text-2xl","font-bold","text-slate-800"],[1,"text-orange-600"],[1,"text-xs","text-slate-500","text-right","hidden","sm:block"],[1,"font-semibold"],["title","Asistente de recomendaciones",1,"fixed","bottom-5","right-5","bg-orange-500","text-white","rounded-full","p-4","shadow-lg","hover:bg-orange-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-orange-500","transform","hover:scale-110","active:scale-100","transition-all","z-30",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"h-8","w-8"],["d","m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"],["d","m12 15-2-2 4-4-2-2 4-4"],[1,"bg-slate-50","p-6","border-t","border-slate-200","mt-auto"],[1,"container","mx-auto","text-center"],[1,"text-xs","text-slate-500","mb-4"],[1,"flex","justify-center","items-center","gap-4","text-xs","text-slate-500"],["routerLink","/aviso-legal",1,"hover:text-orange-600","hover:underline"],[1,"text-slate-300"],["routerLink","/politica-privacidad",1,"hover:text-orange-600","hover:underline"],["routerLink","/politica-cookies",1,"hover:text-orange-600","hover:underline"],[3,"closeChat"]],template:function(n,r){n&1&&(A(0,"div",0)(1,"header",1)(2,"div",2)(3,"a",3)(4,"span",4),N(5,"Cafeteras"),k(),N(6," Pro "),k(),A(7,"div",5)(8,"p"),N(9,"Tu gu\xEDa de compra y an\xE1lisis"),k(),A(10,"p",6),N(11,"Datos desde Backend"),k()()()(),Fe(12,"router-outlet"),A(13,"button",7),$e("click",function(){return r.toggleChat()}),Ft(),A(14,"svg",8),Fe(15,"path",9)(16,"path",10),k()(),Be(17,rQ,1,0,"app-chat-assistant"),tn(),A(18,"footer",11)(19,"div",12)(20,"p",13),N(21," Como Afiliado de Amazon, obtengo ingresos por las compras adscritas que cumplen los requisitos aplicables. "),k(),A(22,"div",14)(23,"a",15),N(24,"Aviso Legal"),k(),A(25,"span",16),N(26,"|"),k(),A(27,"a",17),N(28,"Pol\xEDtica de Privacidad"),k(),A(29,"span",16),N(30,"|"),k(),A(31,"a",18),N(32,"Pol\xEDtica de Cookies"),k()()()()()),n&2&&(J(17),Ve(r.isChatVisible()?17:-1))},dependencies:[xd,ar,iv],encapsulation:2,changeDetection:0})}};var iQ=(t,e)=>e.id;function sQ(t,e){t&1&&(A(0,"div",34),Ft(),A(1,"svg",36),Fe(2,"path",37)(3,"path",38)(4,"path",39),k(),tn(),A(5,"h3",40),N(6,"Cargando productos..."),k(),A(7,"p",41),N(8,"Contactando con el servidor para obtener el cat\xE1logo."),k()())}function oQ(t,e){if(t&1&&Fe(0,"app-product-card",42),t&2){let n=e.$implicit;tt("product",n)}}function aQ(t,e){if(t&1&&(A(0,"div",35),bs(1,oQ,1,1,"app-product-card",42,iQ),k()),t&2){let n=We();J(),Ns(n.filteredProducts())}}function lQ(t,e){if(t&1){let n=Ms();A(0,"div",34),Ft(),A(1,"svg",43),Fe(2,"path",44),k(),tn(),A(3,"h3",40),N(4,"No se encontraron cafeteras"),k(),A(5,"p",41),N(6,"Prueba a cambiar o limpiar los filtros para ver m\xE1s resultados."),k(),A(7,"button",45),$e("click",function(){yn(n);let i=We();return En(i.resetFilters())}),N(8,"Limpiar todos los filtros"),k()()}}var uQ=t=>{if(t==null)return null;try{let e=String(t).replace(",","."),n=parseFloat(e);return isNaN(n)?null:n}catch{return null}},ov=class t{constructor(){this.productService=b(pi);this.allProducts=this.productService.getProducts();this.searchTerm=Ue("");this.showPopular=Ue(!1);this.minRating=Ue(0);this.filteredProducts=nn(()=>{let e=this.searchTerm().toLowerCase(),n=this.showPopular(),r=this.minRating();return this.allProducts().filter(i=>{let s=e?i.name.toLowerCase().includes(e)||i.title&&i.title.toLowerCase().includes(e):!0,o=n?!!i.bought_last_month:!0,a=uQ(i.rating_num),l=r===0?!0:a===null?!1:a>=r;return s&&o&&l})});console.log("[UI] ASIN y URL ocultos en tarjetas de producto:",!0),ri(()=>{let e=this.filteredProducts();console.log("Productos renderizados en la vista:",e.map(n=>({asin:n.asin,name:n.name,title:n.title,amazon_url:n.amazon_url,image_url:n.image_url,rating_num:n.rating_num,reviews_count:n.reviews_count})).slice(0,2)),console.log("[COMPLIANCE] Vista libre de precios y m\xE9tricas prohibidas:",!0)})}resetFilters(){this.searchTerm.set(""),this.showPopular.set(!1),this.minRating.set(0)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-products-view"]],decls:65,vars:6,consts:[[1,"container","mx-auto","flex-1","w-full"],[1,"flex","flex-col","md:flex-row"],[1,"w-full","md:w-64","lg:w-72","p-4","md:p-6","flex-shrink-0"],[1,"sticky","top-24","space-y-8"],[1,"text-xl","font-bold","mb-4"],[1,"space-y-2","text-sm"],["routerLink","/comparativas/cafeteras-de-capsulas",1,"block","text-slate-600","hover:text-orange-600","hover:font-semibold","transition-all"],["routerLink","/comparativas/cafeteras-italianas",1,"block","text-slate-600","hover:text-orange-600","hover:font-semibold","transition-all"],["routerLink","/comparativas/cafeteras-expreso",1,"block","text-slate-600","hover:text-orange-600","hover:font-semibold","transition-all"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","font-bold"],[1,"text-xs","text-orange-600","hover:underline",3,"click"],[1,"space-y-6"],["for","search",1,"font-semibold","text-sm","mb-2","block"],["id","search","type","text","placeholder","Ej: De'Longhi, Nespresso",1,"w-full","px-3","py-2","bg-slate-200/60","rounded-md","border","border-slate-300","focus:outline-none","focus:ring-2","focus:ring-orange-500",3,"ngModelChange","ngModel"],["for","rating",1,"font-semibold","text-sm","mb-2","block"],["id","rating",1,"w-full","px-3","py-2","bg-slate-200/60","rounded-md","border","border-slate-300","focus:outline-none","focus:ring-2","focus:ring-orange-500",3,"ngModelChange","ngModel"],["value","0"],["value","4"],["value","3"],["value","2"],["value","1"],[1,"relative","flex","items-start"],[1,"flex","h-6","items-center"],["id","popular","aria-describedby","popular-description","name","popular","type","checkbox",1,"h-4","w-4","rounded","border-slate-300","text-orange-600","focus:ring-orange-500",3,"ngModelChange","ngModel"],[1,"ml-3","text-sm","leading-6"],["for","popular",1,"font-medium","text-slate-900"],["id","popular-description",1,"text-slate-500"],[1,"flex-1","p-4","md:p-6","border-t","md:border-t-0","md:border-l","border-slate-200","bg-white"],[1,"mb-6","bg-slate-50","p-4","rounded-lg","border","border-slate-200"],[1,"text-xl","font-bold","text-slate-800","mb-2"],[1,"text-sm","text-slate-600"],[1,"text-sm","text-slate-500","mb-4"],[1,"font-bold","text-slate-700"],[1,"text-center","py-20","flex","flex-col","items-center"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","1",1,"h-16","w-16","text-slate-300","mb-4","animate-spin"],["stroke-linecap","round","stroke-linejoin","round","d","M4 4v5h5M20 20v-5h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M4 9a9 9 0 0114.65-4.65l-2.43 2.43a5 5 0 00-8.6 4.9"],["stroke-linecap","round","stroke-linejoin","round","d","M20 15a9 9 0 01-14.65 4.65l2.43-2.43a5 5 0 008.6-4.9"],[1,"text-2xl","font-bold","text-slate-700"],[1,"text-slate-500","mt-2","max-w-sm"],[3,"product"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","1",1,"h-16","w-16","text-slate-300","mb-4"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"mt-6","px-4","py-2","bg-orange-500","text-white","rounded-md","text-sm","hover:bg-orange-600","transition-colors",3,"click"]],template:function(n,r){n&1&&(A(0,"div",0)(1,"div",1)(2,"aside",2)(3,"div",3)(4,"div")(5,"h2",4),N(6,"Comparativas"),k(),A(7,"div",5)(8,"a",6),N(9,"\u203A de C\xE1psulas"),k(),A(10,"a",7),N(11,"\u203A Italianas (Moka)"),k(),A(12,"a",8),N(13,"\u203A Expr\xE9s Autom\xE1ticas"),k()()(),A(14,"div")(15,"div",9)(16,"h2",10),N(17,"Filtros"),k(),A(18,"button",11),$e("click",function(){return r.resetFilters()}),N(19,"Limpiar"),k()(),A(20,"div",12)(21,"div")(22,"label",13),N(23,"Buscar por nombre o marca"),k(),A(24,"input",14),$e("ngModelChange",function(s){return r.searchTerm.set(s)}),k()(),A(25,"div")(26,"label",15),N(27,"Valoraci\xF3n m\xEDnima"),k(),A(28,"select",16),$e("ngModelChange",function(s){return r.minRating.set(+s)}),A(29,"option",17),N(30,"Todas"),k(),A(31,"option",18),N(32,"4+ estrellas"),k(),A(33,"option",19),N(34,"3+ estrellas"),k(),A(35,"option",20),N(36,"2+ estrellas"),k(),A(37,"option",21),N(38,"1+ estrellas"),k()()(),A(39,"div")(40,"div",22)(41,"div",23)(42,"input",24),$e("ngModelChange",function(s){return r.showPopular.set(s)}),k()(),A(43,"div",25)(44,"label",26),N(45,"Popular"),k(),A(46,"p",27),N(47,"Mostrar productos destacados"),k()()()()()()()(),A(48,"main",28)(49,"section",29)(50,"h2",30),N(51,"An\xE1lisis y Comparativas de Cafeteras"),k(),A(52,"p",31),N(53," En esta gu\xEDa te ofrecemos an\xE1lisis detallados y comparativas para ayudarte a elegir la cafetera perfecta. Nuestro objetivo es darte la informaci\xF3n m\xE1s clara y \xFAtil. Ten en cuenta que los precios y la disponibilidad de los productos pueden variar; consulta siempre la p\xE1gina de Amazon para ver la informaci\xF3n final y actualizada. "),k()(),A(54,"p",32),N(55,"Mostrando "),A(56,"span",33),N(57),k(),N(58," de "),A(59,"span",33),N(60),k(),N(61," cafeteras."),k(),Be(62,sQ,9,0,"div",34)(63,aQ,3,0,"div",35)(64,lQ,9,0,"div",34),k()()()),n&2&&(J(24),tt("ngModel",r.searchTerm()),J(4),tt("ngModel",r.minRating()),J(14),tt("ngModel",r.showPopular()),J(15),_t(r.filteredProducts().length),J(3),_t(r.allProducts().length),J(2),Ve(r.allProducts().length===0?62:r.filteredProducts().length>0?63:64))},dependencies:[Us,rv,Zk,tP,Jl,_0,nv,ev,zd,ar],encapsulation:2,changeDetection:0})}};var cQ=(t,e)=>e.id;function dQ(t,e){if(t&1&&Fe(0,"app-product-card",10),t&2){let n=e.$implicit;tt("product",n)}}function fQ(t,e){if(t&1&&(A(0,"div",8),bs(1,dQ,1,1,"app-product-card",10,cQ),k()),t&2){let n=We(2);J(),Ns(n.products())}}function pQ(t,e){t&1&&(A(0,"p",9),N(1,"No se encontraron productos para esta categor\xEDa en este momento."),k())}function hQ(t,e){if(t&1&&(A(0,"a",1),N(1,"\u2039 Volver al cat\xE1logo"),k(),A(2,"h1",2),N(3),k(),A(4,"div",3)(5,"p"),N(6),k(),A(7,"p"),N(8),k(),A(9,"div",4)(10,"h3",5),N(11,"\xBFPara qui\xE9n es ideal?"),k(),A(12,"p",6),N(13),k()()(),A(14,"h2",7),N(15,"Modelos Recomendados"),k(),Be(16,fQ,3,0,"div",8)(17,pQ,2,0,"p",9)),t&2){let n=e,r=We();J(3),_t(n.title),J(3),_t(n.intro.split(`

`)[0]),J(2),_t(n.intro.split(`

`)[1]),J(5),_t(n.profile),J(3),Ve(r.products().length>0?16:17)}}function mQ(t,e){t&1&&(A(0,"h1",11),N(1,"P\xE1gina no encontrada"),k(),A(2,"p",12),N(3,"La comparativa que buscas no existe."),k())}var gQ={"cafeteras-de-capsulas":{title:"An\xE1lisis de Cafeteras de C\xE1psulas",intro:`Las cafeteras de c\xE1psulas han revolucionado la forma en que muchos disfrutan del caf\xE9 en casa. Su principal atractivo reside en la comodidad y la rapidez: insertas una c\xE1psula, pulsas un bot\xF3n y en menos de un minuto tienes un caf\xE9 de calidad consistente. Son perfectas para quienes tienen una rutina ajetreada y no quieren complicarse con el molido del grano o la limpieza de la m\xE1quina.

Adem\xE1s de la sencillez, ofrecen una enorme variedad de sabores y tipos de bebida, desde un espresso intenso hasta un capuchino o un chocolate caliente, todo gracias a la amplia gama de c\xE1psulas compatibles disponibles en el mercado. Esto las convierte en una opci\xF3n muy vers\xE1til para satisfacer los gustos de toda la familia.`,profile:"Este tipo de cafetera es ideal para personas que valoran la conveniencia por encima de todo. Si buscas rapidez, limpieza y una calidad de caf\xE9 constante sin esfuerzo, la cafetera de c\xE1psulas es tu mejor aliada. Tambi\xE9n es una gran opci\xF3n para hogares donde cada persona tiene una preferencia de bebida diferente."},"cafeteras-italianas":{title:"An\xE1lisis de Cafeteras Italianas (Moka)",intro:`La cafetera italiana, tambi\xE9n conocida como Moka, es un icono del dise\xF1o y de la cultura del caf\xE9. Este m\xE9todo de preparaci\xF3n por percolaci\xF3n produce un caf\xE9 con cuerpo, arom\xE1tico y con una intensidad similar a la del espresso, pero sin la necesidad de una m\xE1quina grande y costosa. Su funcionamiento es sencillo y se basa en la presi\xF3n del vapor de agua para hacer pasar el agua a trav\xE9s del caf\xE9 molido.

Utilizar una cafetera Moka es un ritual para muchos amantes del caf\xE9. El sonido del caf\xE9 subiendo y el aroma que inunda la cocina son parte de una experiencia aut\xE9ntica y tradicional. Son duraderas, port\xE1tiles y funcionan en casi cualquier tipo de fuego, lo que las hace perfectas tanto para casa como para llevar de viaje.`,profile:"Es la elecci\xF3n perfecta para los puristas del caf\xE9 que disfrutan del proceso de preparaci\xF3n y buscan un sabor intenso y tradicional. Si aprecias los rituales, te gusta controlar la molienda y la cantidad de caf\xE9, y quieres una cafetera robusta que te dure toda la vida, la Moka no te decepcionar\xE1."},"cafeteras-expreso":{title:"An\xE1lisis de Cafeteras Expr\xE9s Autom\xE1ticas",intro:`Las cafeteras expr\xE9s autom\xE1ticas (o superautom\xE1ticas) representan la vanguardia de la tecnolog\xEDa del caf\xE9 en el hogar. Estas m\xE1quinas lo hacen todo: muelen el grano al instante, dosifican la cantidad perfecta, prensan el caf\xE9 y extraen un espresso de alta calidad con solo pulsar un bot\xF3n. Ofrecen una experiencia "bean-to-cup" (del grano a la taza) que garantiza la m\xE1xima frescura y sabor.

Su principal ventaja es la personalizaci\xF3n. Permiten ajustar la intensidad del caf\xE9, el grado de molienda, la temperatura y la cantidad de agua, guardando a menudo estas preferencias en perfiles de usuario. Muchos modelos incluyen tambi\xE9n vaporizadores autom\xE1ticos para crear cappuccinos y lattes con una espuma perfecta, replicando la experiencia de una cafeter\xEDa profesional en casa.`,profile:"Ideal para los entusiastas del caf\xE9 que desean la m\xE1xima calidad y frescura sin complicaciones. Si quieres disfrutar de un espresso perfecto y personalizado cada d\xEDa, experimentar con diferentes granos de caf\xE9 y tener la comodidad de una m\xE1quina que se limpia sola, una cafetera expr\xE9s autom\xE1tica es la inversi\xF3n definitiva."}},av=class t{constructor(){this.productService=b(pi);this.tipo=Dr(null);this.content=nn(()=>{let e=this.tipo();return e?gQ[e]:null});this.products=nn(()=>{let e=this.tipo(),n=this.productService.getProducts()();if(!e)return[];switch(e){case"cafeteras-de-capsulas":return n.filter(r=>r.name.toLowerCase().includes("c\xE1psulas"));case"cafeteras-italianas":return n.filter(r=>/italiana|moka/i.test(r.name));case"cafeteras-expreso":return n.filter(r=>/automtica|superautomtica|espresso/i.test(r.name)&&!/cpsulas/i.test(r.name));default:return[]}});console.log("[EDITORIAL] Navegaci\xF3n inversa disponible:",!0),ri(()=>{let e=this.tipo();e&&console.log("[EDITORIAL] P\xE1gina comparativa cargada:",e)})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-comparativa"]],inputs:{tipo:[1,"tipo"]},decls:3,vars:1,consts:[[1,"bg-white","p-6","md:p-10","rounded-lg","shadow-sm","border","border-slate-200"],["routerLink","/",1,"text-sm","text-orange-600","hover:underline","mb-6","inline-block"],[1,"text-3xl","font-bold","text-slate-800","mb-4"],[1,"prose","prose-slate","max-w-none","space-y-4","text-slate-600","mb-8"],[1,"p-4","bg-slate-50","border-l-4","border-orange-500","rounded-r-lg"],[1,"font-semibold","text-slate-800"],[1,"!mt-2"],[1,"text-2xl","font-bold","text-slate-800","mb-6","border-b","pb-2"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6"],[1,"text-slate-500"],[3,"product"],[1,"text-3xl","font-bold"],[1,"text-slate-500","mt-4"]],template:function(n,r){if(n&1&&(A(0,"div",0),Be(1,hQ,18,5)(2,mQ,4,0),k()),n&2){let i;J(),Ve((i=r.content())?1:2,i)}},dependencies:[Us,ar],encapsulation:2,changeDetection:0})}};function vQ(t,e){if(t&1&&(A(0,"div",5),Fe(1,"img",16),k()),t&2){let n=We();J(),tt("src",n.image_url,Is)("alt",n.name)}}function yQ(t,e){t&1&&(A(0,"span",21),N(1,"|"),k())}function EQ(t,e){if(t&1&&(A(0,"div",17),Ft(),A(1,"svg",18),Fe(2,"path",19),k(),tn(),A(3,"span",20),N(4),k()(),Be(5,yQ,2,0,"span",21)),t&2){let n=We();J(4),_t(n.rating_num),J(),Ve(n.reviews_count?5:-1)}}function CQ(t,e){if(t&1&&(A(0,"span"),N(1),k()),t&2){let n=We();J(),Xo("Basado en ",n.reviews_count," rese\xF1as")}}function wQ(t,e){if(t&1&&(A(0,"div",0)(1,"a",2),N(2,"\u2039 Volver al cat\xE1logo"),k(),A(3,"div",3)(4,"div",4),Be(5,vQ,2,2,"div",5),k(),A(6,"div",6)(7,"h1",7),N(8),k(),A(9,"div",8),Be(10,EQ,6,2),Be(11,CQ,2,1,"span"),k(),A(12,"div",9)(13,"p"),N(14,"Este modelo es una opci\xF3n destacada dentro de su categor\xEDa, ofreciendo un equilibrio entre funcionalidad y dise\xF1o. Ha sido seleccionada por nuestro equipo por su fiabilidad y las valoraciones positivas de los usuarios."),k(),A(15,"p"),N(16,"Es especialmente adecuada para quienes buscan una experiencia de caf\xE9 superior en casa sin una gran complicaci\xF3n. Su dise\xF1o se adapta bien a la mayor\xEDa de las cocinas modernas, y su funcionamiento est\xE1 pensado para ser intuitivo para el usuario medio."),k(),A(17,"div",10)(18,"h3",11),N(19,"Nuestra valoraci\xF3n editorial"),k(),A(20,"p",12),N(21,"Consideramos que este producto ofrece una excelente propuesta para su perfil de usuario. Aunque siempre recomendamos revisar las especificaciones completas en la p\xE1gina del vendedor, es una de las opciones m\xE1s consistentes que hemos analizado en su rango."),k()()(),A(22,"div",13)(23,"p",14),N(24,"Para ver detalles actualizados, especificaciones y la informaci\xF3n m\xE1s reciente, consulta la p\xE1gina oficial del producto en Amazon."),k(),A(25,"a",15),N(26," Ver en Amazon "),k()()()()()),t&2){let n=e;J(5),Ve(n.image_url?5:-1),J(3),_t(n.name),J(2),Ve(n.rating_num?10:-1),J(),Ve(n.reviews_count?11:-1),J(14),tt("href",n.amazon_url,Is)}}function _Q(t,e){t&1&&(A(0,"div",1)(1,"h3",22),N(2,"Producto no encontrado"),k(),A(3,"p",23),N(4,"No hemos podido encontrar el producto que buscas."),k(),A(5,"a",24),N(6,"Volver al cat\xE1logo"),k()())}var lv=class t{constructor(){this.productService=b(pi);this.asin=Dr.required();this.product=nn(()=>this.productService.getProducts()().find(e=>e.asin===this.asin())??null);console.log("[EDITORIAL] Navegaci\xF3n inversa disponible:",!0),ri(()=>{let e=this.product();e&&console.log("[EDITORIAL] Ficha editorial de producto cargada:",e.asin)})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-producto-detalle"]],inputs:{asin:[1,"asin"]},decls:2,vars:1,consts:[[1,"bg-white","p-6","md:p-10","rounded-lg","shadow-sm","border","border-slate-200"],[1,"text-center","py-20"],["routerLink","/",1,"text-sm","text-orange-600","hover:underline","mb-6","inline-block"],[1,"flex","flex-col","md:flex-row","gap-8"],[1,"md:w-1/3"],[1,"bg-slate-50","rounded-lg","border","p-4","sticky","top-24"],[1,"md:w-2/3"],[1,"text-2xl","md:text-3xl","font-bold","text-slate-800"],[1,"flex","items-center","gap-2","mt-2","text-sm","text-slate-500","mb-4"],[1,"prose","prose-slate","max-w-none","space-y-4","text-slate-600"],[1,"p-4","bg-slate-50","border-l-4","border-orange-500","rounded-r-lg","!my-6"],[1,"font-semibold","text-slate-800"],[1,"!mt-2"],[1,"mt-8","pt-6","border-t"],[1,"text-sm","text-slate-500","mb-2"],["target","_blank","rel","noopener sponsored",1,"inline-block","w-full","md:w-auto","bg-orange-500","hover:bg-orange-600","text-white","font-bold","py-3","px-6","rounded-lg","text-center","transition-colors","duration-300",3,"href"],[1,"w-full","h-auto","object-contain",3,"src","alt"],[1,"flex","items-center","gap-1","text-amber-500"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-4","w-4"],["d","M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"],[1,"font-bold","text-slate-700"],[1,"text-slate-300"],[1,"text-2xl","font-bold","text-slate-700"],[1,"text-slate-500","mt-2"],["routerLink","/",1,"mt-6","inline-block","px-4","py-2","bg-orange-500","text-white","rounded-md","text-sm","hover:bg-orange-600","transition-colors"]],template:function(n,r){if(n&1&&Be(0,wQ,27,5,"div",0)(1,_Q,7,0,"div",1),n&2){let i;Ve((i=r.product())?0:1,i)}},dependencies:[ar],encapsulation:2,changeDetection:0})}};var uv=class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-aviso-legal"]],decls:28,vars:0,consts:[[1,"container","mx-auto","p-6","md:p-10","bg-white","rounded-lg","shadow-sm","border","border-slate-200"],[1,"text-2xl","font-bold","text-slate-800","mb-4"],[1,"prose","prose-slate","max-w-none","space-y-4","text-sm","text-slate-600"]],template:function(n,r){n&1&&(qe(0,"div",0)(1,"h2",1),N(2,"Aviso Legal"),ye(),qe(3,"div",2)(4,"p")(5,"strong"),N(6,"1. DATOS IDENTIFICATIVOS:"),ye(),N(7," En cumplimiento con el deber de informaci\xF3n recogido en art\xEDculo 10 de la Ley 34/2002, de 11 de julio, de Servicios de la Sociedad de la Informaci\xF3n y del Comercio Electr\xF3nico, a continuaci\xF3n se reflejan los siguientes datos: la empresa titular de dominio web es [Nombre de la Empresa o Titular], con domicilio a estos efectos en [Direcci\xF3n Completa] n\xFAmero de C.I.F.: [N\xFAmero de C.I.F.] inscrita en el Registro Mercantil de [Ciudad] en el tomo [Tomo], folio [Folio], hoja [Hoja], inscripci\xF3n [Inscripci\xF3n]. Correo electr\xF3nico de contacto: [Correo Electr\xF3nico]."),ye(),qe(8,"p")(9,"strong"),N(10,"2. USUARIOS:"),ye(),N(11," El acceso y/o uso de este portal de [Nombre de la Empresa o Titular] atribuye la condici\xF3n de USUARIO, que acepta, desde dicho acceso y/o uso, las Condiciones Generales de Uso aqu\xED reflejadas. Las citadas Condiciones ser\xE1n de aplicaci\xF3n independientemente de las Condiciones Generales de Contrataci\xF3n que en su caso resulten de obligado cumplimiento."),ye(),qe(12,"p")(13,"strong"),N(14,"3. USO DEL PORTAL:"),ye(),N(15,' El dominio web proporciona el acceso a multitud de informaciones, servicios, programas o datos (en adelante, "los contenidos") en Internet pertenecientes a [Nombre de la Empresa o Titular] o a sus licenciantes a los que el USUARIO pueda tener acceso. El USUARIO asume la responsabilidad del uso del portal.'),ye(),qe(16,"p")(17,"strong"),N(18,"4. PROPIEDAD INTELECTUAL E INDUSTRIAL:"),ye(),N(19," [Nombre de la Empresa o Titular] por s\xED o como cesionaria, es titular de todos los derechos de propiedad intelectual e industrial de su p\xE1gina web, as\xED como de los elementos contenidos en la misma (a t\xEDtulo enunciativo, im\xE1genes, textos, marcas o logotipos, etc.), titularidad de [Nombre de la Empresa o Titular] o bien de sus licenciantes."),ye(),qe(20,"p")(21,"strong"),N(22,"5. EXCLUSI\xD3N DE GARANT\xCDAS Y RESPONSABILIDAD:"),ye(),N(23," [Nombre de la Empresa o Titular] no se hace responsable, en ning\xFAn caso, de los da\xF1os y perjuicios de cualquier naturaleza que pudieran ocasionar, a t\xEDtulo enunciativo: errores u omisiones en los contenidos, falta de disponibilidad del portal o la transmisi\xF3n de virus o programas maliciosos."),ye(),qe(24,"p")(25,"strong"),N(26,"6. LEGISLACI\xD3N APLICABLE Y JURISDICCI\xD3N:"),ye(),N(27," La relaci\xF3n entre [Nombre de la Empresa o Titular] y el USUARIO se regir\xE1 por la normativa espa\xF1ola vigente y cualquier controversia se someter\xE1 a los Juzgados y tribunales de la ciudad de [Ciudad]."),ye()()())},encapsulation:2,changeDetection:0})}};var cv=class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-politica-privacidad"]],decls:20,vars:0,consts:[[1,"container","mx-auto","p-6","md:p-10","bg-white","rounded-lg","shadow-sm","border","border-slate-200"],[1,"text-2xl","font-bold","text-slate-800","mb-4"],[1,"prose","prose-slate","max-w-none","space-y-4","text-sm","text-slate-600"]],template:function(n,r){n&1&&(qe(0,"div",0)(1,"h2",1),N(2,"Pol\xEDtica de Privacidad"),ye(),qe(3,"div",2)(4,"p"),N(5,"La presente Pol\xEDtica de Privacidad establece los t\xE9rminos en que [Nombre de la Empresa o Titular] usa y protege la informaci\xF3n que es proporcionada por sus usuarios al momento de utilizar su sitio web. Esta compa\xF1\xEDa est\xE1 comprometida con la seguridad de los datos de sus usuarios. Cuando le pedimos llenar los campos de informaci\xF3n personal con la cual usted pueda ser identificado, lo hacemos asegurando que s\xF3lo se emplear\xE1 de acuerdo con los t\xE9rminos de este documento."),ye(),qe(6,"p")(7,"strong"),N(8,"Informaci\xF3n que es recogida:"),ye(),N(9," Nuestro sitio web podr\xE1 recoger informaci\xF3n personal por ejemplo: Nombre, informaci\xF3n de contacto como su direcci\xF3n de correo electr\xF3nica e informaci\xF3n demogr\xE1fica. As\xED mismo cuando sea necesario podr\xE1 ser requerida informaci\xF3n espec\xEDfica para procesar alg\xFAn pedido o realizar una entrega o facturaci\xF3n."),ye(),qe(10,"p")(11,"strong"),N(12,"Uso de la informaci\xF3n recogida:"),ye(),N(13," Nuestro sitio web emplea la informaci\xF3n con el fin de proporcionar el mejor servicio posible, particularmente para mantener un registro de usuarios, de pedidos en caso que aplique, y mejorar nuestros productos y servicios. Es posible que sean enviados correos electr\xF3nicos peri\xF3dicamente a trav\xE9s de nuestro sitio con ofertas especiales, nuevos productos y otra informaci\xF3n publicitaria que consideremos relevante para usted o que pueda brindarle alg\xFAn beneficio."),ye(),qe(14,"p")(15,"strong"),N(16,"Control de su informaci\xF3n personal:"),ye(),N(17," En cualquier momento usted puede restringir la recopilaci\xF3n o el uso de la informaci\xF3n personal que es proporcionada a nuestro sitio web. Esta compa\xF1\xEDa no vender\xE1, ceder\xE1 ni distribuir\xE1 la informaci\xF3n personal que es recopilada sin su consentimiento, salvo que sea requerido por un juez con un orden judicial."),ye(),qe(18,"p"),N(19,"[Nombre de la Empresa o Titular] se reserva el derecho de cambiar los t\xE9rminos de la presente Pol\xEDtica de Privacidad en cualquier momento."),ye()()())},encapsulation:2,changeDetection:0})}};var dv=class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-politica-cookies"]],decls:14,vars:0,consts:[[1,"container","mx-auto","p-6","md:p-10","bg-white","rounded-lg","shadow-sm","border","border-slate-200"],[1,"text-2xl","font-bold","text-slate-800","mb-4"],[1,"prose","prose-slate","max-w-none","space-y-4","text-sm","text-slate-600"]],template:function(n,r){n&1&&(qe(0,"div",0)(1,"h2",1),N(2,"Pol\xEDtica de Cookies"),ye(),qe(3,"div",2)(4,"p"),N(5,"Una cookie se refiere a un fichero que es enviado con la finalidad de solicitar permiso para almacenarse en su ordenador, al aceptar dicho fichero se crea y la cookie sirve entonces para tener informaci\xF3n respecto al tr\xE1fico web, y tambi\xE9n facilita las futuras visitas a una web recurrente. Otra funci\xF3n que tienen las cookies es que con ellas las web pueden reconocerte individualmente y por tanto brindarte el mejor servicio personalizado de su web."),ye(),qe(6,"p"),N(7,"Nuestro sitio web emplea las cookies para poder identificar las p\xE1ginas que son visitadas y su frecuencia. Esta informaci\xF3n es empleada \xFAnicamente para an\xE1lisis estad\xEDstico y despu\xE9s la informaci\xF3n se elimina de forma permanente. Usted puede eliminar las cookies en cualquier momento desde su ordenador. Sin embargo las cookies ayudan a proporcionar un mejor servicio de los sitios web, est\xE1s no dan acceso a informaci\xF3n de su ordenador ni de usted, a menos de que usted as\xED lo quiera y la proporcione directamente."),ye(),qe(8,"p"),N(9,"Usted puede aceptar o negar el uso de cookies, sin embargo la mayor\xEDa de navegadores aceptan cookies autom\xE1ticamente pues sirve para tener un mejor servicio web. Tambi\xE9n usted puede cambiar la configuraci\xF3n de su ordenador para declinar las cookies. Si se declinan es posible que no pueda utilizar algunos de nuestros servicios."),ye(),qe(10,"p")(11,"strong"),N(12,"Cookies de afiliados:"),ye(),N(13," Este sitio web participa en el Programa de Afiliados de Amazon EU, un programa de publicidad para afiliados dise\xF1ado para ofrecer a sitios web un modo de obtener comisiones por publicidad, publicitando e incluyendo enlaces a Amazon.es. Amazon y el logo de Amazon son marcas registradas de Amazon.com, Inc. o sus afiliados."),ye()()())},encapsulation:2,changeDetection:0})}};var rP=[{path:"",component:ov,pathMatch:"full"},{path:"comparativas/:tipo",component:av},{path:"producto/:asin",component:lv},{path:"aviso-legal",component:uv},{path:"politica-privacidad",component:cv},{path:"politica-cookies",component:dv},{path:"**",redirectTo:""}];F_(sv,{providers:[__(),$_(),dS(rP,fS(),pS())]}).catch(t=>console.error(t));
